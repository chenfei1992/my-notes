<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue å¼€å‘å¿…çŸ¥ | ç¬”è®°</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/my-notes/assets/css/0.styles.8d5c52f4.css" as="style"><link rel="preload" href="/my-notes/assets/js/app.16f8aaf3.js" as="script"><link rel="preload" href="/my-notes/assets/js/2.e5008c4e.js" as="script"><link rel="preload" href="/my-notes/assets/js/19.9a5a9720.js" as="script"><link rel="prefetch" href="/my-notes/assets/js/10.96166ea4.js"><link rel="prefetch" href="/my-notes/assets/js/11.0fa5bc13.js"><link rel="prefetch" href="/my-notes/assets/js/12.b889c3fd.js"><link rel="prefetch" href="/my-notes/assets/js/13.8220dcff.js"><link rel="prefetch" href="/my-notes/assets/js/14.6d8ca6e7.js"><link rel="prefetch" href="/my-notes/assets/js/15.2145b756.js"><link rel="prefetch" href="/my-notes/assets/js/16.340bba96.js"><link rel="prefetch" href="/my-notes/assets/js/17.0121779c.js"><link rel="prefetch" href="/my-notes/assets/js/18.f8320c93.js"><link rel="prefetch" href="/my-notes/assets/js/20.e9d7a1f7.js"><link rel="prefetch" href="/my-notes/assets/js/21.6a5a02b7.js"><link rel="prefetch" href="/my-notes/assets/js/22.a4be886a.js"><link rel="prefetch" href="/my-notes/assets/js/23.b942f0ff.js"><link rel="prefetch" href="/my-notes/assets/js/24.d7409098.js"><link rel="prefetch" href="/my-notes/assets/js/25.85971ca2.js"><link rel="prefetch" href="/my-notes/assets/js/26.7071cbd6.js"><link rel="prefetch" href="/my-notes/assets/js/27.4da33cc5.js"><link rel="prefetch" href="/my-notes/assets/js/28.659c9545.js"><link rel="prefetch" href="/my-notes/assets/js/29.edccebc4.js"><link rel="prefetch" href="/my-notes/assets/js/3.3e981511.js"><link rel="prefetch" href="/my-notes/assets/js/30.1fd0e1b6.js"><link rel="prefetch" href="/my-notes/assets/js/31.4ea4230e.js"><link rel="prefetch" href="/my-notes/assets/js/4.c1c90f31.js"><link rel="prefetch" href="/my-notes/assets/js/5.eebaa9d5.js"><link rel="prefetch" href="/my-notes/assets/js/6.3384fe55.js"><link rel="prefetch" href="/my-notes/assets/js/7.4694a845.js"><link rel="prefetch" href="/my-notes/assets/js/8.134c8f06.js"><link rel="prefetch" href="/my-notes/assets/js/9.68bd4056.js">
    <link rel="stylesheet" href="/my-notes/assets/css/0.styles.8d5c52f4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-notes/" class="home-link router-link-active"><!----> <span class="site-name">ç¬”è®°</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-notes/demoPages/" class="nav-link">
  Demo
</a></div><div class="nav-item"><a href="/my-notes/tools/" class="nav-link">
  å·¥å…·åº“
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-notes/demoPages/" class="nav-link">
  Demo
</a></div><div class="nav-item"><a href="/my-notes/tools/" class="nav-link">
  å·¥å…·åº“
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/my-notes/" aria-current="page" class="sidebar-link">éšå½•</a></li><li><a href="/my-notes/VirtualDom/" class="sidebar-link">è™šæ‹ŸDOM</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>VUE</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-notes/vue/" class="sidebar-link">vue åŸç†åˆ†æ</a></li><li><a href="/my-notes/vueRouter/" class="sidebar-link">vueRouter</a></li><li><a href="/my-notes/mustKnow/" aria-current="page" class="active sidebar-link">vue å¼€å‘å¿…çŸ¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_1-watch" class="sidebar-link">ğŸ 1. watch</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_2-ç»„ä»¶é€šè®¯" class="sidebar-link">ğŸ 2. ç»„ä»¶é€šè®¯</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_3-render-å‡½æ•°" class="sidebar-link">ğŸ 3. render å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_4-å¼‚æ­¥ç»„ä»¶" class="sidebar-link">ğŸ 4. å¼‚æ­¥ç»„ä»¶</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_5-vue-extend" class="sidebar-link">ğŸ 5. Vue.extend</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_6-extends" class="sidebar-link">ğŸ 6. extends</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_7-vue-directive" class="sidebar-link">ğŸ 7. Vue.directive</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_7-ç”Ÿå‘½å‘¨æœŸ" class="sidebar-link">ğŸ 7. ç”Ÿå‘½å‘¨æœŸ</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_8-vue-filter" class="sidebar-link">ğŸ 8. Vue.filter</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_9-vue-compile" class="sidebar-link">ğŸ 9. Vue.compile</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_9-vue-version" class="sidebar-link">ğŸ 9. Vue.version</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_11-vue-set" class="sidebar-link">ğŸ 11. Vue.set()</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_12-vue-config-keycodes" class="sidebar-link">ğŸ 12. Vue.config.keyCodes</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_13-vue-config-performance" class="sidebar-link">ğŸ 13. Vue.config.performance</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_14-vue-config-errorhandler" class="sidebar-link">ğŸ 14. Vue.config.errorHandler</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_15-vue-config-warnhandler" class="sidebar-link">ğŸ 15. Vue.config.warnHandler</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_16-v-pre" class="sidebar-link">ğŸ 16. v-pre</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_17-v-cloak" class="sidebar-link">ğŸ 17. v-cloak</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_18-object-freeze" class="sidebar-link">ğŸ 18. Object.freeze</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_19-è°ƒè¯•-template" class="sidebar-link">ğŸ 19. è°ƒè¯• template</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_20-vue-loader" class="sidebar-link">ğŸ 20. vue-loader</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_21-img-åŠ è½½å¤±è´¥" class="sidebar-link">ğŸ 21. img åŠ è½½å¤±è´¥</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_21-è·¯ç”±è§£è€¦å‚æ•°" class="sidebar-link">ğŸ 21. è·¯ç”±è§£è€¦å‚æ•°</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_22-å‡½æ•°å¼ç»„ä»¶" class="sidebar-link">ğŸ 22. å‡½æ•°å¼ç»„ä»¶</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#_23-watché«˜é˜¶ä½¿ç”¨" class="sidebar-link">ğŸ 23. watché«˜é˜¶ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/my-notes/mustKnow/#äº‹ä»¶å‚æ•°-event" class="sidebar-link">äº‹ä»¶å‚æ•°$event</a></li></ul></li><li><a href="/my-notes/vueInterview/" class="sidebar-link">vue é¢è¯•é¢˜</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å°ç¨‹åº</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>REACT</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ¡£æ¡ˆ</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/my-notes/packages/" class="sidebar-link">åŸç”Ÿå°è£…</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>åŸç†åˆ†æ</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/my-notes/h5Development/" class="sidebar-link">H5 å¼€å‘æŠ€å·§</a></li><li><a href="/my-notes/cssModule/" class="sidebar-link">CSS æ–‡æ¡£</a></li><li><a href="/my-notes/javascript/" class="sidebar-link">javascript</a></li><li><a href="/my-notes/typeScript/" class="sidebar-link">typeScript</a></li><li><a href="/my-notes/ASM/" class="sidebar-link">ASM.js</a></li><li><a href="/my-notes/%E9%9D%A2%E8%AF%95/" class="sidebar-link">é¢è¯•</a></li><li><a href="/my-notes/indexedDB/" class="sidebar-link">indexedDB</a></li><li><a href="/my-notes/toolFunction/" class="sidebar-link">toolFunction</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ„å»ºå·¥å…·</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/my-notes/http/" class="sidebar-link">HTTP</a></li><li><a href="/my-notes/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="sidebar-link">æ€§èƒ½ä¼˜åŒ–</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-å¼€å‘å¿…çŸ¥">vue å¼€å‘å¿…çŸ¥</h1> <h2 id="_1-watch">ğŸ 1. watch</h2> <p>1.åœºæ™¯ï¼šè¡¨æ ¼åˆå§‹åŒ–è¿›æ¥éœ€è¦è°ƒæŸ¥è¯¢æ¥å£ getList()ï¼Œç„¶å input æ”¹å˜ä¼šé‡æ–°æŸ¥è¯¢</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
watch<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">inpVal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// åˆ©ç”¨watchçš„immediateå’Œhandlerå±æ€§ç®€å†™</span>
watch<span class="token operator">:</span><span class="token punctuation">{</span>
  inpVal<span class="token operator">:</span><span class="token punctuation">{</span>
    handler<span class="token operator">:</span><span class="token string">'getList'</span><span class="token punctuation">,</span>
    immediate<span class="token operator">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//æ·±åº¦ç›‘å¬</span>
watch<span class="token operator">:</span><span class="token punctuation">{</span>
  inpValObj<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span>oldVal</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>oldVal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    deep<span class="token operator">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2-ç»„ä»¶é€šè®¯">ğŸ 2. ç»„ä»¶é€šè®¯</h2> <p>2.1 props</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ•°ç»„ï¼šä¸å»ºè®®ä½¿ç”¨ props:[]</span>
<span class="token comment">//å¯¹è±¡</span>
props<span class="token operator">:</span><span class="token punctuation">{</span>
  inpVal<span class="token operator">:</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span>Number<span class="token punctuation">,</span>
    required<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span>
    validator<span class="token operator">:</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// è¿™ä¸ªå€¼å¿…é¡»åŒ¹é…ä¸‹åˆ—å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ª</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'success'</span><span class="token punctuation">,</span><span class="token string">'warning'</span><span class="token punctuation">,</span><span class="token string">'danger'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.2 $emit</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token operator">&lt;</span>home @title<span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// å­ç»„ä»¶</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">{</span>title<span class="token operator">:</span><span class="token string">'è¿™æ˜¯title'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>2.3 vuex</p> <div class="language-js extra-class"><pre class="language-js"><code>state<span class="token operator">:</span> å®šä¹‰å­˜è´®æ•°æ®çš„ä»“åº“ï¼Œå¯é€šè¿‡<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>stateæˆ–mapStateè®¿é—®
getter<span class="token operator">:</span>è·å–storeå€¼ï¼Œå¯è®¤ä¸ºæ˜¯storeçš„è®¡ç®—å±æ€§ï¼Œå¯é€šè¿‡<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getteræˆ–mapGettersè®¿é—®
mutation<span class="token operator">:</span>åŒæ­¥æ”¹å˜storeå€¼ï¼Œä¸ºä»€ä¹ˆä¼šè®¾è®¡æˆåŒæ­¥ï¼Œå› ä¸ºmutationæ˜¯ç›´æ¥æ”¹å˜storeå€¼ï¼Œvueå¯¹æ“ä½œè¿›è¡Œäº†è®°å½•ï¼Œå¦‚æœæ˜¯å¼‚æ­¥æ— æ³•è¿½è¸ªæ”¹å˜ã€‚å¯é€šè¿‡mapMutationsè°ƒç”¨
action<span class="token operator">:</span>å¼‚æ­¥è°ƒç”¨å‡½æ•°æ‰§è¡Œmutationï¼Œè¿›è€Œæ”¹å˜storeå€¼ï¼Œå¯é€šè¿‡<span class="token keyword">this</span><span class="token punctuation">.</span>$dispatchæˆ–mapActionsè®¿é—®
modules<span class="token operator">:</span>æ¨¡å—ï¼Œå¦‚æœçŠ¶æ€è¿‡å¤šï¼Œå¯ä»¥æ‹†åˆ†æˆæ¨¡å—ï¼Œæœ€ååœ¨å…¥å£é€šè¿‡<span class="token operator">...</span>è§£æ„å¼•å…¥
</code></pre></div><p>2.4 attrs å’Œ listeners
attrs
åœºæ™¯:å¦‚æœçˆ¶ä¼ å­æœ‰å¾ˆå¤šå€¼,é‚£ä¹ˆåœ¨å­ç»„ä»¶éœ€è¦å®šä¹‰å¤šä¸ª props
è§£å†³:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token operator">&lt;</span>home title<span class="token operator">=</span><span class="token string">&quot;è¿™æ˜¯æ ‡é¢˜&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;80&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;80&quot;</span> imgUrl<span class="token operator">=</span><span class="token string">&quot;imgUrl&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// å­ç»„ä»¶</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$attrs<span class="token punctuation">)</span> <span class="token comment">//{title: &quot;è¿™æ˜¯æ ‡é¢˜&quot;, width: &quot;80&quot;, height: &quot;80&quot;, imgUrl: &quot;imgUrl&quot;}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>listeners
åœºæ™¯:å­ç»„ä»¶éœ€è¦è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•
è§£å†³:çˆ¶ç»„ä»¶çš„æ–¹æ³•å¯ä»¥é€šè¿‡ v-on=&quot;listeners&quot; ä¼ å…¥å†…éƒ¨ç»„ä»¶â€”â€”åœ¨åˆ›å»ºæ›´é«˜å±‚æ¬¡çš„ç»„ä»¶æ—¶éå¸¸æœ‰ç”¨</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token operator">&lt;</span>home @change<span class="token operator">=</span><span class="token string">&quot;change&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// å­ç»„ä»¶</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$listeners<span class="token punctuation">)</span> <span class="token comment">// å³å¯æ‹¿åˆ°changeäº‹ä»¶</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.5 provide å’Œ inject
provide å’Œ inject ä¸»è¦ä¸ºé«˜é˜¶æ’ä»¶/ç»„ä»¶åº“æä¾›ç”¨ä¾‹ã€‚å¹¶ä¸æ¨èç›´æ¥ç”¨äºåº”ç”¨ç¨‹åºä»£ç ä¸­ï¼›å¹¶ä¸”è¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨ï¼›ä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
provide<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token comment">//  provideæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæä¾›ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•</span>
  foo<span class="token operator">:</span><span class="token string">'è¿™æ˜¯ foo'</span>
  <span class="token function-variable function">fooMethod</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'çˆ¶ç»„ä»¶ fooMethodè¢«è°ƒç”¨'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// å­æˆ–è€…å­™å­ç»„ä»¶</span>
inject<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span><span class="token string">'fooMethod'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// æ•°ç»„æˆ–è€…å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å­ç»„ä»¶</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fooMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// åœ¨çˆ¶ç»„ä»¶ä¸‹é¢æ‰€æœ‰çš„å­ç»„ä»¶éƒ½å¯ä»¥åˆ©ç”¨inject</span>
</code></pre></div><p>provide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯å®˜æ–¹åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±æ€§è¿˜æ˜¯å¯å“åº”çš„ï¼Œå¯¹è±¡æ˜¯å› ä¸ºå¼•ç”¨ç±»å‹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
provide<span class="token operator">:</span><span class="token punctuation">{</span>
  foo<span class="token operator">:</span><span class="token string">'è¿™æ˜¯ foo'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'è¿™æ˜¯æ–°çš„ foo'</span>
<span class="token punctuation">}</span>
<span class="token comment">// å­æˆ–è€…å­™å­ç»„ä»¶</span>
inject<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token comment">// å­ç»„ä»¶æ‰“å°çš„è¿˜æ˜¯'è¿™æ˜¯ foo'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.6 parent å’Œ children</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$children<span class="token punctuation">)</span>
  <span class="token comment">// å¯ä»¥æ‹¿åˆ° ä¸€çº§å­ç»„ä»¶çš„å±æ€§å’Œæ–¹æ³•</span>
  <span class="token comment">// æ‰€ä»¥å°±å¯ä»¥ç›´æ¥æ”¹å˜ dataï¼Œæˆ–è€…è°ƒç”¨ methodsæ–¹æ³•</span>
<span class="token punctuation">}</span>
<span class="token comment">// å­ç»„ä»¶</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">)</span> <span class="token comment">// å¯ä»¥æ‹¿åˆ° parentçš„å±æ€§å’Œæ–¹æ³•</span>
<span class="token punctuation">}</span>
<span class="token comment">//  childrenå’Œparentå¹¶ä¸ä¿è¯é¡ºåºï¼Œä¹Ÿä¸æ˜¯å“åº”å¼çš„ åªèƒ½æ‹¿åˆ°ä¸€çº§çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶</span>
</code></pre></div><p>2.7 $refs</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token operator">&lt;</span>home ref<span class="token operator">=</span><span class="token string">&quot;home&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>home<span class="token punctuation">)</span> <span class="token comment">// å³å¯æ‹¿åˆ°å­ç»„ä»¶çš„å®ä¾‹ï¼Œå°±å¯ä»¥ç›´æ¥æ“ä½œdataå’Œmethods</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.8 $root</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">)</span> <span class="token comment">// è·å–æ ¹å®ä¾‹ï¼Œæœ€åæ‰€æœ‰ç»„ä»¶éƒ½æ˜¯æŒ‚è½½åˆ°æ ¹å®ä¾‹ä¸Š</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span>$children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// è·å–æ ¹å®ä¾‹çš„ä¸€çº§å­ç»„ä»¶</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span>$children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>$children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// è·å–æ ¹å®ä¾‹çš„äºŒçº§å­ç»„ä»¶</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.9 .sync</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token operator">&lt;</span>home <span class="token operator">:</span>title<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">// ç¼–è¯‘æ—¶ä¼šè¢«æ‰©å±•ä¸º</span>
<span class="token operator">&lt;</span>home <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;title&quot;</span> @update<span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;val =&gt;title=val&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">// å­ç»„ä»¶å¯ä»¥é€šè¿‡$emitè§¦å‘ updateæ–¹æ³•æ”¹å˜</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:title&quot;</span><span class="token punctuation">,</span><span class="token string">'è¿™æ˜¯æ–°çš„title'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2.10 slot(ä½œç”¨åŸŸæ’æ§½)
å­ç»„ä»¶å†…æ•°æ®å¯ä»¥è¢«çˆ¶é¡µé¢æ‹¿åˆ°ï¼ˆè§£å†³äº†æ•°æ®åªèƒ½ä»çˆ¶é¡µé¢ä¼ é€’ç»™å­ç»„ä»¶ï¼‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token operator">&lt;</span>todo<span class="token operator">-</span>list<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>todo<span class="token operator">=</span><span class="token string">&quot;slotProps&quot;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token punctuation">{</span>slotProps<span class="token punctuation">.</span>user<span class="token punctuation">.</span>firstName<span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>todo<span class="token operator">-</span>list<span class="token operator">&gt;</span>
<span class="token comment">// slotPropsæ¥å–çš„æ˜¯å­ç»„ä»¶æ ‡ç­¾slotä¸Šå±æ€§æ•°æ®çš„é›†åˆæ‰€æœ‰v-bind:user=&quot;user&quot;</span>

<span class="token comment">// å­ç»„ä»¶</span>
<span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;todo&quot;</span> <span class="token operator">:</span>user<span class="token operator">=</span><span class="token string">&quot;user&quot;</span> <span class="token operator">:</span>test<span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>lastName<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    user<span class="token operator">:</span><span class="token punctuation">{</span>
      lastName<span class="token operator">:</span><span class="token string">&quot;Zhang&quot;</span><span class="token punctuation">,</span>
      firstName<span class="token operator">:</span><span class="token string">&quot;yue&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    test<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// {{user.lastName}}æ˜¯é»˜è®¤æ•°æ® v-slot:todo å½“çˆ¶é¡µé¢æ²¡æœ‰ï¼ˆ=&quot;slotProps&quot;ï¼‰</span>
</code></pre></div><p>2.11 EventBus
å°±æ˜¯å£°æ˜ä¸€ä¸ªå…¨å±€ vue å®ä¾‹å˜é‡ EventBusï¼ŒæŠŠæ‰€æœ‰çš„é€šä¿¡æ•°æ®ï¼Œäº‹ä»¶ç›‘å¬éƒ½å­˜å‚¨åˆ°è¿™ä¸ªå˜é‡ä¸Šï¼›ç±»ä¼¼äº Vuexã€‚ä½†è¿™ç§æ–¹å¼åªé€‚ç”¨äºæå°çš„é¡¹ç›®ã€‚åŸç†å°±æ˜¯åˆ©ç”¨ on å’Œ emit å¹¶å®ä¾‹åŒ–ä¸€ä¸ªå…¨å±€ vue å®ç°æ•°æ®å…±äº«</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åœ¨ main.js</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä¼ å€¼ç»„ä»¶</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'eventTarget'</span><span class="token punctuation">,</span> <span class="token string">'è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ¥æ”¶ç»„ä»¶</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$eventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'eventTarget'</span><span class="token punctuation">,</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eventTarget'</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>2.12 broadcast å’Œ dispatch
vue1.x æœ‰è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œäº‹ä»¶å¹¿æ’­å’Œæ´¾å‘ï¼Œä½†æ˜¯ vue2.x åˆ é™¤äº† ä¸‹é¢æ˜¯å¯¹ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œçš„å°è£…</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">broadcast</span><span class="token punctuation">(</span><span class="token parameter">componentName<span class="token punctuation">,</span> eventName<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">child</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name <span class="token operator">=</span> child<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>componentName<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> componentName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      child<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> <span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">broadcast</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> <span class="token punctuation">[</span>componentName<span class="token punctuation">,</span> eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">componentName<span class="token punctuation">,</span> eventName<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">;</span>
      <span class="token keyword">var</span> name <span class="token operator">=</span> parent<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>componentName<span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>name <span class="token operator">||</span> name <span class="token operator">!==</span> componentName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parent <span class="token operator">=</span> parent<span class="token punctuation">.</span>$parent<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          name <span class="token operator">=</span> parent<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>componentName<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">broadcast</span><span class="token punctuation">(</span><span class="token parameter">componentName<span class="token punctuation">,</span> eventName<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">broadcast</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> componentName<span class="token punctuation">,</span> eventName<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>2.13 è·¯ç”±</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ–¹æ¡ˆä¸€</span>
<span class="token comment">// è·¯ç”±å®šä¹‰</span>
<span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/describe/:id'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span><span class="token string">'Describe'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span>Describe
<span class="token punctuation">}</span>
<span class="token comment">// é¡µé¢ä¼ å‚</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/describe/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// é¡µé¢è·å–</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id

<span class="token comment">// æ–¹æ¡ˆäºŒ</span>
<span class="token comment">// è·¯ç”±å®šä¹‰</span>
<span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/describe'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span><span class="token string">'Describe'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span>Describe
<span class="token punctuation">}</span>
<span class="token comment">// é¡µé¢ä¼ å‚</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'Describe'</span><span class="token punctuation">,</span>
  params<span class="token operator">:</span><span class="token punctuation">{</span>
    id<span class="token operator">:</span>id
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// é¡µé¢è·å–</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id

<span class="token comment">// æ–¹æ¡ˆä¸‰</span>
<span class="token comment">// è·¯ç”±å®šä¹‰</span>
<span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/describe'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span><span class="token string">'Describe'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> Describe
<span class="token punctuation">}</span>
<span class="token comment">// é¡µé¢ä¼ å‚</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/describe'</span><span class="token punctuation">,</span>
  query<span class="token operator">:</span><span class="token punctuation">{</span>
    id<span class="token operator">:</span>id
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// é¡µé¢è·å–</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id

</code></pre></div><p>2.14 Vue.observable
Vue å†…éƒ¨ä¼šç”¨å®ƒæ¥å¤„ç† data å‡½æ•°è¿”å›çš„å¯¹è±¡ï¼›è¿”å›çš„å¯¹è±¡å¯ä»¥ç›´æ¥ç”¨äºæ¸²æŸ“å‡½æ•°å’Œè®¡ç®—å±æ€§å†…ï¼Œå¹¶ä¸”ä¼šåœ¨å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘ç›¸åº”çš„æ›´æ–°ï¼›ä¹Ÿå¯ä»¥ä½œä¸ºæœ€å°åŒ–çš„è·¨ç»„ä»¶çŠ¶æ€å­˜å‚¨å™¨ï¼Œç”¨äºç®€å•çš„åœºæ™¯ã€‚é€šè®¯åŸç†å®è´¨ä¸Šæ˜¯åˆ©ç”¨ Vue.observable å®ç°ä¸€ä¸ªç®€æ˜“çš„ vuex</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ–‡ä»¶è·¯å¾„ - /store/store.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> store <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">observable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>count<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    store<span class="token punctuation">.</span>count <span class="token operator">=</span> count
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä½¿ç”¨</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;bookNum&quot;</span><span class="token operator">&gt;</span>æ•°é‡<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;setCount(count+1)&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;setCount(count-1)&quot;</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>store<span class="token punctuation">,</span>mutation<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../store/store'</span> <span class="token comment">//Vue2.6 æ–°å¢API Observable</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'Add'</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> store<span class="token punctuation">.</span>count
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
      setCount<span class="token operator">:</span>mutations<span class="token punctuation">.</span>setCount
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_3-render-å‡½æ•°">ğŸ 3. render å‡½æ•°</h2> <p>åœºæ™¯:æœ‰äº›ä»£ç åœ¨ template é‡Œé¢å†™ä¼šé‡å¤å¾ˆå¤š,æ‰€ä»¥è¿™ä¸ªæ—¶å€™ render å‡½æ•°å°±æœ‰ä½œç”¨å•¦</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ ¹æ® props ç”Ÿæˆæ ‡ç­¾</span>
<span class="token comment">// åˆçº§</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;level === 1&quot;</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;level === 2&quot;</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1 v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;level === 3&quot;</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2 v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;level === 4&quot;</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>strong v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;level === 5&quot;</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>stong<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>textarea v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;level === 6&quot;</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>textarea<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token comment">// ä¼˜åŒ–ç‰ˆ,åˆ©ç”¨ render å‡½æ•°å‡å°äº†ä»£ç é‡å¤ç‡</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>child <span class="token operator">:</span>level<span class="token operator">=</span><span class="token string">&quot;level&quot;</span><span class="token operator">&gt;</span>Hello world<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>child<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">'text/javascript'</span><span class="token operator">&gt;</span>
  <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'child'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> tag <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token string">'p'</span><span class="token punctuation">,</span> <span class="token string">'strong'</span><span class="token punctuation">,</span> <span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token string">'h2'</span><span class="token punctuation">,</span> <span class="token string">'textarea'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>level<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span>default<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      level<span class="token operator">:</span> <span class="token punctuation">{</span>  type<span class="token operator">:</span> Number<span class="token punctuation">,</span>  required<span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'hehe'</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> level<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_4-å¼‚æ­¥ç»„ä»¶">ğŸ 4. å¼‚æ­¥ç»„ä»¶</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å·¥å‚å‡½æ•°æ‰§è¡Œ resolve å›è°ƒ</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'async-webpack-example'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// è¿™ä¸ªç‰¹æ®Šçš„ require è¯­æ³•å°†ä¼šå‘Šè¯‰ webpack</span>
  <span class="token comment">// è‡ªåŠ¨å°†ä½ çš„æ„å»ºä»£ç åˆ‡å‰²æˆå¤šä¸ªåŒ…ï¼Œè¿™äº›åŒ…ä¼šé€šè¿‡Ajaxè¯·æ±‚åŠ è½½</span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./my-async-component'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>resolve<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// å·¥å‚å‡½æ•°è¿”å› Promise</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'async-webpack-example'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./my-async-component'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// å·¥å‚å‡½æ•°è¿”å›ä¸€ä¸ªé…ç½®åŒ–ç»„ä»¶å¯¹è±¡</span>
<span class="token keyword">const</span> <span class="token function-variable function">AsyncComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// éœ€è¦åŠ è½½çš„ç»„ä»¶ï¼ˆåº”è¯¥æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼‰</span>
  component<span class="token operator">:</span> <span class="token keyword">import</span><span class="token punctuation">(</span>'<span class="token punctuation">.</span><span class="token operator">/</span>MyComponent<span class="token punctuation">.</span>vue<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// å¼‚æ­¥ç»„ä»¶åŠ è½½æ—¶ä½¿ç”¨çš„ç»„ä»¶</span>
  loading<span class="token operator">:</span>LoadingComponent<span class="token punctuation">,</span>
  <span class="token comment">// åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶</span>
  error<span class="token operator">:</span>ErrorComponent<span class="token punctuation">,</span>
  <span class="token comment">// å±•ç¤ºåŠ è½½æ—¶ç»„ä»¶çš„å»¶æ—¶æ—¶é—´ã€‚</span>
  delay<span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token comment">// å¦‚æœæä¾›äº†è¶…æ—¶æ—¶é—´ä¸”ç»„ä»¶åŠ è½½ä¹Ÿè¶…æ—¶äº†ï¼Œåˆ™ä½¿ç”¨åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ã€‚é»˜è®¤å€¼æ˜¯ï¼š`Infinity`</span>
  timeout<span class="token operator">:</span><span class="token number">3000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å¼‚æ­¥ç»„ä»¶çš„æ¸²æŸ“æœ¬è´¨ä¸Šå…¶å®å°±æ˜¯æ‰§è¡Œ 2 æ¬¡æˆ–è€… 2 æ¬¡ä»¥ä¸Šçš„æ¸²æŸ“, å…ˆæŠŠå½“å‰ç»„ä»¶æ¸²æŸ“ä¸ºæ³¨é‡ŠèŠ‚ç‚¹, å½“ç»„ä»¶åŠ è½½æˆåŠŸå, é€šè¿‡ forceRender æ‰§è¡Œé‡æ–°æ¸²æŸ“ã€‚æˆ–è€…æ˜¯æ¸²æŸ“ä¸ºæ³¨é‡ŠèŠ‚ç‚¹, ç„¶åå†æ¸²æŸ“ä¸º loading èŠ‚ç‚¹, åœ¨æ¸²æŸ“ä¸ºè¯·æ±‚å®Œæˆçš„ç»„ä»¶</p> <h2 id="_5-vue-extend">ğŸ 5. Vue.extend</h2> <p>åœºæ™¯ï¼švue ç»„ä»¶ä¸­æœ‰äº›éœ€è¦å°†ä¸€äº›å…ƒç´ æŒ‚è½½åˆ°å…ƒç´ ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ extend å°±èµ·åˆ°ä½œç”¨äº†ã€‚æ˜¯æ„é€ ä¸€ä¸ªç»„ä»¶çš„è¯­æ³•å™¨</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ›å»ºæ„é€ å™¨</span>
<span class="token keyword">var</span> Profile <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'&lt;p&gt;{{extendData}}&lt;/br&gt;å®ä¾‹ä¼ å…¥çš„æ•°æ®ä¸º:{{propsExtend}}&lt;/p&gt;'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      extendData<span class="token operator">:</span> <span class="token string">'è¿™æ˜¯extendæ‰©å±•çš„æ•°æ®'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'propsExtend'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åˆ›å»ºçš„æ„é€ å™¨å¯ä»¥æŒ‚è½½åˆ°å…ƒç´ ä¸Šï¼Œä¹Ÿå¯ä»¥é€šè¿‡componentsæˆ–Vue.component()æ³¨å†Œä½¿ç”¨</span>
<span class="token comment">// æŒ‚è½½åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šã€‚å¯ä»¥é€šè¿‡propsDataä¼ å‚</span>
<span class="token keyword">new</span> <span class="token class-name">Profile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  propsData<span class="token operator">:</span> <span class="token punctuation">{</span>
    propsExtend<span class="token operator">:</span> <span class="token string">'æˆ‘æ˜¯å®ä¾‹ä¼ å…¥çš„æ•°æ®'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app-extend'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é€šè¿‡componentsæˆ–Vue.component()æ³¨å†Œ</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'Profile'</span><span class="token punctuation">,</span> Profile<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_6-extends">ğŸ 6. extends</h2> <p>extends ç”¨æ³•å’Œ mixins å¾ˆç›¸ä¼¼,åªä¸è¿‡æ¥æ”¶çš„å‚æ•°æ˜¯ç®€å•çš„é€‰é¡¹å¯¹è±¡æˆ–æ„é€ å‡½æ•°,æ‰€ä»¥ extends åªèƒ½å•æ¬¡æ‰©å±•ä¸€ä¸ªç»„ä»¶</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> extend <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dealTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">dealTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯mixinçš„dealTimeé‡Œé¢çš„æ–¹æ³•'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> extend
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_7-vue-directive">ğŸ 7. Vue.directive</h2> <p>å®˜æ–¹ç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šæŒ‡ä»¤ï¼Œä½†æ˜¯æˆ‘ä»¬å¦‚æœæƒ³å°†æ–‡å­—å˜æˆæŒ‡å®šçš„é¢œè‰²å®šä¹‰æˆæŒ‡ä»¤ä½¿ç”¨ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ç”¨åˆ° Vue.directive</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å…¨å±€å®šä¹‰</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;change-color&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>dinding<span class="token punctuation">,</span>vnode</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">[</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// ä½¿ç”¨</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div v<span class="token operator">-</span>change<span class="token operator">-</span>color<span class="token operator">=</span><span class="token string">&quot;color&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        color<span class="token operator">:</span><span class="token string">'green'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_7-ç”Ÿå‘½å‘¨æœŸ">ğŸ 7. ç”Ÿå‘½å‘¨æœŸ</h2> <p>1.bind åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶å€™è°ƒç”¨ï¼Œç”¨è¿™ä¸ªé’©å­å¯ä»¥å®šä¹‰ä¸€ä¸ªç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œ.2.inserted:è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹çš„æ—¶å€™è°ƒç”¨ï¼ˆçˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨ document ä¸­ï¼‰3.update:è¢«ç»‘å®šä¸å…ƒç´ æ‰€åœ¨æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸”æ— è®ºç»‘å®šå€¼æ˜¯å¦æœ‰å˜åŒ–ï¼Œé€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„ç»‘å®šå€¼ï¼Œå¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–° 4.componentUpdateï¼šè¢«ç»‘å®šçš„å…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°æ›´æ–°å‘¨æœŸçš„æ—¶å€™è°ƒç”¨ 5.unbindï¼šåªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤å…ƒç´ è§£ç»‘çš„æ—¶å€™è°ƒç”¨</p> <h2 id="_8-vue-filter">ğŸ 8. Vue.filter</h2> <p>æ—¶é—´æˆ³è½¬åŒ–æˆå¹´æœˆæ—¥è¿™æ˜¯ä¸€ä¸ªå…¬å…±æ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥æŠ½ç¦»æˆè¿‡æ»¤å™¨ä½¿ç”¨</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä½¿ç”¨ åœ¨åŒèŠ±æ‹¬å·ä¸­</span>
<span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    message <span class="token operator">|</span> capitalize<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// åœ¨`v-bind`ä¸­</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;rawId | formatId&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">// å…¨å±€æ³¨å†Œ</span>
Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'stampToYYMMDD'</span><span class="token punctuation">,</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¤„ç†é€»è¾‘</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å±€éƒ¨æ³¨å†Œ</span>
filters<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">stampToYYMMDD</span><span class="token operator">:</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¤„ç†é€»è¾‘</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// å¤šä¸ªè¿‡æ»¤å™¨å…¨å±€æ³¨å†Œ</span>
<span class="token comment">// /src/common/filters.js</span>
<span class="token keyword">let</span> <span class="token function-variable function">dateServer</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d{4})(\d{2})(\d{2})/g</span><span class="token punctuation">,</span> <span class="token string">'$1-$2-$3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> dateServer <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// /src/main.js</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> custom <span class="token keyword">from</span> <span class="token string">'./common/filters/custom'</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>custom<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> custom<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_9-vue-compile">ğŸ 9. Vue.compile</h2> <p>åœ¨ render å‡½æ•°ä¸­ç¼–è¯‘æ¨¡æ¿å­—ç¬¦ä¸²ã€‚åªåœ¨ç‹¬ç«‹æ„å»ºæ—¶æœ‰æ•ˆ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> res <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;div&gt;&lt;span&gt;{{msg}}&lt;/span&gt;&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    msg<span class="token operator">:</span> <span class="token string">'hello'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  render<span class="token operator">:</span> res<span class="token punctuation">.</span>render<span class="token punctuation">,</span>
  staticRenderFns<span class="token operator">:</span> res<span class="token punctuation">.</span>staticRenderFns
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_9-vue-version">ğŸ 9. Vue.version</h2> <p>æœ‰äº›å¼€å‘æ’ä»¶éœ€è¦é’ˆå¯¹ä¸åŒ vue ç‰ˆæœ¬åšå…¼å®¹ï¼Œæ‰€ä»¥å°±ä¼šç”¨åˆ° Vue.version</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> version <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>Vue<span class="token punctuation">.</span>version<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>version <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>version <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_11-vue-set">ğŸ 11. Vue.set()</h2> <p>å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶æˆ–ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œç”±äº Object.defineprototype()æ–¹æ³•é™åˆ¶ï¼Œæ•°æ®ä¸å½±å“æ›´æ–° ä¸è¿‡ vue3.x å°†åˆ©ç”¨ proxy è¿™ä¸ªé—®é¢˜å°†å¾—åˆ°è§£å†³</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> index<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_12-vue-config-keycodes">ğŸ 12. Vue.config.keyCodes</h2> <p>è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«å</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å°†é”®ç ä¸º 113 å®šä¹‰ä¸º f2</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>keyCodes<span class="token punctuation">.</span>f2 <span class="token operator">=</span> <span class="token number">113</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> @keyup<span class="token punctuation">.</span>f2<span class="token operator">=</span><span class="token string">&quot;add&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h2 id="_13-vue-config-performance">ğŸ 13. Vue.config.performance</h2> <p>ç›‘å¬æ€§èƒ½(åªé€‚ç”¨äºå¼€å‘æ¨¡å¼å’Œæ”¯æŒ performance.mark API çš„æµè§ˆå™¨)</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>performance <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_14-vue-config-errorhandler">ğŸ 14. Vue.config.errorHandler</h2> <p>1.åœºæ™¯:æŒ‡å®šç»„ä»¶çš„æ¸²æŸ“å’Œè§‚å¯ŸæœŸé—´æœªæ•è·é”™è¯¯çš„å¤„ç†å‡½æ•° 2.è§„åˆ™:
ä» 2.2.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è·ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œçš„é”™è¯¯ã€‚åŒæ ·çš„ï¼Œå½“è¿™ä¸ªé’©å­æ˜¯ undefined æ—¶ï¼Œè¢«æ•è·çš„é”™è¯¯ä¼šé€šè¿‡ console.error è¾“å‡ºè€Œé¿å…åº”ç”¨å´©æºƒ
ä» 2.4.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è· Vue è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°å†…éƒ¨çš„é”™è¯¯äº†
ä» 2.6.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è· v-on DOM ç›‘å¬å™¨å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ã€‚å¦å¤–ï¼Œå¦‚æœä»»ä½•è¢«è¦†ç›–çš„é’©å­æˆ–å¤„ç†å‡½æ•°è¿”å›ä¸€ä¸ª Promise é“¾ (ä¾‹å¦‚ async å‡½æ•°)ï¼Œåˆ™æ¥è‡ªå…¶ Promise é“¾çš„é”™è¯¯ä¹Ÿä¼šè¢«å¤„ç† 3.ä½¿ç”¨</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// handle error</span>
  <span class="token comment">// 'info' æ˜¯Vueç‰¹å®šçš„é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚é”™è¯¯æ‰€åœ¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­</span>
  <span class="token comment">// åªåœ¨ 2.2.0+ å¯ç”¨</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_15-vue-config-warnhandler">ğŸ 15. Vue.config.warnHandler</h2> <p>2.4.0 æ–°å¢ 1.åœºæ™¯:ä¸º Vue çš„è¿è¡Œæ—¶è­¦å‘Šèµ‹äºˆä¸€ä¸ªè‡ªå®šä¹‰å¤„ç†å‡½æ•°,åªä¼šåœ¨å¼€å‘è€…ç¯å¢ƒä¸‹ç”Ÿæ•ˆ 2.ç”¨æ³•:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">warnHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> trace</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// `trace` æ˜¯ç»„ä»¶çš„ç»§æ‰¿å…³ç³»è¿½è¸ª</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_16-v-pre">ğŸ 16. v-pre</h2> <p>vue æ˜¯å“åº”å¼ç³»ç»Ÿï¼Œä½†æ˜¯æœ‰äº›é™æ€çš„æ ‡ç­¾ä¸éœ€è¦å¤šæ¬¡ç¼–è¯‘ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœæ€§èƒ½</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>span v<span class="token operator">-</span>pre<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">this</span> will not be compiled<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span v<span class="token operator">-</span>pre<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>msg<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>  <span class="token comment">// å³ä½¿dataé‡Œé¢å®šä¹‰msgè¿™é‡Œä»ç„¶æ˜¯æ˜¾ç¤º{{msg}}</span>
</code></pre></div><h2 id="_17-v-cloak">ğŸ 17. v-cloak</h2> <p>åœ¨ç½‘é€Ÿæ…¢çš„æƒ…å†µä¸‹ï¼Œåœ¨ä½¿ç”¨ vue ç»‘å®šæ•°æ®çš„æ—¶å€™ï¼Œæ¸²æŸ“é¡µé¢æ—¶ä¼šå‡ºç°å˜é‡é—ªçƒ ç”¨æ³•ï¼šè¿™ä¸ªæŒ‡ä»¤ä¿æŒåœ¨å…ƒç´ ç›´åˆ°å…³è”å®ä¾‹ç»“æŸç¼–è¯‘ã€‚å’Œ css è§„åˆ™å¦‚[v-cloak]{display:none}ä¸€èµ·ç”¨æ—¶ï¼Œè¿™ä¸ªæŒ‡ä»¤å¯ä»¥éšè—æœªç¼–è¯‘çš„ Mustanche æ ‡ç­¾ç›´åˆ°å®ä¾‹å‡†å¤‡å®Œæ¯•</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;#app&quot;</span> v<span class="token operator">-</span>cloak<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>value<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token comment">// css ä¸­</span>
<span class="token punctuation">[</span>v<span class="token operator">-</span>clock<span class="token punctuation">]</span><span class="token punctuation">{</span>
  display<span class="token operator">:</span>none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_18-object-freeze">ğŸ 18. Object.freeze</h2> <p>ä¸€ä¸ªé•¿åˆ—è¡¨æ•°æ®ï¼Œä¸€èˆ¬ä¸ä¼šæ›´æ”¹ï¼Œä½†æ˜¯ vue ä¼šåš getter å’Œ setter çš„è½¬æ¢ ç”¨æ³•ï¼šæ˜¯ ES5 æ–°å¢çš„ç‰¹æ€§ï¼Œå¯ä»¥å†»ç»“ä¸€ä¸ªå¯¹è±¡ï¼Œé˜²æ­¢å¯¹è±¡è¢«ä¿®æ”¹ å¯¹äº data æˆ– vuex é‡Œä½¿ç”¨ freeze å†»ç»“äº†çš„å¯¹è±¡ï¼Œvue ä¸ä¼šåš getter å’Œ setter çš„è½¬æ¢ã€‚æ³¨æ„ï¼šå†»ç»“åªæ˜¯å†»ç»“é‡Œé¢çš„å•ä¸ªå±æ€§ï¼Œå¼•ç”¨åœ°å€è¿˜æ˜¯å¯ä»¥æ›´æ”¹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// vueä¸ä¼šå¯¹listé‡Œçš„objectåšgetterã€setterç»‘å®š</span>
    list<span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç•Œé¢ä¸ä¼šæœ‰å“åº”ï¼Œå› ä¸ºå•ä¸ªå±æ€§è¢«å†»ç»“</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token comment">// ä¸‹é¢ä¸¤ç§åšæ³•ï¼Œç•Œé¢éƒ½ä¼šå“åº”</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_19-è°ƒè¯•-template">ğŸ 19. è°ƒè¯• template</h2> <p>åœ¨ Vue å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ° template æ¨¡æ¿æ¸²æŸ“æ—¶ JavaScript å˜é‡å‡ºé”™çš„é—®é¢˜ï¼Œæ­¤æ—¶ä¹Ÿè®¸ä½ ä¼šé€šè¿‡ console.log æ¥è¿›è¡Œè°ƒè¯• è¿™æ—¶å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒæŒ‚è½½ä¸€ä¸ª log å‡½æ•°</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$log <span class="token operator">=</span> window<span class="token punctuation">.</span>console<span class="token punctuation">.</span>log<span class="token punctuation">;</span>
<span class="token comment">// ç»„ä»¶å†…éƒ¨</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token function">$log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_20-vue-loader">ğŸ 20. vue-loader</h2> <p>preserveWhitespace
å¼€å‘ vue ä»£ç ä¸€èˆ¬ä¼šæœ‰ç©ºæ ¼ï¼Œè¿™ä¸ªæ—¶å€™æ‰“åŒ…å‹ç¼©å¦‚æœä¸å»æ‰ç©ºæ ¼ä¼šåŠ å¤§åŒ…çš„ä½“ç§¯ é…ç½® preserveWhitespace å¯ä»¥å‡å°åŒ…çš„ä½“ç§¯</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  vue<span class="token operator">:</span> <span class="token punctuation">{</span>
    preserveWhitespace<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_21-img-åŠ è½½å¤±è´¥">ğŸ 21. img åŠ è½½å¤±è´¥</h2> <p>æœ‰äº›æ—¶å€™åå°è¿”å›å›¾ç‰‡åœ°å€ä¸ä¸€å®šèƒ½æ‰“å¼€ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™åº”è¯¥åŠ ä¸€å¼ é»˜è®¤å›¾ç‰‡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// page ä»£ç </span>
<span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;imgUrl&quot;</span> @error<span class="token operator">=</span><span class="token string">&quot;handleError&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        imgUrl<span class="token operator">:</span><span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token function">handleError</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'å›¾ç‰‡è·¯å¾„'</span><span class="token punctuation">)</span>  <span class="token comment">// é¡¹ç›®ä¸­å¯ä»¥é…ç½®transformToRequire</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_21-è·¯ç”±è§£è€¦å‚æ•°">ğŸ 21. è·¯ç”±è§£è€¦å‚æ•°</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/user/:id'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> User<span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// å°†è·¯ç”±çš„propså±æ€§è®¾ç½®ä¸ºtrueåï¼Œç»„ä»¶å†…å¯é€šè¿‡propsæ¥æ”¶åˆ°paramså‚æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">getParamsId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_22-å‡½æ•°å¼ç»„ä»¶">ğŸ 22. å‡½æ•°å¼ç»„ä»¶</h2> <p>å‡½æ•°å¼ç»„ä»¶æ˜¯æ— çŠ¶æ€ï¼Œå®ƒæ— æ³•å®ä¾‹åŒ–ï¼Œæ²¡æœ‰ä»»ä½•çš„ç”Ÿå‘½å‘¨æœŸå’Œæ–¹æ³•ã€‚åˆ›å»ºå‡½æ•°å¼ç»„ä»¶ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨æ¨¡æ¿æ·»åŠ <code>functional</code>å£°æ˜å³å¯ã€‚ä¸€èˆ¬é€‚åˆåªä¾èµ–äºå¤–éƒ¨æ•°æ®çš„å˜åŒ–è€Œå˜åŒ–çš„ç»„ä»¶ï¼Œå› å…¶è½»é‡ï¼Œæ¸²æŸ“æ€§èƒ½ä¹Ÿä¼šæœ‰æ‰€æé«˜ã€‚
ç»„ä»¶éœ€è¦çš„ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡<code>context</code>å‚æ•°ä¼ é€’ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå…·ä½“å±æ€§æŸ¥çœ‹æ–‡æ¡£ã€‚è¿™é‡Œpropsæ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»‘å®šå±æ€§çš„å¯¹è±¡ã€‚
å‡½æ•°å¼ç»„ä»·</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">functional</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in props.list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>props.itemClick(item)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{item.content}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>çˆ¶ç»„ä»¶ä½¿ç”¨</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>List</span> <span class="token attr-name">:list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:itemClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item =&gt; (currentItem = item)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
import List from '@/components/List.vue'
export default {
    components: {
        List
    },
    data() {
        return {
            list: [{
                title: 'title',
                content: 'content'
            }],
            currentItem: ''
        }
    }
}
</code></pre></div><h2 id="_23-watché«˜é˜¶ä½¿ç”¨">ğŸ 23. watché«˜é˜¶ä½¿ç”¨</h2> <h3 id="ç«‹å³æ‰§è¡Œ">ç«‹å³æ‰§è¡Œ</h3> <p>watchæ˜¯åœ¨ç›‘å¬å±æ€§æ”¹å˜æ—¶æ‰ä¼šè§¦å‘ï¼Œæœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç»„ä»¶åˆ›å»ºwatchèƒ½å¤Ÿç«‹å³æ‰§è¡Œ
å¯èƒ½æƒ³åˆ°çš„æ–¹æ³•å°±æ˜¯åœ¨createç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨ä¸€æ¬¡ï¼Œä½†è¿™æ ·çš„å†™æ³•ä¸ä¼˜é›…ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ–¹æ³•</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'Joe'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
      handler<span class="token operator">:</span> <span class="token string">'sayName'</span><span class="token punctuation">,</span>  <span class="token comment">// è§¦å‘ç›‘å¬æ‰§è¡Œçš„æ–¹æ³•</span>
      immediate<span class="token operator">:</span> <span class="token boolean">true</span>     <span class="token comment">//  ç›‘å¬å¼€å§‹ä¹‹åè¢«ç«‹å³è°ƒç”¨</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æ·±åº¦ç›‘å¬">æ·±åº¦ç›‘å¬</h3> <p>åœ¨ç›‘å¬å¯¹è±¡æ—¶ï¼Œå¯¹è±¡å†…éƒ¨çš„å±æ€§è¢«æ”¹å˜æ—¶æ— æ³•è§¦å‘watchï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶è®¾ç½®æ·±åº¦ç›‘å¬</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    student<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span>
      skill<span class="token operator">:</span> <span class="token punctuation">{</span>
        run<span class="token operator">:</span> <span class="token punctuation">{</span>
          speed<span class="token operator">:</span> <span class="token string">'fast'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    student<span class="token operator">:</span> <span class="token punctuation">{</span>
      handler<span class="token operator">:</span> <span class="token string">'sayName'</span><span class="token punctuation">,</span>
      deep<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è§¦å‘ç›‘å¬æ‰§è¡Œå¤šä¸ªæ–¹æ³•">è§¦å‘ç›‘å¬æ‰§è¡Œå¤šä¸ªæ–¹æ³•</h3> <p>ä½¿ç”¨æ•°ç»„å¯ä»¥è®¾ç½®å¤šé¡¹ï¼Œå½¢å¼åŒ…æ‹¬å­—ç¬¦ä¸²ã€å‡½æ•°ã€å¯¹è±¡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Joe'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'sayName1'</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span>oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sayName2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        handler<span class="token operator">:</span> <span class="token string">'sayName3'</span><span class="token punctuation">,</span>
        immediate<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">sayName1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sayName1==&gt;'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">sayName2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sayName2==&gt;'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">sayName3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'syaName3==&gt;'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="watchç›‘å¬å¤šä¸ªå˜é‡">watchç›‘å¬å¤šä¸ªå˜é‡</h3> <p>watchæœ¬èº«æ— æ³•ç›‘å¬å¤šä¸ªå˜é‡ã€‚ä½†æˆ‘ä»¬å¯ä»¥å°†éœ€è¦ç›‘å¬çš„å¤šä¸ªå˜é‡é€šè¿‡è®¡ç®—å±æ€§è¿”å›å¯¹è±¡ï¼Œå†ç›‘å¬è¿™ä¸ªå¯¹è±¡æ¥å®ç°â€ç›‘å¬å¤šä¸ªå˜é‡â€œ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      msg1<span class="token operator">:</span> <span class="token string">'apple'</span><span class="token punctuation">,</span>
      msg2<span class="token operator">:</span> <span class="token string">'banana'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">msgObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>msg1<span class="token punctuation">,</span>msg2<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        msg1<span class="token punctuation">,</span>msg2
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    msgObj<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span>oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>newVal<span class="token punctuation">.</span>msg1 <span class="token operator">!=</span> oldVal<span class="token punctuation">.</span>msg1<span class="token punctuation">)</span><span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'msg1 is change'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>newVal<span class="token punctuation">.</span>msg2 <span class="token operator">!=</span> oldVal<span class="token punctuation">.</span>msg2<span class="token punctuation">)</span><span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'msg2 is change'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      deep<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="äº‹ä»¶å‚æ•°-event">äº‹ä»¶å‚æ•°$event</h2> <p>$eventæ˜¯äº‹ä»¶å¯¹è±¡çš„ç‰¹æ®Šå˜é‡ï¼Œåœ¨ä¸€äº›åœºæ™¯èƒ½ç»™æˆ‘ä»¬å®ç°å¤æ‚åŠŸèƒ½æä¾›æ›´å¤šå¯ç”¨çš„å‚æ•°</p> <h3 id="åŸç”Ÿäº‹ä»¶">åŸç”Ÿäº‹ä»¶</h3> <p>åœ¨åŸç”Ÿäº‹ä»¶ä¸­å˜ç°å’Œé»˜è®¤çš„äº‹ä»¶å¯¹è±¡ç›¸åŒ</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inputHandler(<span class="token punctuation">'</span>hello<span class="token punctuation">'</span>,$event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">inputHandler</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è‡ªå®šä¹‰ç»„ä»¶åŒå‘ç»‘å®š">è‡ªå®šä¹‰ç»„ä»¶åŒå‘ç»‘å®š</h3> <p>ç»„ä»¶modelé€‰é¡¹ï¼š</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>å…è®¸ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶åœ¨ä½¿ç”¨v-modelæ—¶å®šåˆ¶propå’Œeventã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç»„ä»¶ä¸Šçš„v-modelä¼šæŠŠvalueç”¨ä½œpropä¸”æŠŠinputç”¨ä½œeventï¼Œä½†æ˜¯ä¸€äº›è¾“å…¥ç±»å‹æ¯”å¦‚å•é€‰æ¡†å’Œå¤é€‰æ¡†æŒ‰é’®æƒ³ä½¿ç”¨value propæ¥è¾¾åˆ°ä¸åŒçš„ç›®çš„ã€‚ä½¿ç”¨modelé€‰é¡¹å¯ä»¥å›é¿è¿™äº›æƒ…å†µäº§ç”Ÿçš„å†²çªã€‚</p></div> <p>inputé»˜è®¤ä½œä¸ºåŒå‘ç»‘å®šçš„æ›´æ–°äº‹ä»¶ï¼Œé€šè¿‡<code>$emit</code>å¯ä»¥æ›´æ–°ç»‘å®šçš„å€¼</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-switch</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-switch</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">switchChange</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span>val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¿®æ”¹ç»„ä»¶çš„modelé€‰é¡¹ï¼Œè‡ªå®šä¹‰ç»‘å®šçš„å˜é‡å’Œäº‹ä»¶</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-switch</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>some value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-switch</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  model<span class="token operator">:</span> <span class="token punctuation">{</span>
    prop<span class="token operator">:</span> <span class="token string">'num'</span><span class="token punctuation">,</span>
    event<span class="token operator">:</span> <span class="token string">'update'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    num<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">numChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/my-notes/vueRouter/" class="prev">
        vueRouter
      </a></span> <span class="next"><a href="/my-notes/vueInterview/">
        vue é¢è¯•é¢˜
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/my-notes/assets/js/app.16f8aaf3.js" defer></script><script src="/my-notes/assets/js/2.e5008c4e.js" defer></script><script src="/my-notes/assets/js/19.9a5a9720.js" defer></script>
  </body>
</html>
