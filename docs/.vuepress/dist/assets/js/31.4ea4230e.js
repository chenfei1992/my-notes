(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{377:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"css"}},[t._v("CSS")]),t._v(" "),a("h2",{attrs:{id:"_1-ç›’æ¨¡å‹"}},[t._v("ğŸ 1.ç›’æ¨¡å‹")]),t._v(" "),a("p",[t._v("é¡µé¢æ¸²æŸ“æ—¶ï¼Œdom å…ƒç´ æ‰€é‡‡ç”¨çš„ å¸ƒå±€æ¨¡å‹ã€‚å¯é€šè¿‡box-sizingè¿›è¡Œè®¾ç½®ã€‚æ ¹æ®è®¡ç®—å®½é«˜çš„åŒºåŸŸå¯åˆ†ä¸ºï¼š")]),t._v(" "),a("ul",[a("li",[t._v("content-box (W3C æ ‡å‡†ç›’æ¨¡å‹)")]),t._v(" "),a("li",[t._v("border-box (IE ç›’æ¨¡å‹)")]),t._v(" "),a("li",[t._v("padding-box")]),t._v(" "),a("li",[t._v("margin-box (æµè§ˆå™¨æœªå®ç°)")])]),t._v(" "),a("h2",{attrs:{id:"_2-bfc"}},[t._v("ğŸ 2.BFC")]),t._v(" "),a("p",[t._v("å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œè®©å¤„äºBFCå†…éƒ¨çš„å…ƒç´ ä¸å¤–éƒ¨çš„å…ƒç´ ç›¸äº’éš”ç¦»ï¼Œä½¿å†…å¤–å…ƒç´ çš„å®šä½ä¸ä¼šç›¸äº’å½±å“ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("IEä¸‹ä¸ºLayoutï¼Œå¯é€šè¿‡zoom:1è§¦å‘")])]),t._v(" "),a("ul",[a("li",[t._v("å‡ºå‘æ¡ä»¶ï¼š\n"),a("ul",[a("li",[t._v("æ ¹å…ƒç´ ")]),t._v(" "),a("li",[t._v("position: absolute/fixed")]),t._v(" "),a("li",[t._v("display: inline-block / table")]),t._v(" "),a("li",[t._v("float å…ƒç´ ")]),t._v(" "),a("li",[t._v("overflow !== visible")])])]),t._v(" "),a("li",[t._v("è§„åˆ™ï¼š\n"),a("ul",[a("li",[t._v("å±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxå‚ç›´æ’åº")]),t._v(" "),a("li",[t._v("å±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿé‡å ")]),t._v(" "),a("li",[t._v("BFCä¸­å­å…ƒç´ çš„margin boxçš„å·¦è¾¹ï¼Œä¸åŒ…å«å—ï¼ˆBFCï¼‰border boxçš„å·¦è¾¹ç›¸æ¥è§¦ï¼ˆå­å…ƒç´ absoluteé™¤å¤–ï¼‰")]),t._v(" "),a("li",[t._v("BFCçš„åŒºåŸŸä¸ä¼šä¸floatçš„å…ƒç´ åŒºåŸŸé‡å ")]),t._v(" "),a("li",[t._v("è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å­å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—")]),t._v(" "),a("li",[t._v("æ–‡å­—å±‚ä¸ä¼šè¢«æµ®åŠ¨å±‚è¦†ç›–ï¼Œç¯ç»•äºå‘¨å›´")])])]),t._v(" "),a("li",[t._v("åº”ç”¨ï¼š\n"),a("ul",[a("li",[t._v("é˜»æ­¢marginé‡å ")]),t._v(" "),a("li",[t._v("å¯ä»¥åŒ…å«æµ®åŠ¨å…ƒç´ â€”â€”æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼ˆæ¸…é™¤æµ®åŠ¨çš„åŸç†æ˜¯ä¸¤ä¸ªdivéƒ½ä½äºåŒä¸€ä¸ªBFCåŒºåŸŸä¹‹ä¸­ï¼‰")]),t._v(" "),a("li",[t._v("è‡ªé€‚åº”ä¸¤æ å¸ƒå±€")]),t._v(" "),a("li",[t._v("å¯ä»¥é˜»æ­¢å…ƒç´ è¢«æµ®åŠ¨å…ƒç´ è¦†ç›–")])])])]),t._v(" "),a("h2",{attrs:{id:"_3-å±‚å ä¸Šä¸‹æ–‡"}},[t._v("ğŸ 3.å±‚å ä¸Šä¸‹æ–‡")]),t._v(" "),a("p",[t._v("å…ƒç´ æå‡ä¸ºä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å›¾å±‚ï¼Œåœ¨ä¸‰ç»´ç©ºé—´ä¸­ï¼ˆzè½´ï¼‰é«˜å‡ºæ™®é€šå…ƒç´ ä¸€ç­‰")]),t._v(" "),a("ul",[a("li",[t._v("è§¦å‘æ¡ä»¶\n"),a("ul",[a("li",[t._v("æ ¹å±‚å ä¸Šä¸‹æ–‡ï¼ˆhtmlï¼‰")]),t._v(" "),a("li",[t._v("position")]),t._v(" "),a("li",[t._v("css3å±æ€§\n"),a("ul",[a("li",[t._v("flex")]),t._v(" "),a("li",[t._v("transform")]),t._v(" "),a("li",[t._v("opacity")]),t._v(" "),a("li",[t._v("filter")]),t._v(" "),a("li",[t._v("will-change")]),t._v(" "),a("li",[t._v("-webkit-overflow-scrolling")])])])])]),t._v(" "),a("li",[t._v("å±‚å ç­‰çº§ï¼šå±‚å ä¸Šä¸‹æ–‡åœ¨zè½´ä¸Šçš„æ’åº\n"),a("ul",[a("li",[t._v("åœ¨åŒä¸€å±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œå±‚å ç­‰çº§æ‰æœ‰æ„ä¹‰")]),t._v(" "),a("li",[t._v("z-indexçš„ä¼˜å…ˆçº§æœ€é«˜")])])])]),t._v(" "),a("h2",{attrs:{id:"_4-å±…ä¸­å¸ƒå±€"}},[t._v("ğŸ 4.å±…ä¸­å¸ƒå±€")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("+ æ°´å¹³å±…ä¸­\n    - è¡Œå†…å…ƒç´ ï¼štext-align: center;\n    - å—çº§å…ƒç´ ï¼šmargin: 0 auto\n    - absolute + transform\n    - flex + justify-content: center\n+ å‚ç›´å±…ä¸­\n    - line-height: height\n    - absolute + transform\n    - flex + align-items: center\n    - table\n+ æ°´å¹³å‚ç›´å±…ä¸­\n    - absolute + transform\n    - flex + justify-content + align-items\n")])])]),a("h2",{attrs:{id:"_5-é€‰æ‹©å™¨ä¼˜å…ˆçº§"}},[t._v("ğŸ 5.é€‰æ‹©å™¨ä¼˜å…ˆçº§")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("+ !important > è¡Œå†…æ ·å¼ > #id > .class > tag > * > ç»§æ‰¿ > é»˜è®¤\n+ é€‰æ‹©å™¨ä»å³å¾€å·¦è§£æ\n")])])]),a("h2",{attrs:{id:"_6-å»é™¤æµ®åŠ¨å½±å“ï¼Œé˜²æ­¢çˆ¶çº§é«˜åº¦å¡Œé™·"}},[t._v("ğŸ 6.å»é™¤æµ®åŠ¨å½±å“ï¼Œé˜²æ­¢çˆ¶çº§é«˜åº¦å¡Œé™·")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("+ é€šè¿‡å¢åŠ å°¾å…ƒç´ æ¸…é™¤æµ®åŠ¨\n    - :after / <br> : clear: both \n+ åˆ›å»ºçˆ¶çº§BFC\n+ çˆ¶çº§è®¾ç½®é«˜åº¦\n")])])]),a("h2",{attrs:{id:"_7-link-ä¸-importçš„åŒºåˆ«"}},[t._v("ğŸ 7.link ä¸@importçš„åŒºåˆ«")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("+ linkåŠŸèƒ½è¾ƒå¤šï¼Œå¯ä»¥å®šä¹‰RSSï¼Œå®šä¹‰Relç­‰ä½œç”¨ï¼Œè€Œ@importåªèƒ½ç”¨äºåŠ è½½css\n+ å½“è§£æåˆ°linkæ—¶ï¼Œé¡µé¢ä¼šåŒæ—¶åŠ è½½æ‰€å¼•çš„cssï¼Œè€Œ@importæ‰€å¼•ç”¨çš„cssä¼šç­‰åˆ°é¡µé¢åŠ è½½å®Œæ‰è¢«åŠ è½½\n+ @import éœ€è¦IE5ä»¥ä¸Šæ‰èƒ½ä½¿ç”¨\n+ linkå¯ä»¥ä½¿ç”¨jsåŠ¨æ€å¼•å…¥ï¼Œ@importä¸è¡Œ\n")])])]),a("h2",{attrs:{id:"_8-cssé¢„å¤„ç†å™¨ï¼ˆsass-less-postcssï¼‰"}},[t._v("ğŸ 8.cssé¢„å¤„ç†å™¨ï¼ˆSass/Less/Postcssï¼‰")]),t._v(" "),a("p",[t._v("CSSé¢„å¤„ç†å™¨çš„åŸç†ï¼šæ˜¯å°†ç±»CSSè¯­è¨€é€šè¿‡webpackç¼–è¯‘è½¬æˆæµè§ˆå™¨å¯è¯»çš„çœŸæ­£CSSã€‚åœ¨è¿™å±‚ç¼–è¯‘ä¹‹ä¸Šï¼Œä¾¿å¯ä»¥èµ‹äºˆCSSæ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¸¸ç”¨åŠŸèƒ½ï¼š\n+ åµŒå¥—\n+ å˜é‡\n+ å¾ªç¯è¯­å¥\n+ æ¡ä»¶è¯­å¥\n+ è‡ªåŠ¨å‰ç¼€\n+ å•ä½è½¬æ¢\n+ mixinå¤ç”¨")]),t._v(" "),a("h2",{attrs:{id:"_9-cssåŠ¨ç”»"}},[t._v("ğŸ 9.CSSåŠ¨ç”»")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("+ transition: è¿‡æ¸¡åŠ¨ç”»\n    - transition-property: å±æ€§\n    - transition-duration: é—´éš”\n    - transition-timing-function: æ›²çº¿\n    - transition-delay: å»¶è¿Ÿ\n    - å¸¸ç”¨é’©å­ï¼štansitionend\n+ animation / keyframes\n    - animation-name: åŠ¨ç”»åç§°ï¼Œå¯¹åº”@keyframes\n    - animation-duration: é—´éš”\n    - animation-timing-function: æ›²çº¿\n    - animation-delay: å»¶è¿Ÿ\n    - animation-iteration-count: æ¬¡æ•°\n        + infinite: å¾ªç¯åŠ¨ç”»\n    - animation-direction: æ–¹å‘\n        + alternate: åå‘æ’­æ”¾\n    - animation-fill-mode: é™æ­¢æ¨¡å¼\n        + forwards:åœæ­¢æ—¶ï¼Œä¿ç•™æœ€åä¸€å¸§\n        + backwards: åœæ­¢æ—¶ï¼Œå›åˆ°ç¬¬ä¸€å¸§\n        + both: åŒæ—¶è¿ç”¨ forwards / backwards\n    - å¸¸ç”¨é’©å­: animationend\n+ åŠ¨ç”»å±æ€§ï¼šå°½é‡ä½¿ç”¨åŠ¨ç”»å±æ€§è¿›è¡ŒåŠ¨ç”»ï¼Œèƒ½æ‹¥æœ‰è¾ƒå¥½çš„æ€§èƒ½è¡¨ç°\n    - translate\n    - scale\n    - rotate\n    - skew\n    - opacity\n    - color\n")])])]),a("p",[t._v("é€šå¸¸ï¼ŒCSSå¹¶ä¸æ˜¯é‡ç‚¹çš„è€ƒå¯Ÿé¢†åŸŸï¼Œä½†è¿™å…¶å®æ˜¯ç”±äºç°åœ¨å›½å†…ä¸šç•Œå¯¹CSSçš„ä¸“æ³¨ä¸å¤Ÿå¯¼è‡´çš„ï¼ŒçœŸæ­£ç²¾é€šå¹¶ä¸“æ³¨äºCSSçš„å›¢é˜Ÿå’Œäººæ‰å¹¶ä¸å¤šã€‚å› æ­¤å¦‚æœèƒ½åœ¨CSSé¢†åŸŸæœ‰è‡ªå·±çš„è§è§£å’Œç»éªŒï¼Œåè€Œä¼šä¸ºç›¸å½“çš„åŠ åˆ†å’Œè„±é¢–è€Œå‡º")]),t._v(" "),a("h2",{attrs:{id:"_10-cssä¸­transitionå’Œanimateæœ‰ä½•åŒºåˆ«ï¼Ÿ"}},[t._v("ğŸ 10.CSSä¸­transitionå’Œanimateæœ‰ä½•åŒºåˆ«ï¼Ÿ")]),t._v(" "),a("p",[t._v("transition: ä¸€èˆ¬ç”¨æ¥åšè¿‡æ¸¡çš„ï¼Œæ²¡æ—¶é—´è½´çš„æ¦‚å¿µï¼Œé€šè¿‡äº‹ä»¶è§¦å‘ï¼ˆä¸€æ¬¡ï¼‰ï¼Œæ²¡æœ‰ä¸­é—´çŠ¶æ€ï¼ˆåªæœ‰å¼€å§‹å’Œç»“æŸï¼‰\nanimateï¼šåšåŠ¨æ•ˆï¼Œæœ‰æ—¶é—´è½´çš„æ¦‚å¿µï¼ˆå¸§å¯æ§ï¼‰ï¼Œå¯ä»¥é‡å¤è§¦å‘å’Œæœ‰ä¸­é—´çŠ¶æ€ï¼›\nè¿‡æ¸¡çš„å¼€é”€æ¯”åŠ¨æ•ˆå°ï¼Œå‰è€…ä¸€èˆ¬ç”¨äºäº¤äº’å±…å¤šï¼Œåè€…ç”¨äºæ´»åŠ¨é¡µå±…å¤šï¼›")]),t._v(" "),a("h1",{attrs:{id:"javascript"}},[t._v("JavaScript")]),t._v(" "),a("h2",{attrs:{id:"_1-åŸå‹-æ„é€ å‡½æ•°-å®ä¾‹"}},[t._v("ğŸ 1. åŸå‹ / æ„é€ å‡½æ•° / å®ä¾‹")]),t._v(" "),a("p",[t._v("åŸå‹(prototype): ä¸€ä¸ªç®€å•çš„å¯¹è±¡ï¼Œç”¨äºå®ç°å¯¹è±¡çš„ å±æ€§ç»§æ‰¿ã€‚å¯ä»¥ç®€å•çš„ç†è§£æˆå¯¹è±¡çš„çˆ¹ã€‚åœ¨ Firefox å’Œ Chrome ä¸­ï¼Œæ¯ä¸ªJavaScriptå¯¹è±¡ä¸­éƒ½åŒ…å«ä¸€ä¸ª__proto__ (éæ ‡å‡†)çš„å±æ€§æŒ‡å‘å®ƒçˆ¹(è¯¥å¯¹è±¡çš„åŸå‹)ï¼Œå¯obj.__proto__è¿›è¡Œè®¿é—®ã€‚")]),t._v(" "),a("p",[t._v("æ„é€ å‡½æ•°: å¯ä»¥é€šè¿‡newæ¥ æ–°å»ºä¸€ä¸ªå¯¹è±¡ çš„å‡½æ•°ã€‚")]),t._v(" "),a("p",[t._v("å®ä¾‹: é€šè¿‡æ„é€ å‡½æ•°å’Œnewåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ï¼Œä¾¿æ˜¯å®ä¾‹ã€‚ å®ä¾‹é€šè¿‡__proto__æŒ‡å‘åŸå‹ï¼Œé€šè¿‡constructoræŒ‡å‘æ„é€ å‡½æ•°ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_2-åŸå‹é“¾ï¼š"}},[t._v("ğŸ 2. åŸå‹é“¾ï¼š")]),t._v(" "),a("p",[t._v("åŸå‹é“¾æ˜¯ç”±åŸå‹å¯¹è±¡ç»„æˆï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ "),a("strong",[t._v("proto")]),t._v(" å±æ€§ï¼ŒæŒ‡å‘äº†åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ï¼Œ"),a("strong",[t._v("proto")]),t._v(" å°†å¯¹è±¡è¿æ¥èµ·æ¥ç»„æˆäº†åŸå‹é“¾ã€‚æ˜¯ä¸€ä¸ªç”¨æ¥å®ç°ç»§æ‰¿å’Œå…±äº«å±æ€§çš„æœ‰é™çš„å¯¹è±¡é“¾ã€‚")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("å±æ€§æŸ¥æ‰¾æœºåˆ¶: å½“æŸ¥æ‰¾å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœå®ä¾‹å¯¹è±¡è‡ªèº«ä¸å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™æ²¿ç€åŸå‹é“¾å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œæ‰¾åˆ°æ—¶åˆ™è¾“å‡ºï¼Œä¸å­˜åœ¨æ—¶ï¼Œåˆ™ç»§ç»­æ²¿ç€åŸå‹é“¾å¾€ä¸Šä¸€çº§æŸ¥æ‰¾ï¼Œç›´è‡³æœ€é¡¶çº§çš„åŸå‹å¯¹è±¡Object.prototypeï¼Œå¦‚è¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œåˆ™è¾“å‡ºundefinedï¼›")])]),t._v(" "),a("li",[a("p",[t._v("å±æ€§ä¿®æ”¹æœºåˆ¶: åªä¼šä¿®æ”¹å®ä¾‹å¯¹è±¡æœ¬èº«çš„å±æ€§ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿›è¡Œæ·»åŠ è¯¥å±æ€§ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹åŸå‹çš„å±æ€§æ—¶ï¼Œåˆ™å¯ä»¥ç”¨: b.prototype.x = 2ï¼›ä½†æ˜¯è¿™æ ·ä¼šé€ æˆæ‰€æœ‰ç»§æ‰¿äºè¯¥å¯¹è±¡çš„å®ä¾‹çš„å±æ€§å‘ç”Ÿæ”¹å˜ã€‚")])])]),t._v(" "),a("h2",{attrs:{id:"_3-æ‰§è¡Œä¸Šä¸‹æ–‡"}},[t._v("ğŸ 3. æ‰§è¡Œä¸Šä¸‹æ–‡")]),t._v(" "),a("p",[t._v("æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªå¯¹è±¡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å®ƒåŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š\n"),a("ul",[a("li",[t._v("å˜é‡å¯¹è±¡ï¼ˆVOï¼‰")]),t._v(" "),a("li",[t._v("ä½œç”¨åŸŸé“¾ï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰")]),t._v(" "),a("li",[t._v("thisæŒ‡å‘")])])]),t._v(" "),a("li",[t._v("å®ƒçš„ç±»å‹ï¼š\n"),a("ul",[a("li",[t._v("å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡")]),t._v(" "),a("li",[t._v("å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡")]),t._v(" "),a("li",[t._v("evalæ‰§è¡Œä¸Šä¸‹æ–‡")])])]),t._v(" "),a("li",[t._v("ä»£ç æ‰§è¡Œè¿‡ç¨‹ï¼š\n"),a("ul",[a("li",[t._v("åˆ›å»ºå…¨å±€ä¸Šä¸‹æ–‡")]),t._v(" "),a("li",[t._v("å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆcallerï¼‰é€è¡Œè‡ªä¸Šè€Œä¸‹æ‰§è¡Œã€‚é‡åˆ°å‡½æ•°æ—¶ï¼Œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«pushåˆ°æ‰§è¡Œæ ˆé¡¶å±‚")]),t._v(" "),a("li",[t._v("å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«æ¿€æ´»ï¼Œæˆä¸ºactive ECï¼Œå¼€å§‹æ‰§è¡Œå‡½æ•°ä¸­çš„ä»£ç ï¼Œcallerè¢«æŒ‚èµ·")]),t._v(" "),a("li",[t._v("å‡½æ•°æ‰§è¡Œå®Œåï¼Œcalleeè¢«popç§»é™¤å‡ºæ‰§è¡Œæ ˆï¼Œæ§åˆ¶æƒäº¤è¿˜å…¨å±€ä¸Šä¸‹æ–‡ï¼Œç»§ç»­æ‰§è¡Œ")])])])]),t._v(" "),a("h2",{attrs:{id:"_2-å˜é‡å¯¹è±¡"}},[t._v("ğŸ 2.å˜é‡å¯¹è±¡")]),t._v(" "),a("p",[t._v("å˜é‡å¯¹è±¡ï¼Œæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥æŠ½è±¡ä¸ºä¸€ç§æ•°æ®ä½œç”¨åŸŸï¼Œå…¶å®ä¹Ÿå¯ä»¥ç†è§£ä¸ºå°±æ˜¯ä¸€ä¸ªç®€å•çš„å¯¹è±¡ï¼Œå®ƒå­˜å‚¨ç€è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å£°æ˜ï¼ˆä¸åŒ…å«å‡½æ•°è¡¨è¾¾å¼ï¼‰ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("æ´»åŠ¨å¯¹è±¡(AO): å½“å˜é‡å¯¹è±¡æ‰€å¤„çš„ä¸Šä¸‹æ–‡ä¸ºactive ECæ—¶ï¼Œç§°ä¸ºæ´»åŠ¨å¯¹è±¡ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"_3-ä½œç”¨åŸŸ"}},[t._v("ğŸ 3.ä½œç”¨åŸŸ")]),t._v(" "),a("p",[t._v("æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿˜åŒ…å«ä½œç”¨åŸŸé“¾ã€‚ç†è§£ä½œç”¨åŸŸä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸‹ä½œç”¨åŸŸã€‚ä½œç”¨åŸŸå…¶å®å¯ç†è§£ä¸ºè¯¥ä¸Šä¸‹æ–‡ä¸­å£°æ˜çš„å˜é‡å’Œå£°æ˜çš„ä½œç”¨èŒƒå›´ã€‚å¯åˆ†ä¸ºå—çº§ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ\nç‰¹æ€§ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å£°æ˜æå‰ï¼šä¸€ä¸ªå£°æ˜åœ¨å‡½æ•°ä½“å†…éƒ½æ˜¯å¯è§çš„ï¼Œå‡½æ•°ä¼˜å…ˆäºå˜é‡")]),t._v(" "),a("li",[t._v("éåŒ¿åè‡ªæ‰§è¡Œå‡½æ•°ï¼Œå‡½æ•°å˜é‡ä¸ºåªè¯»çŠ¶æ€ï¼Œæ— æ³•ä¿®æ”¹")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("foo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    foo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»“æœæ‰“å°ï¼š foo(){foo = 10;console.log(foo)}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_4-ä½œç”¨åŸŸé“¾"}},[t._v("ğŸ 4.ä½œç”¨åŸŸé“¾")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è®¿é—®åˆ°çˆ¶çº§ç”šè‡³å…¨å±€çš„å˜é‡ï¼Œè¿™ä¾¿æ˜¯ä½œç”¨åŸŸé“¾çš„åŠŸèƒ½ã€‚ä½œç”¨åŸŸé“¾å¯ä»¥ç†è§£ä¸ºä¸€ç»„å¯¹è±¡åˆ—è¡¨ï¼ŒåŒ…å«çˆ¶çº§å’Œè‡ªèº«çš„å˜é‡å¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬ä¾¿èƒ½é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®åˆ°çˆ¶çº§é‡Œå£°æ˜çš„å˜é‡æˆ–è€…å‡½æ•°ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š\n"),a("ul",[a("li",[t._v("[[scope]]å±æ€§ï¼šæŒ‡å‘çˆ¶çº§å˜é‡å¯¹è±¡å’Œä½œç”¨åŸŸé“¾ï¼Œä¹Ÿå°±æ˜¯åŒ…å«äº†çˆ¶çº§çš„[[scope]] å’Œ AO")]),t._v(" "),a("li",[t._v("AOï¼šè‡ªèº«æ´»åŠ¨å¯¹è±¡\nå¦‚æ­¤ [[scope]]åŒ…å«[[scope]]ï¼Œä¾¿è‡ªä¸Šè€Œä¸‹å½¢æˆä¸€æ¡ é“¾å¼ä½œç”¨åŸŸ")])])])]),t._v(" "),a("h2",{attrs:{id:"_5-é—­åŒ…"}},[t._v("ğŸ 5.é—­åŒ…")]),t._v(" "),a("p",[t._v("é—­åŒ…å±äºä¸€ç§ç‰¹æ®Šçš„ä½œç”¨åŸŸï¼Œç§°ä¸ºé™æ€ä½œç”¨åŸŸã€‚å®ƒçš„å®šä¹‰å¯ä»¥ç†è§£ä¸ºï¼šçˆ¶å‡½æ•°è¢«é”€æ¯çš„æƒ…å†µä¸‹ï¼Œè¿”å›å‡ºçš„å­å‡½æ•°çš„[[scope]]ä¸­ä»ç„¶ä¿ç•™ç€çˆ¶çº§çš„å•å˜é‡å¯¹è±¡å’Œä½œç”¨åŸŸé“¾ï¼Œå› æ­¤å¯ä»¥ç»§ç»­è®¿é—®åˆ°çˆ¶çº§çš„å˜é‡å¯¹è±¡ï¼Œè¿™æ ·çš„å‡½æ•°ç§°ä¸ºé—­åŒ…ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("é—­åŒ…ä¼šäº§ç”Ÿä¸€ä¸ªå¾ˆç»å…¸çš„é—®é¢˜ï¼š\n"),a("ul",[a("li",[t._v("å¤šä¸ªå­å‡½æ•°çš„[[scope]]éƒ½æ˜¯åŒæ—¶æŒ‡å‘çˆ¶çº§ï¼Œæ˜¯å®Œå…¨å…±äº«çš„ã€‚å› æ­¤å½“çˆ¶çº§çš„å˜é‡å¯¹è±¡è¢«ä¿®æ”¹æ—¶ï¼Œæ‰€æœ‰å­å‡½æ•°éƒ½å—åˆ°å½±å“ã€‚")])])]),t._v(" "),a("li",[t._v("è§£å†³ï¼š\n"),a("ul",[a("li",[t._v("å˜é‡å¯ä»¥é€šè¿‡å‡½æ•°å‚æ•°çš„å½¢å¼ä¼ å…¥ï¼Œé¿å…ä½¿ç”¨é»˜è®¤çš„[[scope]]å‘ä¸ŠæŸ¥æ‰¾")]),t._v(" "),a("li",[t._v("ä½¿ç”¨setTimeoutåŒ…è£¹ï¼Œé€šè¿‡ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥")]),t._v(" "),a("li",[t._v("ä½¿ç”¨å—çº§ä½œç”¨åŸŸï¼Œè®©å˜é‡æˆä¸ºè‡ªå·±ä¸Šä¸‹æ–‡çš„å±æ€§ï¼Œé¿å…å…±äº«")])])])]),t._v(" "),a("h2",{attrs:{id:"_6-scriptå¼•å…¥æ–¹å¼ï¼š"}},[t._v("ğŸ 6.scriptå¼•å…¥æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("htmlé™æ€"),a("code",[t._v("<script>")]),t._v("å¼•å…¥")]),t._v(" "),a("li",[t._v("jsåŠ¨æ€æ’å…¥"),a("code",[t._v("<script>")])]),t._v(" "),a("li",[a("code",[t._v("<script defer>: å»¶è¿ŸåŠ è½½ï¼Œå…ƒç´ è§£æå®Œæˆåæ‰§è¡Œ")])]),t._v(" "),a("li",[a("code",[t._v("<script async>: å¼‚æ­¥åŠ è½½ï¼Œä½†æ‰§è¡Œæ—¶ä¼šé˜»å¡å…ƒç´ æ¸²æŸ“")])])]),t._v(" "),a("h2",{attrs:{id:"_7-å¯¹è±¡çš„æ‹·è´"}},[t._v("ğŸ 7.å¯¹è±¡çš„æ‹·è´")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("æµ…æ‹·è´ï¼šä»¥èµ‹å€¼çš„å½¢å¼æ‹·è´å¼•ç”¨å¯¹è±¡ï¼Œä»æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œä¿®æ”¹æ—¶åŸå¯¹è±¡ä¹Ÿä¼šå—åˆ°å½±å“")]),t._v(" "),a("ul",[a("li",[t._v("Object.assign")]),t._v(" "),a("li",[t._v("å±•å¼€è¿ç®—ç¬¦ï¼ˆ...ï¼‰")])])]),t._v(" "),a("li",[a("p",[t._v("æ·±æ‹·è´ï¼šå®Œå…¨æ‹·è´ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¿®æ”¹æ—¶åŸå¯¹è±¡ä¸å†å—åˆ°ä»»ä½•å½±å“")]),t._v(" "),a("ul",[a("li",[t._v("JSON.parse(JSON.stringify(obj)): æ€§èƒ½æœ€å¿«\n"),a("ul",[a("li",[t._v("å…·æœ‰å¾ªç¯å¼•ç”¨çš„å¯¹è±¡æ—¶ï¼ŒæŠ¥é”™")]),t._v(" "),a("li",[t._v("å½“å€¼ä¸ºå‡½æ•°ã€undefinedã€æˆ–symbolæ—¶ï¼Œæ— æ³•æ‹·è´")])])]),t._v(" "),a("li",[t._v("é€’å½’è¿›è¡Œé€ä¸€èµ‹å€¼")])])])]),t._v(" "),a("h2",{attrs:{id:"_8-new-è¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹"}},[t._v("ğŸ 8.new è¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹")]),t._v(" "),a("ul",[a("li",[t._v("æ–°ç”Ÿæˆä¸€ä¸ªå¯¹è±¡")]),t._v(" "),a("li",[t._v("é“¾æ¥åˆ°åŸå‹ï¼šobj."),a("strong",[t._v("proto")]),t._v(" = Con.prototype")]),t._v(" "),a("li",[t._v("ç»‘å®šthisï¼šapply")]),t._v(" "),a("li",[t._v("è¿”å›æ–°å¯¹è±¡ï¼ˆå¦‚æœæ„é€ å‡½æ•°æœ‰è‡ªå·±returnæ—¶ï¼Œåˆ™è¿”å›è¯¥å€¼ï¼‰")])]),t._v(" "),a("h2",{attrs:{id:"_9-instanceofåŸç†"}},[t._v("ğŸ 9.instanceofåŸç†")]),t._v(" "),a("p",[t._v("èƒ½åœ¨å®ä¾‹çš„ åŸå‹å¯¹è±¡é“¾ä¸­æ‰¾åˆ°è¯¥æ„é€ å‡½æ•°çš„prototypeå±æ€§æ‰€æŒ‡å‘çš„åŸå‹å¯¹è±¡ï¼Œè¿”å›trueã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("__proto__"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  true")]),t._v("\n")])])]),a("h2",{attrs:{id:"_10-ä»£ç çš„å¤ç”¨"}},[t._v("ğŸ 10.ä»£ç çš„å¤ç”¨")]),t._v(" "),a("p",[t._v("å½“ä½ å‘ç°ä»»ä½•ä»£ç å¼€å§‹å†™ç¬¬äºŒéæ—¶ï¼Œå°±è¦å¼€å§‹è€ƒè™‘å¦‚ä½•å¤ç”¨ã€‚ä¸€èˆ¬æœ‰ä»¥ä¸‹çš„æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å‡½æ•°å°è£…")]),t._v(" "),a("li",[t._v("ç»§æ‰¿")]),t._v(" "),a("li",[t._v("å¤åˆ¶ extend")]),t._v(" "),a("li",[t._v("æ··å…¥mixin")]),t._v(" "),a("li",[t._v("å€Ÿç”¨ apply/call")])]),t._v(" "),a("h2",{attrs:{id:"_11-ç»§æ‰¿"}},[t._v("ğŸ 11. ç»§æ‰¿")]),t._v(" "),a("p",[t._v("åœ¨JSä¸­ï¼Œç»§æ‰¿é€šå¸¸æŒ‡çš„æ˜¯åŸå‹é“¾ç»§æ‰¿ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡æŒ‡å®šåŸå‹ï¼Œå¹¶å¯ä»¥é€šè¿‡åŸå‹é“¾ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("æœ€ä¼˜åŒ–ï¼šåœ£æ¯æ¨¡å¼")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" inherit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("F")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("F")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uber "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨es6çš„è¯­æ³•ç³–class/extends")]),t._v("\n")])])]),a("h2",{attrs:{id:"_12-ç±»å‹è½¬æ¢"}},[t._v("ğŸ 12.ç±»å‹è½¬æ¢")]),t._v(" "),a("p",[t._v("JSä¸­åœ¨ä½¿ç”¨è¿ç®—ç¬¦å·æˆ–è€…å¯¹æ¯”æ—¶ï¼Œä¼šè‡ªå¸¦éšå¼è½¬æ¢ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("-ã€*ã€/ã€%ï¼šä¸€å¾‹è½¬æ¢æˆæ•°å€¼åè®¡ç®—")]),t._v(" "),a("li",[t._v("+ï¼š\n"),a("ul",[a("li",[t._v("æ•°å­—+å­—ç¬¦ä¸²=å­—ç¬¦ä¸²ï¼Œè¿ç®—é¡ºåºæ˜¯ä»å·¦åˆ°å³")]),t._v(" "),a("li",[t._v("æ•°å­—+å¯¹è±¡ï¼Œä¼˜å…ˆè°ƒç”¨å¯¹è±¡çš„valueOf => toString")]),t._v(" "),a("li",[t._v("æ•°å­—+boolean/null => æ•°å­—")]),t._v(" "),a("li",[t._v("æ•°å­—+undefined => NaN")])])]),t._v(" "),a("li",[a("code",[t._v("[1].toString() === '1'")])]),t._v(" "),a("li",[a("code",[t._v("{}.toString() === '[object Object]'")])]),t._v(" "),a("li",[a("code",[t._v("NaN !== NaNã€+undefined ä¸º NaN")])])]),t._v(" "),a("h2",{attrs:{id:"_13-ç±»å‹åˆ¤æ–­"}},[t._v("ğŸ 13. ç±»å‹åˆ¤æ–­")]),t._v(" "),a("p",[t._v("åˆ¤æ–­Targetçš„ç±»å‹ï¼Œå•å•ç”¨typeofå¹¶æ— æ³•å®Œå…¨æ»¡è¶³ï¼Œè¿™å…¶å®å¹¶ä¸æ˜¯bugï¼Œæœ¬è´¨åŸå› æ˜¯JSçš„ä¸‡ç‰©çš†å¯¹è±¡çš„ç†è®ºã€‚å› æ­¤è¦çœŸæ­£å®Œç¾åˆ¤æ–­æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åŒºåˆ†å¯¹å¾…")]),t._v(" "),a("ul",[a("li",[t._v("åŸºæœ¬ç±»å‹ï¼ˆnullï¼‰ï¼š ä½¿ç”¨String(null)")]),t._v(" "),a("li",[t._v("åŸºæœ¬ç±»å‹ï¼ˆstring/number/boolean/undefinedï¼‰+ functionï¼šç›´æ¥ä½¿ç”¨typeofå³å¯")]),t._v(" "),a("li",[t._v("å…¶ä½™å¼•ç”¨ç±»å‹ï¼ˆArray/Date/RegExp Errorï¼‰ï¼šè°ƒç”¨toStringåæ ¹æ®[object XXX]è¿›è¡Œåˆ¤æ–­\nå°è£…ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" class2type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Array Date RegExp Object Error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" class2type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[object '")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("']'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" class2type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" obj\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_14-æ¨¡å—åŒ–"}},[t._v("ğŸ 14.æ¨¡å—åŒ–")]),t._v(" "),a("p",[t._v("åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ES6çš„æ¨¡å—åŒ–æ”¯æŒï¼Œåœ¨Nodeä¸­ä½¿ç”¨commonjsçš„æ¨¡å—åŒ–æ”¯æŒ")]),t._v(" "),a("ul",[a("li",[t._v("åˆ†ç±»ï¼š\n"),a("ul",[a("li",[t._v("es6: import / export")]),t._v(" "),a("li",[t._v("commonjs: require / module.exports / export")]),t._v(" "),a("li",[t._v("amd: require / defined")])])]),t._v(" "),a("li",[t._v("requireä¸importçš„åŒºåˆ«\n"),a("ul",[a("li",[t._v("requireæ”¯æŒåŠ¨æ€å¯¼å…¥ï¼Œimportä¸æ”¯æŒï¼Œæ­£åœ¨ææ¡ˆï¼ˆbabelä¸‹å¯æ”¯æŒï¼‰")]),t._v(" "),a("li",[t._v("requireæ˜¯åŒæ­¥å¯¼å…¥ï¼Œimportå±äºå¼‚æ­¥å¯¼å…¥")]),t._v(" "),a("li",[t._v("requireæ˜¯å€¼æ‹·è´ï¼Œå¯¼å‡ºå€¼å˜åŒ–ä¸ä¼šå½±å“å¯¼å…¥å€¼ï¼›importæŒ‡å‘å†…å­˜åœ°å€ï¼Œå¯¼å…¥å€¼ä¼šéšå¯¼å‡ºå€¼è€Œå˜åŒ–")])])])]),t._v(" "),a("h2",{attrs:{id:"_15-é˜²æŠ–ä¸èŠ‚æµ"}},[t._v("ğŸ 15.é˜²æŠ–ä¸èŠ‚æµ")]),t._v(" "),a("p",[t._v("é˜²æŠ–ä¸èŠ‚æµå‡½æ•°æ˜¯ä¸€ç§æœ€å¸¸è§çš„ é«˜é¢‘è§¦å‘ä¼˜åŒ–æ–¹å¼ï¼Œèƒ½å¯¹æ€§èƒ½æœ‰è¾ƒå¤§çš„å¸®åŠ©")]),t._v(" "),a("ul",[a("li",[t._v("é˜²æŠ–(debounce): å°†å¤šæ¬¡é«˜é¢‘æ“ä½œä¼˜åŒ–ä¸ºåªåœ¨æœ€åä¸€æ¬¡æ‰§è¡Œï¼Œé€šå¸¸ä½¿ç”¨çš„åœºæ™¯æ˜¯ï¼šç”¨æˆ·è¾“å…¥ï¼Œåªéœ€è¦è¾“å…¥å®Œæˆååšä¸€æ¬¡è¾“å…¥æ ¡éªŒå³å¯ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debounce")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("immediate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" args "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" context "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("immediate "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("èŠ‚æµ(throttle):æ¯éš”ä¸€æ®µæ—¶é—´åæ‰§è¡Œä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯é™ä½é¢‘ç‡ï¼Œå°†é«˜é¢‘æ“ä½œä¼˜åŒ–æˆä½é¢‘æ“ä½œï¼Œé€šå¸¸ä½¿ç”¨åœºæ™¯ï¼šæ»šåŠ¨æ¡äº‹ä»¶æˆ–è€…resizeäº‹ä»¶ï¼Œé€šå¸¸æ¯éš”100ï½500msæ‰§è¡Œä¸€æ¬¡å³å¯ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("throttle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("immediate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" callNow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" immediate\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" context "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("args "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callNow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            callNow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_16-å‡½æ•°æ‰§è¡Œæ”¹å˜this"}},[t._v("ğŸ 16.å‡½æ•°æ‰§è¡Œæ”¹å˜this")]),t._v(" "),a("p",[t._v("ç”±äºJSçš„è®¾è®¡åŸç†ï¼šåœ¨å‡½æ•°ä¸­ï¼Œå¯ä»¥å¼•ç”¨è¿è¡Œç¯å¢ƒä¸­çš„å˜é‡ã€‚å› æ­¤å°±éœ€è¦ä¸€ä¸ªæœºåˆ¶æ¥è®©æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°ä½“å†…éƒ¨è·å–å½“å‰çš„è¿è¡Œç¯å¢ƒï¼Œè¿™ä¾¿æ˜¯this\nå› æ­¤è¦æ˜ç™½thisæŒ‡å‘ï¼Œå…¶å®å°±æ˜¯è¦ææ¸…æ¥šå‡½æ•°çš„è¿è¡Œç¯å¢ƒï¼Œè°è°ƒç”¨äº†å‡½æ•°ã€‚ä¾‹å¦‚ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("obj.fn(),ä¾¿æ˜¯objè°ƒç”¨äº†å‡½æ•°ï¼Œå³å‡½æ•°ä¸­çš„this === obj")]),t._v(" "),a("li",[t._v("fn(),è¿™é‡Œå¯ä»¥çœ‹æˆwindow.fn(),å› æ­¤this === window\nä½†è¿™ç§æœºåˆ¶å¹¶ä¸å®Œå…¨èƒ½æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå› æ­¤æä¾›äº†ä¸‰ç§æ–¹å¼å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹thisçš„æŒ‡å‘ï¼š")]),t._v(" "),a("li",[t._v("call: fn.call(target,1,2)")]),t._v(" "),a("li",[t._v("apply: fn.apply(target,[1,2])")]),t._v(" "),a("li",[t._v("bind: fn.bind(target)(1,2)")])]),t._v(" "),a("h2",{attrs:{id:"_17-es6-es7"}},[t._v("ğŸ 17.ES6/ES7")]),t._v(" "),a("p",[t._v("ç”±äºBabelçš„å¼ºå¤§å’Œæ™®åŠï¼Œç°åœ¨ES6/ES7åŸºæœ¬ä¸Šå·²ç»æ˜¯ç°ä»£åŒ–å¼€å‘çš„å¿…å¤‡äº†ã€‚é€šè¿‡æ–°çš„è¯­æ³•ç³–ï¼Œèƒ½è®©ä»£ç æ•´ä½“æ›´ä¸ºç®€æ´å’Œæ˜“è¯»ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å£°æ˜\n"),a("ul",[a("li",[t._v("let/constï¼šå—çº§ä½œç”¨åŸŸã€ä¸å­˜åœ¨å˜é‡æå‡ã€æš‚æ—¶æ€§æ­»åŒºã€ä¸å…è®¸é‡å¤å£°æ˜")]),t._v(" "),a("li",[t._v("constï¼šå£°æ˜å¸¸é‡ï¼Œæ— æ³•ä¿®æ”¹")])])]),t._v(" "),a("li",[t._v("è§£æ„èµ‹å€¼\n"),a("ul",[a("li",[t._v("class/extendï¼šç±»å£°æ˜ä¸ç»§æ‰¿")]),t._v(" "),a("li",[t._v("Set/Mapï¼šæ–°çš„æ•°æ®ç»“æ„")]),t._v(" "),a("li",[t._v("å¼‚æ­¥è§£å†³æ–¹æ¡ˆï¼š\n"),a("ul",[a("li",[t._v("Promiseçš„ä½¿ç”¨ä¸å®ç°")]),t._v(" "),a("li",[t._v("generator:\n"),a("ul",[a("li",[t._v("yield: æš‚åœä»£ç ")]),t._v(" "),a("li",[t._v("next(): ç»§ç»­æ‰§è¡Œä»£ç ")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("helloWorld")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ending'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" generator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("helloWorld")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngenerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {value:'hello',done:false}")]),t._v("\ngenerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {value:'world',done:false}")]),t._v("\ngenerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {value:'ending',done:true}")]),t._v("\ngenerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {value:undefined,done:true}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("await / async: æ˜¯generatorçš„è¯­æ³•ç³–ï¼Œbabelä¸­æ˜¯åŸºäºpromiseå®ç°ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserByAsync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserByAsync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"_18-ast"}},[t._v("ğŸ 18.AST")]),t._v(" "),a("p",[t._v("æŠ½è±¡è¯­æ³•æ ‘(Abstract Syntax Tree),æ˜¯å°†ä»£ç é€å­—æ¯è§£ææˆæ ‘çŠ¶å¯¹è±¡çš„å½¢å¼ã€‚è¿™æ˜¯è¯­è¨€ä¹‹é—´çš„è½¬æ¢ã€ä»£ç è¯­æ³•æ£€æŸ¥ï¼Œä»£ç é£æ ¼æ£€æŸ¥ï¼Œä»£ç æ ¼å¼åŒ–ï¼Œä»£ç é«˜äº®ï¼Œä»£ç é”™è¯¯æç¤ºï¼Œä»£ç è‡ªåŠ¨è¡¥å…¨ç­‰ç­‰çš„åŸºç¡€ã€‚ä¾‹å¦‚ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("square")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("n")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é€šè¿‡è§£æè½¬åŒ–æˆçš„ASTå¦‚ä¸‹å›¾")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("FunctionDeclaration "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FunctionDeclaration"')]),t._v("\n    start"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    end"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("Identifier "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    expression"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    generator"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" BlockStatement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_19-babelç¼–è¯‘åŸç†"}},[t._v("ğŸ 19.babelç¼–è¯‘åŸç†")]),t._v(" "),a("ul",[a("li",[t._v("babylonå°†ES6/ES7ä»£ç è§£ææˆAST")]),t._v(" "),a("li",[t._v("babel-traverseå¯¹ASTè¿›è¡Œéå†è½¬è¯‘ï¼Œå¾—åˆ°æ–°çš„AST")]),t._v(" "),a("li",[t._v("æ–°ASTé€šè¿‡babel-generatorè½¬æ¢æˆES5")])]),t._v(" "),a("h2",{attrs:{id:"_20-å‡½æ•°æŸ¯é‡ŒåŒ–"}},[t._v("ğŸ 20.å‡½æ•°æŸ¯é‡ŒåŒ–")]),t._v(" "),a("p",[t._v("åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œé¦–å…ˆå¡«å……å‡ ä¸ªå‚æ•°ï¼Œç„¶åå†è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°çš„æŠ€æœ¯ï¼Œç§°ä¸ºå‡½æ•°çš„æŸ¯é‡ŒåŒ–ã€‚é€šå¸¸å¯ç”¨äºåœ¨ä¸ä¾µå…¥å‡½æ•°çš„å‰æä¸‹ï¼Œä¸ºå‡½æ•°é¢„ç½®é€šç”¨å‚æ•°ï¼Œä¾›å¤šæ¬¡é‡å¤è°ƒç”¨")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" y\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" add1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v("\n")])])]),a("h2",{attrs:{id:"_21-æ•°ç»„ï¼ˆarrayï¼‰"}},[t._v("ğŸ 21.æ•°ç»„ï¼ˆarrayï¼‰")]),t._v(" "),a("ul",[a("li",[t._v("mapï¼šéå†æ•°ç»„ï¼Œè¿”å›å›è°ƒè¿”å›å€¼ç»„æˆçš„æ–°æ•°ç»„")]),t._v(" "),a("li",[t._v("forEachï¼šæ— æ³•breakï¼Œå¯ä»¥ç”¨try/catchä¸­throw new Erroræ¥åœæ­¢")]),t._v(" "),a("li",[t._v("filterï¼šè¿‡æ»¤")]),t._v(" "),a("li",[t._v("someï¼šæœ‰ä¸€é¡¹è¿”å›trueï¼Œåˆ™æ•´ä½“ä¸ºtrue")]),t._v(" "),a("li",[t._v("everyï¼šæœ‰ä¸€é¡¹è¿”å›falseï¼Œåˆ™æ•´ä½“ä¸ºfalse")]),t._v(" "),a("li",[t._v("joinï¼šé€šè¿‡æŒ‡å®šè¿æ¥ç¬¦ç”Ÿæˆå­—ç¬¦ä¸²")]),t._v(" "),a("li",[t._v("push/popï¼šæœ«å°¾æ¨å…¥å’Œå¼¹å‡ºï¼Œæ”¹å˜åŸæ•°ç»„ï¼Œè¿”å›æ¨å…¥/å¼¹å‡ºé¡¹")]),t._v(" "),a("li",[t._v("unshift/shiftï¼šå¤´éƒ¨æ¨å…¥å’Œå¼¹å‡ºï¼Œæ”¹å˜åŸæ•°ç»„ï¼Œè¿”å›æ“ä½œé¡¹")]),t._v(" "),a("li",[t._v("sort(fn)/reverse: æ’åºä¸åè½¬ï¼Œæ”¹å˜åŸæ•°ç»„")]),t._v(" "),a("li",[t._v("concatï¼šè¿æ¥æ•°ç»„ï¼Œä¸å½±å“åŸæ•°ç»„ï¼Œæµ…æ‹·è´")]),t._v(" "),a("li",[t._v("slice(start,end): è¿”å›æˆªæ–­åçš„æ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„")]),t._v(" "),a("li",[t._v("splice(start,number,value...): è¿”å›åˆ é™¤å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œvalueä¸ºæ’å…¥é¡¹ï¼Œæ”¹å˜åŸæ•°ç»„")]),t._v(" "),a("li",[t._v("indexOf/lastIndexOf(value,fromIndex):æŸ¥æ‰¾æ•°ç»„é¡¹ï¼Œè¿”å›å¯¹åº”çš„ä¸‹æ ‡")]),t._v(" "),a("li",[t._v("reduce/reduceRight(fn(prev,cur),defaultPrev):Â ä¸¤ä¸¤æ‰§è¡Œï¼Œprevä¸ºä¸Šæ¬¡åŒ–ç®€å‡½æ•°çš„returnå€¼ï¼Œcurä¸ºå½“å‰å€¼ï¼ˆä»ç¬¬äºŒé¡¹å¼€å§‹ï¼‰")]),t._v(" "),a("li",[t._v("æ•°ç»„ä¹±åºï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("43")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("433")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\narr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("æ•°ç»„æ‹†è§£ï¼šflat:[1,[2,3]] --\x3e[1,2,3]")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("flat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h1",{attrs:{id:"æµè§ˆå™¨"}},[t._v("æµè§ˆå™¨")]),t._v(" "),a("h2",{attrs:{id:"_1-è·¨æ ‡ç­¾é¡µé€šè®¯"}},[t._v("1.è·¨æ ‡ç­¾é¡µé€šè®¯")]),t._v(" "),a("p",[t._v("ä¸åŒæ ‡ç­¾é¡µé—´çš„é€šè®¯ï¼Œæœ¬è´¨åŸç†å°±æ˜¯å»è¿ç”¨ä¸€äº›å¯ä»¥å…±äº«çš„ä¸­é—´ä»‹è´¨ï¼Œå› æ­¤æ¯”è¾ƒå¸¸ç”¨çš„æœ‰ä»¥ä¸‹æ–¹æ³•ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("é€šè¿‡çˆ¶é¡µé¢window.open()å’Œå­é¡µé¢postMessage\n"),a("ul",[a("li",[t._v("å¼‚æ­¥ä¸‹ï¼Œé€šè¿‡window.open('about: blank')Â å’Œ tab.location.href = '*'")])])]),t._v(" "),a("li",[t._v("è®¾ç½®åŒåŸŸä¸‹å…±äº«çš„localStorageä¸ç›‘å¬window.onstorage\n"),a("ul",[a("li",[t._v("é‡å¤å†™å…¥ç›¸åŒçš„å€¼æ— æ³•è§¦å‘")]),t._v(" "),a("li",[t._v("ä¼šå—åˆ°æµè§ˆå™¨éšèº«æ¨¡å¼ç­‰çš„é™åˆ¶")])])]),t._v(" "),a("li",[t._v("è®¾ç½®å…±äº«cookieä¸ä¸æ–­è½®è¯¢è„æ£€æŸ¥ï¼ˆsetIntervalï¼‰")]),t._v(" "),a("li",[t._v("å€ŸåŠ©æœåŠ¡ç«¯æˆ–è€…ä¸­é—´å±‚å®ç°")])]),t._v(" "),a("h2",{attrs:{id:"_2-æµè§ˆå™¨æ¶æ„"}},[t._v("2.æµè§ˆå™¨æ¶æ„")]),t._v(" "),a("ul",[a("li",[t._v("ç”¨æˆ·ç•Œé¢")]),t._v(" "),a("li",[t._v("ä¸»è¿›ç¨‹")]),t._v(" "),a("li",[t._v("å†…æ ¸\n"),a("ul",[a("li",[t._v("æ¸²æŸ“å¼•æ“")]),t._v(" "),a("li",[t._v("JSå¼•æ“\n"),a("ul",[a("li",[t._v("æ‰§è¡Œæ ˆ")])])]),t._v(" "),a("li",[t._v("äº‹ä»¶è§¦å‘çº¿ç¨‹\n"),a("ul",[a("li",[t._v("æ¶ˆæ¯é˜Ÿåˆ—\n"),a("ul",[a("li",[t._v("å¾®ä»»åŠ¡")]),t._v(" "),a("li",[t._v("å®ä»»åŠ¡")])])])])]),t._v(" "),a("li",[t._v("ç½‘ç»œå¼‚æ­¥çº¿ç¨‹")]),t._v(" "),a("li",[t._v("å®šæ—¶å™¨çº¿ç¨‹")])])])]),t._v(" "),a("h2",{attrs:{id:"_3-æµè§ˆå™¨ä¸‹äº‹ä»¶å¾ªç¯ï¼ˆevent-loopï¼‰"}},[t._v("ğŸ 3.æµè§ˆå™¨ä¸‹äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰")]),t._v(" "),a("ul",[a("li",[t._v("å¾®ä»»åŠ¡ microtask(jobs): promise/ajax/Object.observe(è¯¥æ–¹æ³•å·²åºŸå¼ƒ)")]),t._v(" "),a("li",[t._v("å®ä»»åŠ¡ macrotask(task): setTimeout/script/IO/UI Rendering")])]),t._v(" "),a("h2",{attrs:{id:"_4-ä»è¾“å…¥urlåˆ°å±•ç¤ºçš„è¿‡ç¨‹"}},[t._v("ğŸ 4. ä»è¾“å…¥urlåˆ°å±•ç¤ºçš„è¿‡ç¨‹")]),t._v(" "),a("ul",[a("li",[t._v("DNSè§£æ")]),t._v(" "),a("li",[t._v("TCPä¸‰æ¬¡æ¡æ‰‹")]),t._v(" "),a("li",[t._v("å‘é€è¯·æ±‚ï¼Œåˆ†æurlï¼Œè®¾ç½®è¯·æ±‚æŠ¥æ–‡ï¼ˆå¤´ï¼Œä¸»ä½“ï¼‰")]),t._v(" "),a("li",[t._v("æœåŠ¡å™¨è¿”å›è¯·æ±‚çš„æ–‡ä»¶ï¼ˆhtmlï¼‰")]),t._v(" "),a("li",[t._v("æµè§ˆå™¨æ¸²æŸ“\n"),a("ul",[a("li",[t._v("HTML parser --\x3e DOM Tree\n"),a("ul",[a("li",[t._v("æ ‡è®°åŒ–ç®—æ³•ï¼Œè¿›è¡Œå…ƒç´ çŠ¶æ€çš„æ ‡è®°")]),t._v(" "),a("li",[t._v("domæ ‘æ„å»º")])])]),t._v(" "),a("li",[t._v("CSS parser --\x3e Style Tree\n"),a("ul",[a("li",[t._v("è§£æcssä»£ç ï¼Œç”Ÿæˆæ ·å¼æ ‘")])])]),t._v(" "),a("li",[t._v("attachment --\x3e Render Tree\n"),a("ul",[a("li",[t._v("ç»“åˆdomæ ‘ä¸styleæ ‘ï¼Œç”Ÿæˆæ¸²æŸ“æ ‘")])])]),t._v(" "),a("li",[t._v("layoutï¼šå¸ƒå±€")]),t._v(" "),a("li",[t._v("GPU paintingï¼šåƒç´ ç»˜åˆ¶é¡µé¢")])])])]),t._v(" "),a("h2",{attrs:{id:"_5-é‡ç»˜ä¸å›æµ"}},[t._v("ğŸ 5. é‡ç»˜ä¸å›æµ")]),t._v(" "),a("p",[t._v("å½“å…ƒç´ çš„æ ·å¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨éœ€è¦è§¦å‘æ›´æ–°ï¼Œé‡æ–°ç»˜åˆ¶å…ƒç´ ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„æ“ä½œï¼Œå³é‡ç»˜ä¸å›æµã€‚")]),t._v(" "),a("ul",[a("li",[t._v("é‡ç»˜(repaint):å½“å…ƒç´ æ ·å¼çš„æ”¹å˜ä¸å½±å“å¸ƒå±€æ—¶ï¼Œæµè§ˆå™¨å°†ä½¿ç”¨é‡ç»˜å¯¹å…ƒç´ è¿›è¡Œæ›´æ–°ï¼Œæ­¤æ—¶ç”±äºåªéœ€è¦UIå±‚é¢çš„é‡æ–°åƒç´ ç»˜åˆ¶ï¼Œå› æ­¤æŸè€—è¾ƒå°‘")]),t._v(" "),a("li",[t._v("å›æµ(reflow):å½“å…ƒç´ çš„å°ºå¯¸ã€ç»“æ„æˆ–è§¦å‘æŸäº›å±æ€§æ—¶ï¼Œæµè§ˆå™¨ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œç§°ä¸ºå›æµã€‚æ­¤æ—¶ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°ç»è¿‡è®¡ç®—ï¼Œè®¡ç®—åè¿˜éœ€è¦é‡æ–°é¡µé¢å¸ƒå±€ï¼Œå› æ­¤æ˜¯è¾ƒé‡çš„æ“ä½œã€‚ä¼šè§¦å‘å›æµçš„æ“ä½œï¼š\n"),a("ul",[a("li",[t._v("é¡µé¢åˆæ¬¡æ¸²æŸ“")]),t._v(" "),a("li",[t._v("æµè§ˆå™¨çª—å£å¤§å°æ”¹å˜")]),t._v(" "),a("li",[t._v("å…ƒç´ å°ºå¯¸ã€ä½ç½®ã€å†…å®¹å‘ç”Ÿæ”¹å˜")]),t._v(" "),a("li",[t._v("å…ƒç´ å­—ä½“å¤§å°å˜åŒ–")]),t._v(" "),a("li",[t._v("æ·»åŠ æˆ–è€…åˆ é™¤å¯è§çš„domå…ƒç´ ")]),t._v(" "),a("li",[t._v("æ¿€æ´»cssä¼ªç±»ï¼ˆä¾‹å¦‚ï¼š:hoverï¼‰")]),t._v(" "),a("li",[t._v("æŸ¥è¯¢æŸäº›å±æ€§æˆ–è°ƒç”¨æŸäº›æ–¹æ³•\n"),a("ul",[a("li",[t._v("clientWidthã€clientHeightã€clientTopã€clientLeft")]),t._v(" "),a("li",[t._v("offsetWidthã€offsetHeightã€offsetTopã€offsetLeft")]),t._v(" "),a("li",[t._v("scrollWidthã€scrollHeightã€scrollTopã€scrollLeft")]),t._v(" "),a("li",[t._v("getComputedStyle()")]),t._v(" "),a("li",[t._v("getBoundingClientRect()")]),t._v(" "),a("li",[t._v("scrollTo()\nå›æµå¿…å®šè§¦å‘é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šè§¦å‘å›æµã€‚é‡ç»˜çš„å¼€é”€è¾ƒå°ï¼Œå›æµçš„ä»£ä»·è¾ƒé«˜ã€‚\næœ€ä½³å®è·µ")])])])])]),t._v(" "),a("li",[t._v("css\n"),a("ul",[a("li",[t._v("é¿å…ä½¿ç”¨tableå¸ƒå±€")]),t._v(" "),a("li",[t._v("å°†åŠ¨ç”»æ•ˆæœåº”ç”¨åˆ°positionå±æ€§ä¸ºabsoluteæˆ–fixedçš„å…ƒç´ ä¸Š")])])]),t._v(" "),a("li",[t._v("javascript\n"),a("ul",[a("li",[t._v("é¿å…é¢‘ç¹æ“ä½œæ ·å¼ï¼Œå¯æ±‡æ€»åç»Ÿä¸€ä¸€æ¬¡ä¿®æ”¹")]),t._v(" "),a("li",[t._v("å°½é‡ä½¿ç”¨classè¿›è¡Œæ ·å¼ä¿®æ”¹")]),t._v(" "),a("li",[t._v("å‡å°‘domçš„å¢åˆ æ¬¡æ•°ï¼Œå¯ä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…documentFragmentä¸€æ¬¡æ€§æ’å…¥")]),t._v(" "),a("li",[t._v("æé™ä¼˜åŒ–æ—¶ï¼Œä¿®æ”¹æ ·å¼å¯å°†å…¶displayï¼šnoneåä¿®æ”¹")]),t._v(" "),a("li",[t._v("é¿å…å¤šæ¬¡è§¦å‘ä¸Šé¢æåˆ°çš„é‚£äº›ä¼šè§¦å‘å›æµçš„æ–¹æ³•ï¼Œå¯ä»¥çš„è¯å°½é‡ç”¨å˜é‡å­˜ä½")])])])]),t._v(" "),a("h2",{attrs:{id:"_6-å­˜å‚¨"}},[t._v("ğŸ 6.å­˜å‚¨")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç»å¸¸éœ€è¦å¯¹ä¸šåŠ¡ä¸­çš„ä¸€äº›æ•°æ®è¿›è¡Œå­˜å‚¨ï¼Œé€šå¸¸å¯ä»¥åˆ†ä¸º çŸ­æš‚æ€§å­˜å‚¨ å’Œ æŒä¹…æ€§å‚¨å­˜ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("çŸ­æš‚æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œåªåœ¨è¿è¡Œæ—¶å¯ç”¨")]),t._v(" "),a("li",[t._v("æŒä¹…æ€§å­˜å‚¨ï¼Œå¯ä»¥åˆ†ä¸º æµè§ˆå™¨ç«¯ ä¸ æœåŠ¡å™¨ç«¯\n"),a("ul",[a("li",[t._v("æµè§ˆå™¨:\n"),a("ul",[a("li",[t._v("cookie: é€šå¸¸ç”¨äºå­˜å‚¨ç”¨æˆ·èº«ä»½ï¼Œç™»å½•çŠ¶æ€ç­‰\n"),a("ul",[a("li",[t._v("http ä¸­è‡ªåŠ¨æºå¸¦ï¼Œ ä½“ç§¯ä¸Šé™ä¸º 4Kï¼Œ å¯è‡ªè¡Œè®¾ç½®è¿‡æœŸæ—¶é—´")])])]),t._v(" "),a("li",[t._v("localStorage / sessionStorage: é•¿ä¹…å‚¨å­˜/çª—å£å…³é—­åˆ é™¤ï¼Œ ä½“ç§¯é™åˆ¶ä¸º 4~5M")]),t._v(" "),a("li",[t._v("indexDB")])])]),t._v(" "),a("li",[t._v("æœåŠ¡å™¨:\n"),a("ul",[a("li",[t._v("åˆ†å¸ƒå¼ç¼“å­˜ redis")]),t._v(" "),a("li",[t._v("æ•°æ®åº“")])])])])])]),t._v(" "),a("h2",{attrs:{id:"_7-web-worker"}},[t._v("ğŸ 7.Web Worker")]),t._v(" "),a("p",[t._v("ç°ä»£æµè§ˆå™¨ä¸ºJavaScriptåˆ›é€ çš„ å¤šçº¿ç¨‹ç¯å¢ƒã€‚å¯ä»¥æ–°å»ºå¹¶å°†éƒ¨åˆ†ä»»åŠ¡åˆ†é…åˆ°workerçº¿ç¨‹å¹¶è¡Œè¿è¡Œï¼Œä¸¤ä¸ªçº¿ç¨‹å¯ ç‹¬ç«‹è¿è¡Œï¼Œäº’ä¸å¹²æ‰°ï¼Œå¯é€šè¿‡è‡ªå¸¦çš„ æ¶ˆæ¯æœºåˆ¶ ç›¸äº’é€šä¿¡ã€‚\nåŸºæœ¬ç”¨æ³•:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   åˆ›å»ºworker")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" worker "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'work.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘ä¸»è¿›ç¨‹æ¨é€æ¶ˆæ¯")]),t._v("\nworker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬ä¸»è¿›ç¨‹æ¥çš„æ¶ˆæ¯")]),t._v("\nworker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmessage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Received message '")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é™åˆ¶ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åŒæºé™åˆ¶")]),t._v(" "),a("li",[t._v("æ— æ³•ä½¿ç”¨ document/window/alert/confirm")]),t._v(" "),a("li",[t._v("æ— æ³•åŠ è½½æœ¬åœ°èµ„æº")])]),t._v(" "),a("h2",{attrs:{id:"_8-v8åƒåœ¾å›æ”¶æœºåˆ¶"}},[t._v("ğŸ 8.V8åƒåœ¾å›æ”¶æœºåˆ¶")]),t._v(" "),a("p",[t._v("åƒåœ¾å›æ”¶: å°†å†…å­˜ä¸­ä¸å†ä½¿ç”¨çš„æ•°æ®è¿›è¡Œæ¸…ç†ï¼Œé‡Šæ”¾å‡ºå†…å­˜ç©ºé—´ã€‚V8 å°†å†…å­˜åˆ†æˆ æ–°ç”Ÿä»£ç©ºé—´ å’Œ è€ç”Ÿä»£ç©ºé—´ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("æ–°ç”Ÿä»£ç©ºé—´: ç”¨äºå­˜æ´»è¾ƒçŸ­çš„å¯¹è±¡\n"),a("ul",[a("li",[t._v("åˆåˆ†æˆä¸¤ä¸ªç©ºé—´: from ç©ºé—´ ä¸ to ç©ºé—´")]),t._v(" "),a("li",[t._v("Scavenge GCç®—æ³•: å½“ from ç©ºé—´è¢«å æ»¡æ—¶ï¼Œå¯åŠ¨ GC ç®—æ³•\n"),a("ul",[a("li",[t._v("å­˜æ´»çš„å¯¹è±¡ä» from space è½¬ç§»åˆ° to space")]),t._v(" "),a("li",[t._v("æ¸…ç©º from space")]),t._v(" "),a("li",[t._v("from space ä¸ to space äº’æ¢")]),t._v(" "),a("li",[t._v("å®Œæˆä¸€æ¬¡æ–°ç”Ÿä»£GC")])])])])]),t._v(" "),a("li",[t._v("è€ç”Ÿä»£ç©ºé—´: ç”¨äºå­˜æ´»æ—¶é—´è¾ƒé•¿çš„å¯¹è±¡\n"),a("ul",[a("li",[t._v("ä» æ–°ç”Ÿä»£ç©ºé—´ è½¬ç§»åˆ° è€ç”Ÿä»£ç©ºé—´ çš„æ¡ä»¶\n"),a("ul",[a("li",[t._v("ç»å†è¿‡ä¸€æ¬¡ä»¥ä¸Š Scavenge GC çš„å¯¹è±¡")]),t._v(" "),a("li",[t._v("å½“ to space ä½“ç§¯è¶…è¿‡25%")])])]),t._v(" "),a("li",[t._v("æ ‡è®°æ¸…é™¤ç®—æ³•: æ ‡è®°å­˜æ´»çš„å¯¹è±¡ï¼Œæœªè¢«æ ‡è®°çš„åˆ™è¢«é‡Šæ”¾\n"),a("ul",[a("li",[t._v("å¢é‡æ ‡è®°ï¼šå°æ¨¡å—æ ‡è®°ï¼Œåœ¨ä»£ç æ‰§è¡Œé—´éš™æ‰§ï¼ŒGCä¼šå½±å“æ€§èƒ½")]),t._v(" "),a("li",[t._v("å¹¶å‘æ ‡è®°ï¼ˆæœ€æ–°æŠ€æœ¯ï¼‰ï¼šä¸é˜»å¡jsæ‰§è¡Œ")])])]),t._v(" "),a("li",[t._v("å‹ç¼©ç®—æ³•ï¼šå°†å†…å­˜ä¸­æ¸…é™¤åå¯¼è‡´çš„ç¢ç‰‡åŒ–å¯¹è±¡å¾€å†…å­˜å †çš„ä¸€ç«¯ç§»åŠ¨ï¼Œè§£å†³å†…å­˜çš„ç¢ç‰‡åŒ–")])])])]),t._v(" "),a("h2",{attrs:{id:"_9-å†…å­˜æ³„æ¼"}},[t._v("ğŸ 9.å†…å­˜æ³„æ¼")]),t._v(" "),a("ul",[a("li",[t._v("æ„å¤–çš„å…¨å±€å˜é‡ï¼šæ— æ³•è¢«å›æ”¶")]),t._v(" "),a("li",[t._v("å®šæ—¶å™¨ï¼šæœªè¢«æ­£ç¡®å…³é—­ï¼Œå¯¼è‡´æ‰€å¼•ç”¨çš„å¤–éƒ¨å˜é‡æ— æ³•è¢«é‡Šæ”¾")]),t._v(" "),a("li",[t._v("äº‹ä»¶ç›‘å¬ï¼šæ²¡æœ‰æ­£ç¡®é”€æ¯ï¼ˆä½ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½å‡ºç°ï¼‰")]),t._v(" "),a("li",[t._v("é—­åŒ…ï¼šä¼šå¯¼è‡´çˆ¶çº§ä¸­çš„å˜é‡æ— æ³•è¢«é‡Šæ”¾")]),t._v(" "),a("li",[t._v("domå¼•ç”¨ï¼šdomå…ƒç´ è¢«åˆ é™¤æ—¶ï¼Œå†…å­˜ä¸­çš„å¼•ç”¨æœªè¢«æ­£ç¡®æ¸…ç©º\nå¯ç”¨chromeä¸­çš„timelineè¿›è¡Œå†…å­˜æ ‡è®°ï¼Œå¯è§†åŒ–æŸ¥çœ‹å†…å­˜çš„å˜åŒ–æƒ…å†µï¼Œæ‰¾å‡ºå¼‚å¸¸ç‚¹")])]),t._v(" "),a("h1",{attrs:{id:"æœåŠ¡ç«¯ä¸ç½‘ç»œ"}},[t._v("æœåŠ¡ç«¯ä¸ç½‘ç»œ")]),t._v(" "),a("h2",{attrs:{id:"_1-http-httpsåè®®"}},[t._v("ğŸ 1.http/httpsåè®®")]),t._v(" "),a("ul",[a("li",[t._v("1.0 åè®®ç¼ºé™·\n"),a("ul",[a("li",[t._v("æ— æ³•å¤ç”¨é“¾æ¥ï¼Œå®Œæˆå³æ–­å¼€ï¼Œé‡æ–°æ…¢å¯åŠ¨å’ŒTCP3æ¬¡æ¡æ‰‹")]),t._v(" "),a("li",[t._v("head of line blockingï¼šçº¿å¤´é˜»å¡ï¼Œå¯¼è‡´è¯·æ±‚ä¹‹é—´äº’ç›¸å½±å“")])])]),t._v(" "),a("li",[t._v("1.1æ”¹è¿›ï¼š\n"),a("ul",[a("li",[t._v("é•¿è¿æ¥ï¼ˆé»˜è®¤keep-aliveï¼‰ï¼Œå¤ç”¨")]),t._v(" "),a("li",[t._v("hostå­—æ®µæŒ‡å®šå¯¹åº”çš„è™šæ‹Ÿç«™ç‚¹")]),t._v(" "),a("li",[t._v("æ–°å¢åŠŸèƒ½\n"),a("ul",[a("li",[t._v("æ–­ç‚¹ç»­ä¼ ")]),t._v(" "),a("li",[t._v("èº«ä»½è®¤è¯")]),t._v(" "),a("li",[t._v("çŠ¶æ€ç®¡ç†")]),t._v(" "),a("li",[t._v("cacheç¼“å­˜\n"),a("ul",[a("li",[t._v("Cache-Control")]),t._v(" "),a("li",[t._v("Expires")]),t._v(" "),a("li",[t._v("Last-Modified")]),t._v(" "),a("li",[t._v("Etag")])])])])])])]),t._v(" "),a("li",[t._v("2.0:\n"),a("ul",[a("li",[t._v("å¤šè·¯å¤ç”¨")]),t._v(" "),a("li",[t._v("äºŒè¿›åˆ¶åˆ†å¸§å±‚ï¼šåº”ç”¨å±‚å’Œä¼ è¾“å±‚ä¹‹é—´")]),t._v(" "),a("li",[t._v("é¦–éƒ¨å‹ç¼©")]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯æ¨é€")])])]),t._v(" "),a("li",[t._v("httpsï¼šè¾ƒä¸ºå®‰å…¨çš„ç½‘ç»œä¼ è¾“åè®®\n"),a("ul",[a("li",[t._v("è¯ä¹¦ï¼ˆå…¬é’¥ï¼‰")]),t._v(" "),a("li",[t._v("SSLåŠ å¯†")]),t._v(" "),a("li",[t._v("ç«¯å£443")])])]),t._v(" "),a("li",[t._v("TCPï¼š\n"),a("ul",[a("li",[t._v("ä¸‰æ¬¡æ¡æ‰‹")]),t._v(" "),a("li",[t._v("å››æ¬¡æ¡æ‰‹")]),t._v(" "),a("li",[t._v("æ»‘åŠ¨çª—å£ï¼šæµé‡æ§åˆ¶")]),t._v(" "),a("li",[t._v("æ‹¥å¡å¤„ç†\n"),a("ul",[a("li",[t._v("æ…¢å¼€å§‹")]),t._v(" "),a("li",[t._v("æ‹¥å¡é¿å…")]),t._v(" "),a("li",[t._v("å¿«é€Ÿé‡ä¼ ")]),t._v(" "),a("li",[t._v("å¿«é€Ÿæ¢å¤")])])])])]),t._v(" "),a("li",[t._v("ç¼“å­˜ç­–ç•¥ï¼šå¯åˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜\n"),a("ul",[a("li",[t._v("Cache-Control/Expires:æµè§ˆå™¨åˆ¤æ–­ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œæœªè¿‡æœŸæ—¶ï¼Œç›´æ¥ä½¿ç”¨å¼ºç¼“å­˜ï¼ŒCache-Controlçš„max-ageä¼˜å…ˆçº§é«˜äºExpires")]),t._v(" "),a("li",[t._v("å½“ç¼“å­˜å·²ç»è¿‡æœŸæ—¶ï¼Œä½¿ç”¨åå•†ç¼“å­˜\n"),a("ul",[a("li",[t._v("å”¯ä¸€æ ‡è¯†æ–¹æ¡ˆ: Etag(response æºå¸¦) & If-None-Match(requestæºå¸¦ï¼Œä¸Šä¸€æ¬¡è¿”å›çš„ Etag): æœåŠ¡å™¨åˆ¤æ–­èµ„æºæ˜¯å¦è¢«ä¿®æ”¹ï¼Œ\næœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´: Last-Modified(response) & If-Modified-Since (requestï¼Œä¸Šä¸€æ¬¡è¿”å›çš„Last-Modified)\n"),a("ul",[a("li",[t._v("å¦‚æœä¸€è‡´ï¼Œåˆ™ç›´æ¥è¿”å› 304 é€šçŸ¥æµè§ˆå™¨ä½¿ç”¨ç¼“å­˜")]),t._v(" "),a("li",[t._v("å¦‚ä¸ä¸€è‡´ï¼Œåˆ™æœåŠ¡ç«¯è¿”å›æ–°çš„èµ„æº")])])])])]),t._v(" "),a("li",[t._v("Last-Modified ç¼ºç‚¹ï¼š\n"),a("ul",[a("li",[t._v("å‘¨æœŸæ€§ä¿®æ”¹ï¼Œä½†å†…å®¹æœªå˜æ—¶ï¼Œä¼šå¯¼è‡´ç¼“å­˜å¤±æ•ˆ")]),t._v(" "),a("li",[t._v("æœ€å°ç²’åº¦åªåˆ° sï¼Œ s ä»¥å†…çš„æ”¹åŠ¨æ— æ³•æ£€æµ‹åˆ°")])])]),t._v(" "),a("li",[t._v("Etag çš„ä¼˜å…ˆçº§é«˜äº Last-Modified")])])])]),t._v(" "),a("h2",{attrs:{id:"_2-å¸¸è§çŠ¶æ€ç "}},[t._v("ğŸ 2.å¸¸è§çŠ¶æ€ç ")]),t._v(" "),a("ul",[a("li",[t._v("1xxï¼šæ¥å—ï¼Œç»§ç»­å¤„ç†")]),t._v(" "),a("li",[t._v("200: æˆåŠŸï¼Œå¹¶è¿”å›æ•°æ®")]),t._v(" "),a("li",[t._v("201: å·²åˆ›å»º")]),t._v(" "),a("li",[t._v("202: å·²æ¥å—")]),t._v(" "),a("li",[t._v("203: æˆåŠŸï¼Œä½†æœªæˆæƒ")]),t._v(" "),a("li",[t._v("204: æˆåŠŸï¼Œæ— å†…å®¹")]),t._v(" "),a("li",[t._v("205: æˆåŠŸï¼Œé‡ç½®å†…å®¹")]),t._v(" "),a("li",[t._v("206: æˆåŠŸï¼Œéƒ¨åˆ†å†…å®¹")]),t._v(" "),a("li",[t._v("301: æ°¸ä¹…ç§»åŠ¨ï¼Œé‡å®šå‘")]),t._v(" "),a("li",[t._v("302: ä¸´æ—¶ç§»åŠ¨ï¼Œå¯ä½¿ç”¨åŸæœ‰URI")]),t._v(" "),a("li",[t._v("304: èµ„æºæœªä¿®æ”¹ï¼Œå¯ä½¿ç”¨ç¼“å­˜")]),t._v(" "),a("li",[t._v("305: éœ€ä»£ç†è®¿é—®")]),t._v(" "),a("li",[t._v("400: è¯·æ±‚è¯­æ³•é”™è¯¯")]),t._v(" "),a("li",[t._v("401: è¦æ±‚èº«ä»½è®¤è¯")]),t._v(" "),a("li",[t._v("403: æ‹’ç»è¯·æ±‚")]),t._v(" "),a("li",[t._v("404: èµ„æºä¸å­˜åœ¨")]),t._v(" "),a("li",[t._v("500: æœåŠ¡å™¨é”™è¯¯")])]),t._v(" "),a("h2",{attrs:{id:"_3-get-post"}},[t._v("ğŸ 3.get/post")]),t._v(" "),a("ul",[a("li",[t._v("get:ç¼“å­˜ã€è¯·æ±‚é•¿åº¦å—é™ã€ä¼šè¢«å†å²ä¿å­˜è®°å½•\n"),a("ul",[a("li",[t._v("æ— å‰¯ä½œç”¨ï¼ˆä¸ä¿®æ”¹èµ„æºï¼‰ï¼Œå¹‚ç­‰ï¼ˆè¯·æ±‚æ¬¡æ•°ä¸èµ„æºæ— å…³ï¼‰çš„åœºæ™¯")])])]),t._v(" "),a("li",[t._v("postï¼šå®‰å…¨ã€å¤§æ•°æ®ã€æ›´å¤šç¼–ç ç±»å‹\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/2/14/168e9d9050b9d08a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:"an image"}})])]),t._v(" "),a("h2",{attrs:{id:"_4-websocket"}},[t._v("ğŸ 4.Websocket")]),t._v(" "),a("p",[t._v("Websocketæ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„åè®®ï¼ŒåŸºäºhttpï¼ŒæœåŠ¡ç«¯å¯ä»¥ä¸»åŠ¨push")]),t._v(" "),a("ul",[a("li",[t._v("å…¼å®¹\n"),a("ul",[a("li",[t._v("FLASH Socket")]),t._v(" "),a("li",[t._v("é•¿è½®è¯¢ï¼šå®šæ—¶å‘é€ajax")]),t._v(" "),a("li",[t._v("long pollï¼šå‘é€--\x3e æœ‰æ¶ˆæ¯æ—¶å†response")])])]),t._v(" "),a("li",[t._v("new WebSocket(url)")]),t._v(" "),a("li",[t._v("ws.onerror = fn")]),t._v(" "),a("li",[t._v("ws.onclose = fn")]),t._v(" "),a("li",[t._v("ws.onopen = fn")]),t._v(" "),a("li",[t._v("ws.onmessage = fn")]),t._v(" "),a("li",[t._v("ws.send()")])]),t._v(" "),a("h2",{attrs:{id:"_5-tcpä¸‰æ¬¡æ¡æ‰‹"}},[t._v("ğŸ 5.TCPä¸‰æ¬¡æ¡æ‰‹")]),t._v(" "),a("p",[t._v("å»ºç«‹è¿æ¥å‰ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éœ€è¦é€šè¿‡æ¡æ‰‹æ¥ç¡®è®¤å¯¹æ–¹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å®¢æˆ·ç«¯å‘é€syn(åŒæ­¥åºåˆ—ç¼–å·)è¯·æ±‚ï¼Œè¿›å…¥syn_sendçŠ¶æ€ï¼Œç­‰å¾…ç¡®è®¤")]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯æ¥æ”¶å¹¶ç¡®è®¤synåŒ…åå‘é€syn+ackåŒ…ï¼Œè¿›å…¥syn_recvçŠ¶æ€")]),t._v(" "),a("li",[t._v("å®¢æˆ·ç«¯æ¥æ”¶syn+ackåŒ…åï¼Œå‘é€ackåŒ…ï¼ŒåŒæ–¹è¿›å…¥establishedçŠ¶æ€")])]),t._v(" "),a("h2",{attrs:{id:"_6-tcpå››æ¬¡æŒ¥æ‰‹"}},[t._v("ğŸ 6.TCPå››æ¬¡æŒ¥æ‰‹")]),t._v(" "),a("ul",[a("li",[t._v("å®¢æˆ·ç«¯--FIN--\x3eæœåŠ¡ç«¯ï¼ŒFIN--WAIT")]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯--ACK--\x3eå®¢æˆ·ç«¯ï¼ŒCLOSE-WAIT")]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯--ACKï¼ŒFIN--\x3eå®¢æˆ·ç«¯ï¼ŒLAST-ACK")]),t._v(" "),a("li",[t._v("å®¢æˆ·ç«¯--ACK--\x3eæœåŠ¡ç«¯ï¼ŒCLOSED")])]),t._v(" "),a("h2",{attrs:{id:"_7-nodeçš„eventloopï¼š6ä¸ªé˜¶æ®µ"}},[t._v("ğŸ 7.Nodeçš„EventLoopï¼š6ä¸ªé˜¶æ®µ")]),t._v(" "),a("ul",[a("li",[t._v("timer é˜¶æ®µ: æ‰§è¡Œåˆ°æœŸçš„setTimeout / setIntervalé˜Ÿåˆ—å›è°ƒ")]),t._v(" "),a("li",[t._v("I/O é˜¶æ®µ: æ‰§è¡Œä¸Šè½®å¾ªç¯æ®‹æµçš„callback")]),t._v(" "),a("li",[t._v("idle, prepare")]),t._v(" "),a("li",[t._v("poll: ç­‰å¾…å›è°ƒ\n"),a("ul",[a("li",[t._v("1.æ‰§è¡Œå›è°ƒ")]),t._v(" "),a("li",[t._v("2.æ‰§è¡Œå®šæ—¶å™¨\n"),a("ul",[a("li",[t._v("å¦‚æœ‰åˆ°æœŸçš„setTimeout / setIntervalï¼Œ åˆ™è¿”å› timer é˜¶æ®µ")]),t._v(" "),a("li",[t._v("å¦‚æœ‰setImmediateï¼Œåˆ™å‰å¾€ check é˜¶æ®µ")])])])])]),t._v(" "),a("li",[t._v("check\n"),a("ul",[a("li",[t._v("æ‰§è¡ŒsetImmediate")])])]),t._v(" "),a("li",[t._v("close callbacks")])]),t._v(" "),a("h2",{attrs:{id:"è·¨åŸŸ"}},[t._v("ğŸ è·¨åŸŸ")]),t._v(" "),a("ul",[a("li",[t._v("JSONP: åˆ©ç”¨"),a("code",[t._v("<script>")]),t._v("æ ‡ç­¾ä¸å—è·¨åŸŸé™åˆ¶çš„ç‰¹ç‚¹ï¼Œç¼ºç‚¹æ˜¯åªèƒ½æ”¯æŒ get è¯·æ±‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jsonp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jsonpCallback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" script "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url\n    script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("async "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/javascript'")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("jsonpCallback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        success "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("è®¾ç½® CORS: Access-Control-Allow-Origin: *")]),t._v(" "),a("li",[t._v("postMessage")])]),t._v(" "),a("h2",{attrs:{id:"å®‰å…¨"}},[t._v("ğŸ å®‰å…¨")]),t._v(" "),a("ul",[a("li",[t._v("XSSæ”»å‡»ï¼šæ³¨å…¥æ¶æ„ä»£ç \n"),a("ul",[a("li",[t._v("cookieè®¾ç½®httpOnly")]),t._v(" "),a("li",[t._v("è½¬ä¹‰é¡µé¢ä¸Šçš„è¾“å…¥å†…å®¹å’Œè¾“å‡ºå†…å®¹")])])]),t._v(" "),a("li",[t._v("CSRFï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œé˜²æŠ¤ï¼š\n"),a("ul",[a("li",[t._v("get ä¸ä¿®æ”¹æ•°æ®")]),t._v(" "),a("li",[t._v("ä¸è¢«ç¬¬ä¸‰æ–¹ç½‘ç«™è®¿é—®åˆ°ç”¨æˆ·çš„cookie")]),t._v(" "),a("li",[t._v("è®¾ç½®ç™½åå•ï¼Œä¸è¢«ç¬¬ä¸‰æ–¹ç½‘ç«™è¯·æ±‚")]),t._v(" "),a("li",[t._v("è¯·æ±‚æ ¡éªŒ")])])])]),t._v(" "),a("h2",{attrs:{id:"æ¡†æ¶ï¼švue"}},[t._v("ğŸ æ¡†æ¶ï¼šVue")]),t._v(" "),a("h3",{attrs:{id:"_1-nexttick"}},[t._v("1.nextTick")]),t._v(" "),a("p",[t._v("åœ¨ä¸‹æ¬¡domæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œå¯ç”¨äºè·å–æ›´æ–°åçš„domçŠ¶æ€")]),t._v(" "),a("ul",[a("li",[t._v("æ–°ç‰ˆæœ¬ä¸­é»˜è®¤æ˜¯microtasks,v-onä¸­ä¼šä½¿ç”¨macrotasks")]),t._v(" "),a("li",[t._v("macrotasksä»»åŠ¡çš„å®ç°ï¼š\n"),a("ul",[a("li",[t._v("setImmediate/MessageChannel/setTimeout")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-ç”Ÿå‘½å‘¨æœŸ"}},[t._v("2.ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("init")]),t._v(" "),a("ul",[a("li",[t._v("initLifecycle/Event,å¾€vmä¸ŠæŒ‚è½½å„ç§å±æ€§")]),t._v(" "),a("li",[t._v("callHookï¼šbeforeCreated:å®ä¾‹åˆšåˆ›å»º")]),t._v(" "),a("li",[t._v("initInjection/initStateï¼šåˆå§‹åŒ–æ³¨å…¥å’Œdataå“åº”æ€§")]),t._v(" "),a("li",[t._v("createdï¼šåˆ›å»ºå®Œæˆï¼Œå±æ€§å·²ç»ç»‘å®šï¼Œä½†è¿˜æœªç”ŸæˆçœŸå®dom")]),t._v(" "),a("li",[t._v("è¿›è¡Œå…ƒç´ çš„æŒ‚è½½ï¼š$el / vm.$mount()")]),t._v(" "),a("li",[t._v("æ˜¯å¦æœ‰templateï¼šè§£ææˆ render function\n"),a("ul",[a("li",[t._v("*.vueæ–‡ä»¶ï¼švue-loaderä¼šå°†"),a("code",[t._v("<template>")]),t._v("ç¼–è¯‘æˆrender function")])])]),t._v(" "),a("li",[t._v("beforeMount: æ¨¡æ¿ç¼–è¯‘/æŒ‚è½½ä¹‹å‰")]),t._v(" "),a("li",[t._v("æ‰§è¡Œrender functionï¼Œç”ŸæˆçœŸæ˜¯çš„domï¼Œå¹¶æ›¿æ¢åˆ°dom treeä¸­")]),t._v(" "),a("li",[t._v("mountedï¼šç»„ä»¶å·²æŒ‚è½½")])])]),t._v(" "),a("li",[t._v("updateï¼š\n"),a("ul",[a("li",[t._v("æ‰§è¡Œdiffç®—æ³•ï¼Œæ¯”å¯¹æ”¹å˜æ˜¯å¦éœ€è¦è§¦å‘UIæ›´æ–°")]),t._v(" "),a("li",[t._v("flushScheduleQueue\n"),a("ul",[a("li",[t._v("watcher.before: è§¦å‘beforeUpdateé’©å­-watcher.run(): æ‰§è¡Œwatcherä¸­çš„notifyï¼Œé€šçŸ¥æ‰€æœ‰ä¾èµ–é¡¹æ›´æ–°UI")])])]),t._v(" "),a("li",[t._v("è§¦å‘updatedé’©å­ï¼šç»„ä»¶å·²æ›´æ–°")])])]),t._v(" "),a("li",[t._v("actived / deactivatedï¼ˆkeep-aliveï¼‰ï¼šä¸é”€æ¯ï¼Œç¼“å­˜ï¼Œç»„ä»¶æ¿€æ´»ä¸å¤±æ´»")]),t._v(" "),a("li",[t._v("destroyï¼š\n"),a("ul",[a("li",[t._v("beforeDestroyï¼šé”€æ¯å¼€å§‹")]),t._v(" "),a("li",[t._v("é”€æ¯è‡ªèº«ä¸”é€’å½’é”€æ¯å­ç»„ä»¶ä»¥åŠäº‹ä»¶ç›‘å¬\n"),a("ul",[a("li",[t._v("remove(): åˆ é™¤èŠ‚ç‚¹")]),t._v(" "),a("li",[t._v("watcher.teardown(): æ¸…é™¤ä¾èµ–")]),t._v(" "),a("li",[t._v("vm.$off(): Â è§£ç»‘ç›‘å¬")])])]),t._v(" "),a("li",[t._v("destroyedï¼šå®Œæˆåè§¦å‘é’©å­\nä¸Šé¢æ˜¯vueçš„å£°æ˜å‘¨æœŸçš„ç®€å•æ¢³ç†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç›´æ¥ä»¥ä»£ç çš„å½¢å¼æ¥å®Œæˆvueçš„åˆå§‹åŒ–")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–Vueå®ä¾‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‚è½½å±æ€§")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initLifeCycle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–äº‹ä»¶ç³»ç»Ÿï¼Œé’©å­å‡½æ•°ç­‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼–è¯‘æ—¶slotã€vnode")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initRender")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§¦å‘é’©å­")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'beforeCreate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ injectåŠŸèƒ½")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initInjection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®Œæˆæ•°æ®å“åº”æ€§props/data/watch/computed/methods")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§¦å‘é’©å­")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'created'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‚è½½èŠ‚ç‚¹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$mount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‚è½½èŠ‚ç‚¹å®ç°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mountComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–render function")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("render"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// template to render")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue.compile = compileToFunctions")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("render"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compileToFunctions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("render "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" render\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§¦å‘é’©å­")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'beforeMounte'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–è§‚å¯Ÿè€…")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// renderæ¸²æŸ“vdom")]),t._v("\n    vdom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// update: æ ¹æ®diffå‡ºçš„patchsæŒ‚è½½æˆçœŸå®çš„dom")]),t._v("\n    vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vdom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§¦å‘é’©å­")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mounted'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ–°èŠ‚ç‚¹å®ç°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("queueWatcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("watcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextTick")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("flushScheduleQueue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¸…ç©ºé˜Ÿåˆ—")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("flushScheduleQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  éå†é˜Ÿåˆ—ä¸­æ‰€æœ‰ä¿®æ”¹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// beforeUpdate")]),t._v("\n        watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("before")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¾èµ–å±€éƒ¨æ›´æ–°èŠ‚ç‚¹")]),t._v("\n        watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'updated'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é”€æ¯å®ä¾‹å®ç°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$destory")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§¦å‘é’©å­")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'beforeDestroy'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è‡ªèº«åŠèŠ‚ç‚¹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤ä¾èµ–")]),t._v("\n    watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("teardown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤ç›‘å¬")]),t._v("\n    vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$off")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  è§¦å‘é’©å­")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'destroyed'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_3-æ•°æ®ç›¸åº”ï¼ˆæ•°æ®åŠ«æŒï¼‰"}},[t._v("ğŸ 3.æ•°æ®ç›¸åº”ï¼ˆæ•°æ®åŠ«æŒï¼‰")]),t._v(" "),a("p",[t._v("çœ‹å®Œç”Ÿå‘½å‘¨æœŸåï¼Œé‡Œé¢çš„watcherç­‰å†…å®¹å…¶å®æ˜¯æ•°æ®å“åº”ä¸­çš„ä¸€éƒ¨åˆ†ã€‚æ•°æ®å“åº”çš„å®ç°ç”±ä¸¤éƒ¨åˆ†æ„æˆ: è§‚å¯Ÿè€…( watcher ) å’Œ ä¾èµ–æ”¶é›†å™¨( Dep )ï¼Œå…¶æ ¸å¿ƒæ˜¯ definePropertyè¿™ä¸ªæ–¹æ³•ï¼Œå®ƒå¯ä»¥ é‡å†™å±æ€§çš„ get ä¸ set æ–¹æ³•ï¼Œä»è€Œå®Œæˆç›‘å¬æ•°æ®çš„æ”¹å˜ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("Observe (è§‚å¯Ÿè€…)è§‚å¯Ÿ props ä¸ state\n"),a("ul",[a("li",[t._v("éå† props ä¸ stateï¼Œå¯¹æ¯ä¸ªå±æ€§åˆ›å»ºç‹¬ç«‹çš„ç›‘å¬å™¨( watcher )")])])]),t._v(" "),a("li",[t._v("ä½¿ç”¨ defineProperty é‡å†™æ¯ä¸ªå±æ€§çš„ get/set(defineReactiveï¼‰\n"),a("ul",[a("li",[t._v("get: æ”¶é›†ä¾èµ–\n"),a("ul",[a("li",[t._v("Dep.depend()\n"),a("ul",[a("li",[t._v("watcher.addDep()")])])])])]),t._v(" "),a("li",[t._v("set: æ´¾å‘æ›´æ–°\n"),a("ul",[a("li",[t._v("Dep.notify()")]),t._v(" "),a("li",[t._v("watcher.update()")]),t._v(" "),a("li",[t._v("queenWatcher()")]),t._v(" "),a("li",[t._v("nextTick")]),t._v(" "),a("li",[t._v("flushScheduleQueue")]),t._v(" "),a("li",[t._v("watcher.run()")]),t._v(" "),a("li",[t._v("updateComponent()\nå¤§å®¶å¯ä»¥å…ˆçœ‹ä¸‹é¢çš„æ•°æ®ç›¸åº”çš„ä»£ç å®ç°åï¼Œç†è§£åå°±æ¯”è¾ƒå®¹æ˜“çœ‹æ‡‚ä¸Šé¢çš„ç®€å•è„‰ç»œäº†ã€‚")])])])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°æ®å“åº”æ€§")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–è§‚å¯Ÿè€…")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("updateComponent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç®€å•è¡¨ç¤ºç”¨äºæ•°æ®æ›´æ–°åçš„æ“ä½œ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// patchs")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘è§†å¯¹è±¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå†å¯¹è±¡ï¼Œä½¿ç”¨get/seté‡æ–°å®šä¹‰å¯¹è±¡çš„æ¯ä¸ªå±æ€§å€¼")]),t._v("\n    Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("v")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€’å½’å­å±æ€§")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°å»ºä¾èµ–æ”¶é›†å™¨")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" dep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®šä¹‰get/set")]),t._v("\n    Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        enumerable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        configurable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactiveGetter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“æœ‰è·å–è¯¥å±æ€§æ—¶ï¼Œè¯æ˜ä¾èµ–äºè¯¥å¯¹è±¡ï¼Œå› æ­¤è¢«æ·»åŠ è¿›æ”¶é›†å™¨ä¸­")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" v\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é‡æ–°è®¾ç½®å€¼æ—¶ï¼Œè§¦å‘æ”¶é›†å™¨çš„é€šçŸ¥æœºåˆ¶")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactiveSetter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nV")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            v "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nV\n            dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¾èµ–æ”¶é›†å™¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("sub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("sub")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            sub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nDep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§‚å¯Ÿè€…")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("cb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cb\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        Dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addDep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Dep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("before")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'beforeUpdate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_4-virtual-dom-åŸç†å®ç°"}},[t._v("ğŸ 4.virtual dom åŸç†å®ç°")]),t._v(" "),a("ul",[a("li",[t._v("åˆ›å»º dom æ ‘")]),t._v(" "),a("li",[t._v("æ ‘çš„diffï¼ŒåŒå±‚å¯¹æ¯”ï¼Œè¾“å‡ºpatchs(listDiff/diffChildren/diffProps)\n"),a("ul",[a("li",[t._v("æ²¡æœ‰æ–°çš„èŠ‚ç‚¹ï¼Œè¿”å›")]),t._v(" "),a("li",[t._v("æ–°çš„èŠ‚ç‚¹tagNameä¸keyä¸å˜ï¼Œ å¯¹æ¯”propsï¼Œç»§ç»­é€’å½’éå†å­æ ‘\n"),a("ul",[a("li",[t._v("å¯¹æ¯”å±æ€§(å¯¹æ¯”æ–°æ—§å±æ€§åˆ—è¡¨):\n"),a("ul",[a("li",[t._v("æ—§å±æ€§æ˜¯å¦å­˜åœ¨ä¸æ–°å±æ€§åˆ—è¡¨ä¸­")]),t._v(" "),a("li",[t._v("éƒ½å­˜åœ¨çš„æ˜¯å¦æœ‰å˜åŒ–")]),t._v(" "),a("li",[t._v("æ˜¯å¦å‡ºç°æ—§åˆ—è¡¨ä¸­æ²¡æœ‰çš„æ–°å±æ€§")])])])])]),t._v(" "),a("li",[t._v("tagNameå’Œkeyå€¼å˜åŒ–äº†ï¼Œåˆ™ç›´æ¥æ›¿æ¢æˆæ–°èŠ‚ç‚¹")])])]),t._v(" "),a("li",[t._v("æ¸²æŸ“å·®å¼‚\n"),a("ul",[a("li",[t._v("éå†patchsï¼Œ æŠŠéœ€è¦æ›´æ”¹çš„èŠ‚ç‚¹å–å‡ºæ¥")]),t._v(" "),a("li",[t._v("å±€éƒ¨æ›´æ–°dom")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// diffç®—æ³•çš„å®ç°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("oldTree"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newTree")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å·®å¼‚æ”¶é›†")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" pathchs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dfs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldTree"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newTree"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" pathchs\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dfs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("oldNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pathchs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" curPathchs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“æ–°æ—§èŠ‚ç‚¹ tagName å’Œ keyå€¼å®Œå…¨ä¸€è‡´æ—¶")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" newNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" oldNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" newNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»§ç»­æ¯”å¯¹å±æ€§å·®å¼‚")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" props "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diffProps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            curPathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'changeProps'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€’å½’è¿›å…¥ä¸‹ä¸€å±‚çº§çš„æ¯”è¾ƒ")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diffChildrens")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“tagNameæˆ–è€…keyä¿®æ”¹äº†åï¼Œè¡¨ç¤ºå·²ç»æ˜¯å…¨æ–°èŠ‚ç‚¹ï¼Œæ— éœ€å†æ¯”")]),t._v("\n            curPathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'replaceNode'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("newNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ„å»ºå‡ºæ•´é¢—å·®å¼‚æ ‘")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curPathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curPathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" curPathchs\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å±æ€§å¯¹æ¯”å®ç°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diffProps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("oldProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newProps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" propsPathchs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå†æ–°æ—§å±æ€§åˆ—è¡¨")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥æ‰¾åˆ é™¤é¡¹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥æ‰¾ä¿®æ”¹é¡¹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥æ‰¾æ–°å¢é¡¹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("olaProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("newProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            propsPathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'remove'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" k "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" newProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                propsPathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" k "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" newProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("oldProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            propsPathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" v "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" propsPathchs\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹æ¯”å­çº§å·®å¼‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diffChildrens")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("oldChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pathchs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ‡è®°å­çº§çš„åˆ é™¤/æ–°å¢/ç§»åŠ¨")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" list "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diffList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" change\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ® key è·å–åŸæœ¬åŒ¹é…çš„èŠ‚ç‚¹ï¼Œè¿›ä¸€æ­¥é€’å½’ä»å¤´å¼€å§‹å¯¹æ¯”")]),t._v("\n    oldChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" keyIndex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" node "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("keyIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›ä¸€æ­¥é€’å½’å¯¹æ¯”")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dfs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pathchs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ—è¡¨å¯¹æ¯”ï¼Œä¸»è¦ä¹Ÿæ˜¯æ ¹æ® key å€¼æŸ¥æ‰¾åŒ¹é…é¡¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹æ¯”å‡ºæ–°æ—§åˆ—è¡¨çš„æ–°å¢/åˆ é™¤/ç§»åŠ¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("diffList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("oldList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pathchs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" change "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newKeys "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    oldList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newKeys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ‡è®°åˆ é™¤")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'remove'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ‡è®°æ–°å¢å’Œç§»åŠ¨")]),t._v("\n    newList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°å¢")]),t._v("\n            change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç§»åŠ¨")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'move'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    form"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("move")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" change"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" list "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_5-proxyç›¸æ¯”äºdefinepropertyçš„ä¼˜åŠ¿"}},[t._v("ğŸ 5.Proxyç›¸æ¯”äºdefinePropertyçš„ä¼˜åŠ¿")]),t._v(" "),a("ul",[a("li",[t._v("æ•°ç»„å˜åŒ–ä¹Ÿèƒ½ç›‘å¬åˆ°")]),t._v(" "),a("li",[t._v("ä¸éœ€è¦æ·±åº¦éå†ç›‘å¬")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" reactiveData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"_6-vue-router"}},[t._v("ğŸ 6.vue-router")]),t._v(" "),a("ul",[a("li",[t._v("mode\n"),a("ul",[a("li",[t._v("hash")]),t._v(" "),a("li",[t._v("history")])])]),t._v(" "),a("li",[t._v("è·³è½¬\n"),a("ul",[a("li",[a("code",[t._v("this.$router.push()")])]),t._v(" "),a("li",[a("code",[t._v('<router-link to=""></router-link>')])])])]),t._v(" "),a("li",[t._v("å ä½\n"),a("ul",[a("li",[a("code",[t._v("<router-view></router-view>")])])])])]),t._v(" "),a("h2",{attrs:{id:"_7-vuex"}},[t._v("ğŸ 7.vuex")]),t._v(" "),a("ul",[a("li",[t._v("state: çŠ¶æ€ä¸­å¿ƒ")]),t._v(" "),a("li",[t._v("mutationsï¼šæ›´æ”¹çŠ¶æ€")]),t._v(" "),a("li",[t._v("actionsï¼šå¼‚æ­¥æ›´æ”¹çŠ¶æ€")]),t._v(" "),a("li",[t._v("gettersï¼šè·å–çŠ¶æ€")]),t._v(" "),a("li",[t._v("modulesï¼šå°†stateåˆ†æˆå¤šä¸ªmodulesï¼Œä¾¿äºç®¡ç†")])]),t._v(" "),a("h2",{attrs:{id:"react"}},[t._v("React")]),t._v(" "),a("h2",{attrs:{id:"_1-fiber"}},[t._v("ğŸ 1.Fiber")]),t._v(" "),a("p",[t._v("Reactçš„æ ¸å¿ƒæµç¨‹å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("reconciliation(è°ƒåº¦ç®—æ³•ï¼Œä¹Ÿå¯ç§°ä¸ºrender)\n"),a("ul",[a("li",[t._v("æ›´æ–°stateä¸props")]),t._v(" "),a("li",[t._v("è°ƒç”¨ç”Ÿå‘½å‘¨æœŸé’©å­")]),t._v(" "),a("li",[t._v("ç”Ÿæˆvirtual dom\n"),a("ul",[a("li",[t._v("è¿™é‡Œåº”è¯¥ç§°ä¸ºFiber Treeæ›´ä¸ºç¬¦åˆ")])])]),t._v(" "),a("li",[t._v("é€šè¿‡æ–°æ—§vdomè¿›è¡Œdiffç®—æ³•ï¼Œè·å–vdom change")]),t._v(" "),a("li",[t._v("ç¡®å®šæ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“")])])]),t._v(" "),a("li",[t._v("commitï¼š\n"),a("ul",[a("li",[t._v("å¦‚éœ€è¦ï¼Œåˆ™æ“ä½œdomèŠ‚ç‚¹æ›´æ–°\nè¦äº†è§£ Fiberï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ")])])]),t._v(" "),a("li",[t._v("é—®é¢˜: éšç€åº”ç”¨å˜å¾—è¶Šæ¥è¶Šåºå¤§ï¼Œæ•´ä¸ªæ›´æ–°æ¸²æŸ“çš„è¿‡ç¨‹å¼€å§‹å˜å¾—åƒåŠ›ï¼Œå¤§é‡çš„ç»„ä»¶æ¸²æŸ“ä¼šå¯¼è‡´ä¸»è¿›ç¨‹é•¿æ—¶é—´è¢«å ç”¨ï¼Œå¯¼è‡´ä¸€äº›åŠ¨ç”»æˆ–é«˜é¢‘æ“ä½œå‡ºç°å¡é¡¿å’Œæ‰å¸§çš„æƒ…å†µã€‚è€Œå…³é”®ç‚¹ï¼Œä¾¿æ˜¯ åŒæ­¥é˜»å¡ã€‚åœ¨ä¹‹å‰çš„è°ƒåº¦ç®—æ³•ä¸­ï¼ŒReact éœ€è¦å®ä¾‹åŒ–æ¯ä¸ªç±»ç»„ä»¶ï¼Œç”Ÿæˆä¸€é¢—ç»„ä»¶æ ‘ï¼Œä½¿ç”¨ åŒæ­¥é€’å½’ çš„æ–¹å¼è¿›è¡Œéå†æ¸²æŸ“ï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹æœ€å¤§çš„é—®é¢˜å°±æ˜¯æ— æ³• æš‚åœå’Œæ¢å¤ã€‚")]),t._v(" "),a("li",[t._v("è§£å†³æ–¹æ¡ˆ: è§£å†³åŒæ­¥é˜»å¡çš„æ–¹æ³•ï¼Œé€šå¸¸æœ‰ä¸¤ç§: å¼‚æ­¥ ä¸ ä»»åŠ¡åˆ†å‰²ã€‚è€Œ React Fiber ä¾¿æ˜¯ä¸ºäº†å®ç°ä»»åŠ¡åˆ†å‰²è€Œè¯ç”Ÿçš„ã€‚")]),t._v(" "),a("li",[t._v("ç®€è¿°:\n"),a("ul",[a("li",[t._v("åœ¨ React V16 å°†è°ƒåº¦ç®—æ³•è¿›è¡Œäº†é‡æ„ï¼Œ å°†ä¹‹å‰çš„ stack reconciler é‡æ„æˆæ–°ç‰ˆçš„ fiber reconcilerï¼Œå˜æˆäº†å…·æœ‰é“¾è¡¨å’ŒæŒ‡é’ˆçš„ å•é“¾è¡¨æ ‘éå†ç®—æ³•ã€‚é€šè¿‡æŒ‡é’ˆæ˜ å°„ï¼Œæ¯ä¸ªå•å…ƒéƒ½è®°å½•ç€éå†å½“ä¸‹çš„ä¸Šä¸€æ­¥ä¸ä¸‹ä¸€æ­¥ï¼Œä»è€Œä½¿éå†å˜å¾—å¯ä»¥è¢«æš‚åœå’Œé‡å¯ã€‚")]),t._v(" "),a("li",[t._v("è¿™é‡Œæˆ‘ç†è§£ä¸ºæ˜¯ä¸€ç§ ä»»åŠ¡åˆ†å‰²è°ƒåº¦ç®—æ³•ï¼Œä¸»è¦æ˜¯ å°†åŸå…ˆåŒæ­¥æ›´æ–°æ¸²æŸ“çš„ä»»åŠ¡åˆ†å‰²æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„ å°ä»»åŠ¡å•ä½ï¼Œæ ¹æ®ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œå°†å°ä»»åŠ¡åˆ†æ•£åˆ°æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´æ‰§è¡Œï¼Œå……åˆ†åˆ©ç”¨ä¸»è¿›ç¨‹çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚")])])]),t._v(" "),a("li",[t._v("æ ¸å¿ƒ:\n"),a("ul",[a("li",[t._v("Fiber è¿™é‡Œå¯ä»¥å…·è±¡ä¸ºä¸€ä¸ª æ•°æ®ç»“æ„:")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fiber")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("instance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" instance\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("child "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" child\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("return "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parent\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sibling "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" previous\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("é“¾è¡¨æ ‘éå†ç®—æ³•: é€šè¿‡ èŠ‚ç‚¹ä¿å­˜ä¸æ˜ å°„ï¼Œä¾¿èƒ½å¤Ÿéšæ—¶åœ°è¿›è¡Œ åœæ­¢å’Œé‡å¯ï¼Œè¿™æ ·ä¾¿èƒ½è¾¾åˆ°å®ç°ä»»åŠ¡åˆ†å‰²çš„åŸºæœ¬å‰æï¼›\n"),a("ul",[a("li",[t._v("1ã€é¦–å…ˆé€šè¿‡ä¸æ–­éå†å­èŠ‚ç‚¹ï¼Œåˆ°æ ‘æœ«å°¾ï¼›")]),t._v(" "),a("li",[t._v("2ã€å¼€å§‹é€šè¿‡ sibling éå†å…„å¼ŸèŠ‚ç‚¹ï¼›")]),t._v(" "),a("li",[t._v("3ã€return è¿”å›çˆ¶èŠ‚ç‚¹ï¼Œç»§ç»­æ‰§è¡Œ2ï¼›")]),t._v(" "),a("li",[t._v("4ã€ç›´åˆ° root èŠ‚ç‚¹åï¼Œè·³å‡ºéå†ï¼›")])]),t._v(" "),a("ul",[a("li",[t._v("ä»»åŠ¡åˆ†å‰²ï¼ŒReact ä¸­çš„æ¸²æŸ“æ›´æ–°å¯ä»¥åˆ†æˆä¸¤ä¸ªé˜¶æ®µ:\n"),a("ul",[a("li",[t._v("reconciliation é˜¶æ®µ: vdom çš„æ•°æ®å¯¹æ¯”ï¼Œæ˜¯ä¸ªé€‚åˆæ‹†åˆ†çš„é˜¶æ®µï¼Œæ¯”å¦‚å¯¹æ¯”ä¸€éƒ¨åˆ†æ ‘åï¼Œå…ˆæš‚åœæ‰§è¡Œä¸ªåŠ¨ç”»è°ƒç”¨ï¼Œå¾…å®Œæˆåå†å›æ¥ç»§ç»­æ¯”å¯¹ã€‚")]),t._v(" "),a("li",[t._v("Commit é˜¶æ®µ: å°† change list æ›´æ–°åˆ° dom ä¸Šï¼Œå¹¶ä¸é€‚åˆæ‹†åˆ†ï¼Œæ‰èƒ½ä¿æŒæ•°æ®ä¸ UI çš„åŒæ­¥ã€‚å¦åˆ™å¯èƒ½ç”±äºé˜»å¡ UI æ›´æ–°ï¼Œè€Œå¯¼è‡´æ•°æ®æ›´æ–°å’Œ UI ä¸ä¸€è‡´çš„æƒ…å†µã€‚")])])]),t._v(" "),a("li",[t._v("åˆ†æ•£æ‰§è¡Œ: ä»»åŠ¡åˆ†å‰²åï¼Œå°±å¯ä»¥æŠŠå°ä»»åŠ¡å•å…ƒåˆ†æ•£åˆ°æµè§ˆå™¨çš„ç©ºé—²æœŸé—´å»æ’é˜Ÿæ‰§è¡Œï¼Œè€Œå®ç°çš„å…³é”®æ˜¯ä¸¤ä¸ªæ–°API: requestIdleCallback ä¸ requestAnimationFrame\n"),a("ul",[a("li",[t._v("ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡äº¤ç»™requestIdleCallbackå¤„ç†ï¼Œè¿™æ˜¯ä¸ªæµè§ˆå™¨æä¾›çš„äº‹ä»¶å¾ªç¯ç©ºé—²æœŸçš„å›è°ƒå‡½æ•°ï¼Œéœ€è¦ pollyfillï¼Œè€Œä¸”æ‹¥æœ‰ deadline å‚æ•°ï¼Œé™åˆ¶æ‰§è¡Œäº‹ä»¶ï¼Œä»¥ç»§ç»­åˆ‡åˆ†ä»»åŠ¡ï¼›")]),t._v(" "),a("li",[t._v("é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡äº¤ç»™requestAnimationFrameå¤„ç†ï¼›")])])])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç±»ä¼¼äºè¿™æ ·çš„æ–¹å¼")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestIdleCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("deadline")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“æœ‰ç©ºé—²æ—¶é—´æ—¶ï¼Œæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªç»„ä»¶æ¸²æŸ“ï¼›")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŠŠä»»åŠ¡å¡åˆ°ä¸€ä¸ªä¸ªç¢ç‰‡æ—¶é—´ä¸­å»ï¼›")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deadline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeRemaining")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" deadline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("didTimeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" nextComponent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    nextComponent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("performWork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextComponent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("ä¼˜å…ˆçº§ç­–ç•¥ï¼šæ–‡æœ¬æ¡†è¾“å…¥ > æœ¬æ¬¡è°ƒåº¦ç»“æŸéœ€å®Œæˆçš„ä»»åŠ¡ > åŠ¨ç”»è¿‡æ¸¡ > äº¤äº’åé¦ˆ > æ•°æ®æ›´æ–° > ä¸ä¼šæ˜¾ç¤ºä½†ä»¥é˜²å°†æ¥ä¼šæ˜¾ç¤ºçš„ä»»åŠ¡")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Fiberå…¶å®å¯ä»¥ç®—æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œåœ¨å…¶å®ƒè¯­è¨€ä¸­ä¹Ÿæœ‰è®¸å¤šåº”ç”¨ï¼ˆRuby Fiberï¼‰ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯ä»»åŠ¡æ‹†åˆ†å’ŒååŒï¼Œä¸»åŠ¨æŠŠæ‰§è¡Œæƒäº¤ç»™ä¸»çº¿ç¨‹ã€‚ä½¿ä¸»çº¿ç¨‹æœ‰æ—¶é—´ç©ºæ¡£å¤„ç†å…¶ä»–é«˜ä¼˜å…ˆçº§ä»»åŠ¡ã€‚\nå½“é‡åˆ°è¿›ç¨‹é˜»å¡çš„é—®é¢˜æ—¶ï¼Œä»»åŠ¡åˆ†å‰²ã€å¼‚æ­¥è°ƒç”¨å’Œç¼“å­˜ç­–ç•¥æ˜¯ä¸‰ä¸ªæ˜¾è‘—çš„è§£å†³æ€è·¯")])]),t._v(" "),a("h2",{attrs:{id:"_2-ç”Ÿå‘½å‘¨æœŸ-2"}},[t._v("ğŸ 2.ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),a("p",[t._v("åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼ŒReactå®˜æ–¹å¯¹ç”Ÿå‘½å‘¨æœŸæœ‰äº†æ–°çš„å˜åŠ¨å»ºè®®ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ä½¿ç”¨getDerivedStateFromPropsæ›¿æ¢componentWillMount;")]),t._v(" "),a("li",[t._v("ä½¿ç”¨getSnapshotBeforeUpdateæ›¿æ¢componentWillUpdate;")]),t._v(" "),a("li",[t._v("é¿å…ä½¿ç”¨componentWillReceiveProps;\nå…¶å®è¯¥å˜åŠ¨çš„åŸå› ï¼Œæ­£æ˜¯ç”±äºä¸Šè¿°æåˆ°çš„Fiberã€‚é¦–å…ˆï¼Œä»ä¸Šé¢æˆ‘ä»¬çŸ¥é“Reactå¯ä»¥åˆ†æˆreconciliationä¸commitä¸¤ä¸ªé˜¶æ®µï¼Œå¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š")]),t._v(" "),a("li",[t._v("reconciliation:\n"),a("ul",[a("li",[t._v("componentWillMount")]),t._v(" "),a("li",[t._v("componentWillReceiveProps")]),t._v(" "),a("li",[t._v("shouldComponentUpdate")]),t._v(" "),a("li",[t._v("componentWillUpdate")])])]),t._v(" "),a("li",[t._v("commit:\n"),a("ul",[a("li",[t._v("componentDidMount")]),t._v(" "),a("li",[t._v("componentDidUpdate")]),t._v(" "),a("li",[t._v("componentWillUnmout\nåœ¨Fiberä¸­ï¼Œreconciliationé˜¶æ®µè¿›è¡Œäº†ä»»åŠ¡åˆ†å‰²ï¼Œæ¶‰åŠåˆ°æš‚åœå’Œé‡å¯ï¼Œå› æ­¤å¯èƒ½ä¼šå¯¼è‡´reconciliationä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°åœ¨ä¸€æ¬¡æ›´æ–°æ¸²æŸ“å¾ªç¯ä¸­è¢«å¤šæ¬¡è°ƒç”¨çš„æƒ…å†µï¼Œäº§ç”Ÿä¸€äº›æ„å¤–é”™è¯¯ã€‚\næ–°ç‰ˆçš„å»ºè®®ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  æ›¿æ¢ componentWillReceiveProps")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–å’Œupdateæ—¶è¢«è°ƒç”¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é™æ€å‡½æ•°ï¼Œæ— æ³•ä½¿ç”¨this")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromProps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("prevState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥ç”¨äºç»„ä»¶æ€§èƒ½ä¼˜åŒ–")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("nextState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶è¢«æŒ‚è½½åè§¦å‘")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›¿æ¢componentWillUpdate")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥åœ¨æ›´æ–°ä¹‹å‰è·å–æœ€æ–°domæ•°æ®")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSnapshotBeforeUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶æ›´æ–°åè°ƒç”¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶å³å°†é”€æ¯")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillUnmount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶å·²é”€æ¯")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUnMount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("ä½¿ç”¨å»ºè®®ï¼š\n"),a("ul",[a("li",[t._v("åœ¨constructoråˆå§‹åŒ–stateï¼›")]),t._v(" "),a("li",[t._v("åœ¨componentDidMountä¸­è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œå¹¶åœ¨componentWillUnmountä¸­è§£ç»‘äº‹ä»¶ï¼›")]),t._v(" "),a("li",[t._v("åœ¨componentDidMountä¸­è¿›è¡Œæ•°æ®çš„è¯·æ±‚è€Œä¸æ˜¯åœ¨componentWillMountï¼›")]),t._v(" "),a("li",[t._v("éœ€è¦æ ¹æ®propsæ›´æ–°stateæ—¶ï¼Œä½¿ç”¨getDerivedStateFromProps(nextProps,prevState);\n"),a("ul",[a("li",[t._v("æ—§propséœ€è¦è‡ªå·±å­˜å‚¨ï¼Œä»¥ä¾¿æ¯”è¾ƒï¼›")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromProps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("prevState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“æ–°propsä¸­çš„dataå‘ç”Ÿå˜åŒ–æ—¶ï¼ŒåŒæ­¥æ›´æ–°åˆ°stateä¸Š")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" prevState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("nextProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" null1\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("å¯ä»¥åœ¨componentDidUpdateç›‘å¬propsæˆ–è€…stateçš„å˜åŒ–ï¼Œä¾‹å¦‚ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“idå‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°è·å–æ•°æ®")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" prevProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("åœ¨componentDidUpdateä½¿ç”¨setStateæ—¶ï¼Œå¿…é¡»åŠ æ¡ä»¶ï¼Œå¦åˆ™å°†è¿›å…¥æ­»å¾ªç¯ï¼›")]),t._v(" "),a("li",[t._v("getSnapshotBeforeUpdate(prevProps, prevState)å¯ä»¥åœ¨æ›´æ–°ä¹‹å‰è·å–æœ€æ–°çš„æ¸²æŸ“æ•°æ®ï¼Œå®ƒçš„è°ƒç”¨æ˜¯åœ¨ render ä¹‹åï¼Œ update ä¹‹å‰ï¼›")]),t._v(" "),a("li",[t._v("shouldComponentUpdate: é»˜è®¤æ¯æ¬¡è°ƒç”¨setStateï¼Œä¸€å®šä¼šæœ€ç»ˆèµ°åˆ° diff é˜¶æ®µï¼Œä½†å¯ä»¥é€šè¿‡shouldComponentUpdateçš„ç”Ÿå‘½é’©å­è¿”å›falseæ¥ç›´æ¥é˜»æ­¢åé¢çš„é€»è¾‘æ‰§è¡Œï¼Œé€šå¸¸æ˜¯ç”¨äºåšæ¡ä»¶æ¸²æŸ“ï¼Œä¼˜åŒ–æ¸²æŸ“çš„æ€§èƒ½ã€‚")])])])]),t._v(" "),a("h2",{attrs:{id:"_3-setstate"}},[t._v("ğŸ 3.setState")]),t._v(" "),a("ul",[a("li",[t._v("åœ¨äº†è§£setStateä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•äº†è§£ä¸‹Reactä¸€ä¸ªåŒ…è£…ç»“æ„ï¼šTransaction\näº‹åŠ¡ (Transaction):\n"),a("ul",[a("li",[t._v("æ˜¯ React ä¸­çš„ä¸€ä¸ªè°ƒç”¨ç»“æ„ï¼Œç”¨äºåŒ…è£…ä¸€ä¸ªæ–¹æ³•ï¼Œç»“æ„ä¸º: initialize - perform(method) - closeã€‚é€šè¿‡äº‹åŠ¡ï¼Œå¯ä»¥ç»Ÿä¸€ç®¡ç†ä¸€ä¸ªæ–¹æ³•çš„å¼€å§‹ä¸ç»“æŸï¼›å¤„äºäº‹åŠ¡æµä¸­ï¼Œè¡¨ç¤ºè¿›ç¨‹æ­£åœ¨æ‰§è¡Œä¸€äº›æ“ä½œï¼›\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/3/21/1699e0cb48cd4013?imageslim",alt:""}})])])]),t._v(" "),a("li",[t._v("setState: React ä¸­ç”¨äºä¿®æ”¹çŠ¶æ€ï¼Œæ›´æ–°è§†å›¾ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹:\n"),a("ul",[a("li",[t._v("å¼‚æ­¥ä¸åŒæ­¥: setStateå¹¶ä¸æ˜¯å•çº¯çš„å¼‚æ­¥æˆ–åŒæ­¥ï¼Œè¿™å…¶å®ä¸è°ƒç”¨æ—¶çš„ç¯å¢ƒç›¸å…³:\n"),a("ul",[a("li",[t._v('åœ¨ åˆæˆäº‹ä»¶ å’Œ ç”Ÿå‘½å‘¨æœŸé’©å­(é™¤ componentDidUpdate) ä¸­ï¼ŒsetStateæ˜¯"å¼‚æ­¥"çš„ï¼›\n'),a("ul",[a("li",[t._v("åŸå› : å› ä¸ºåœ¨setStateçš„å®ç°ä¸­ï¼Œæœ‰ä¸€ä¸ªåˆ¤æ–­: å½“æ›´æ–°ç­–ç•¥æ­£åœ¨äº‹åŠ¡æµçš„æ‰§è¡Œä¸­æ—¶ï¼Œè¯¥ç»„ä»¶æ›´æ–°ä¼šè¢«æ¨å…¥dirtyComponentsé˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œï¼›å¦åˆ™ï¼Œå¼€å§‹æ‰§è¡ŒbatchedUpdatesé˜Ÿåˆ—æ›´æ–°ï¼›\n"),a("ul",[a("li",[t._v("åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­è°ƒç”¨ä¸­ï¼Œæ›´æ–°ç­–ç•¥éƒ½å¤„äºæ›´æ–°ä¹‹å‰ï¼Œç»„ä»¶ä»å¤„äºäº‹åŠ¡æµä¸­ï¼Œè€ŒcomponentDidUpdateæ˜¯åœ¨æ›´æ–°ä¹‹åï¼Œæ­¤æ—¶ç»„ä»¶å·²ç»ä¸åœ¨äº‹åŠ¡æµä¸­äº†ï¼Œå› æ­¤åˆ™ä¼šåŒæ­¥æ‰§è¡Œï¼›")]),t._v(" "),a("li",[t._v("åœ¨åˆæˆäº‹ä»¶ä¸­ï¼ŒReact æ˜¯åŸºäº äº‹åŠ¡æµå®Œæˆçš„äº‹ä»¶å§”æ‰˜æœºåˆ¶ å®ç°ï¼Œä¹Ÿæ˜¯å¤„äºäº‹åŠ¡æµä¸­ï¼›")])])]),t._v(" "),a("li",[t._v("é—®é¢˜: æ— æ³•åœ¨setStateåé©¬ä¸Šä»this.stateä¸Šè·å–æ›´æ–°åçš„å€¼ã€‚")]),t._v(" "),a("li",[t._v("è§£å†³: å¦‚æœéœ€è¦é©¬ä¸ŠåŒæ­¥å»è·å–æ–°å€¼ï¼ŒsetStateå…¶å®æ˜¯å¯ä»¥ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°çš„ã€‚setState(updater, callback)ï¼Œåœ¨å›è°ƒä¸­å³å¯è·å–æœ€æ–°å€¼ï¼›")])])])])]),t._v(" "),a("li",[t._v("åœ¨ åŸç”Ÿäº‹ä»¶ å’Œ setTimeout ä¸­ï¼ŒsetStateæ˜¯åŒæ­¥çš„ï¼Œå¯ä»¥é©¬ä¸Šè·å–æ›´æ–°åçš„å€¼ï¼›\n"),a("ul",[a("li",[t._v("åŸå› : åŸç”Ÿäº‹ä»¶æ˜¯æµè§ˆå™¨æœ¬èº«çš„å®ç°ï¼Œä¸äº‹åŠ¡æµæ— å…³ï¼Œè‡ªç„¶æ˜¯åŒæ­¥ï¼›è€ŒsetTimeoutæ˜¯æ”¾ç½®äºå®šæ—¶å™¨çº¿ç¨‹ä¸­å»¶åæ‰§è¡Œï¼Œæ­¤æ—¶äº‹åŠ¡æµå·²ç»“æŸï¼Œå› æ­¤ä¹Ÿæ˜¯åŒæ­¥ï¼›")])])])])]),t._v(" "),a("li",[t._v("æ‰¹é‡æ›´æ–°: åœ¨ åˆæˆäº‹ä»¶ å’Œ ç”Ÿå‘½å‘¨æœŸé’©å­ ä¸­ï¼ŒsetStateæ›´æ–°é˜Ÿåˆ—æ—¶ï¼Œå­˜å‚¨çš„æ˜¯ åˆå¹¶çŠ¶æ€(Object.assign)ã€‚å› æ­¤å‰é¢è®¾ç½®çš„ key å€¼ä¼šè¢«åé¢æ‰€è¦†ç›–ï¼Œæœ€ç»ˆåªä¼šæ‰§è¡Œä¸€æ¬¡æ›´æ–°ï¼›")]),t._v(" "),a("li",[t._v("å‡½æ•°å¼: ç”±äº Fiber åŠ åˆå¹¶ çš„é—®é¢˜ï¼Œå®˜æ–¹æ¨èå¯ä»¥ä¼ å…¥ å‡½æ•° çš„å½¢å¼ã€‚setState(fn)ï¼Œåœ¨fnä¸­è¿”å›æ–°çš„stateå¯¹è±¡å³å¯ï¼Œä¾‹å¦‚this.setState((state, props) => newState)ï¼›\n"),a("ul",[a("li",[t._v("ä½¿ç”¨å‡½æ•°å¼ï¼Œå¯ä»¥ç”¨äºé¿å…setStateçš„æ‰¹é‡æ›´æ–°çš„é€»è¾‘ï¼Œä¼ å…¥çš„å‡½æ•°å°†ä¼šè¢« é¡ºåºè°ƒç”¨ï¼›")])])]),t._v(" "),a("li",[t._v("æ³¨æ„äº‹é¡¹:\n"),a("ul",[a("li",[t._v("setState åˆå¹¶ï¼Œåœ¨ åˆæˆäº‹ä»¶ å’Œ ç”Ÿå‘½å‘¨æœŸé’©å­ ä¸­å¤šæ¬¡è¿ç»­è°ƒç”¨ä¼šè¢«ä¼˜åŒ–ä¸ºä¸€æ¬¡ï¼›")]),t._v(" "),a("li",[t._v("å½“ç»„ä»¶å·²è¢«é”€æ¯ï¼Œå¦‚æœå†æ¬¡è°ƒç”¨setStateï¼ŒReact ä¼šæŠ¥é”™è­¦å‘Šï¼Œé€šå¸¸æœ‰ä¸¤ç§è§£å†³åŠæ³•:\n"),a("ul",[a("li",[t._v("å°†æ•°æ®æŒ‚è½½åˆ°å¤–éƒ¨ï¼Œé€šè¿‡ props ä¼ å…¥ï¼Œå¦‚æ”¾åˆ° Redux æˆ– çˆ¶çº§ä¸­ï¼›")]),t._v(" "),a("li",[t._v("åœ¨ç»„ä»¶å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€é‡ (isUnmounted)ï¼ŒcomponentWillUnmountä¸­æ ‡è®°ä¸º trueï¼Œåœ¨setStateå‰è¿›è¡Œåˆ¤æ–­ï¼›")])])])])])]),t._v(" "),a("h2",{attrs:{id:"_4-hoc-é«˜é˜¶ç»„ä»¶"}},[t._v("ğŸ 4.HOC(é«˜é˜¶ç»„ä»¶)")]),t._v(" "),a("p",[t._v("HOC(Higher Order Component)æ˜¯åœ¨Reactæœºåˆ¶ä¸‹ç¤¾åŒºå½¢æˆçš„ä¸€ç§ç»„ä»¶æ¨¡å¼ï¼Œåœ¨å¾ˆå¤šç¬¬ä¸‰æ–¹å¼€æºåº“ä¸­è¡¨ç°å¼ºå¤§")]),t._v(" "),a("ul",[a("li",[t._v("ç®€è¿°ï¼š\n"),a("ul",[a("li",[t._v("é«˜é˜¶ç»„ä»¶ä¸æ˜¯ç»„ä»¶ï¼Œæ˜¯å¢å¼ºå‡½æ•°ï¼Œå¯ä»¥è¾“å…¥ä¸€ä¸ªå…ƒç»„ä»¶ï¼Œè¿”å›å‡ºä¸€ä¸ªæ–°çš„å¢å¼ºç»„ä»¶ï¼›")]),t._v(" "),a("li",[t._v("é«˜é˜¶ç»„ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯ä»£ç å¤ç”¨ï¼Œæ“ä½œçŠ¶æ€å’Œå‚æ•°ï¼›")])])]),t._v(" "),a("li",[t._v("ç”¨æ³•ï¼š\n"),a("ul",[a("li",[t._v("å±æ€§ä»£ç†(Props Proxy):è¿”å›å‡ºä¸€ä¸ªç»„ä»¶ï¼Œå®ƒåŸºäºè¢«åŒ…è£¹ç»„ä»¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºï¼›\n"),a("ul",[a("li",[t._v("é»˜è®¤å‚æ•°ï¼šå¯ä»¥ä¸ºç»„ä»¶åŒ…è£¹ä¸€å±‚é»˜è®¤å‚æ•°ï¼›")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("proxyHoc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Comp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("extends")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newProps "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tayde'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("newProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("æå–çŠ¶æ€ï¼šå¯ä»¥é€šè¿‡propså°†è¢«åŒ…è£¹ç»„ä»¶ä¸­çš„stateä¾èµ–å¤–å±‚ï¼Œä¾‹å¦‚ç”¨äºè½¬æ¢å—æ§ç»„ä»¶ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withOnChange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Comp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("extends")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onChangeName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dongdong'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newProps "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        onChange"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onChangeName\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Comp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("newProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v("ä½¿ç”¨å§¿åŠ¿å¦‚ä¸‹ï¼Œè¿™æ ·å°±èƒ½éå¸¸å¿«é€Ÿçš„å°†ä¸€ä¸ªInputç»„ä»¶è½¬æ¢æˆå—æ§ç»„ä»¶"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("NameInput")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withOnChange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NameInput"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("åŒ…è£¹ç»„ä»¶ï¼šå¯ä»¥ä¸ºåŒ…è£¹å…ƒç´ è¿›è¡Œä¸€å±‚åŒ…è£…")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withMask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Comp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("extends")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div style"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'100%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'100%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("backgroundColor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rgba(0,0,0,.6)'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("åå‘ç»§æ‰¿(Inheritance Inversion):è¿”å›å‡ºä¸€ä¸ªç»„ä»¶ï¼Œç»§æ‰¿äºè¢«åŒ…è£¹ç»„ä»¶ï¼Œå¸¸ç”¨äºä¸€ä¸‹æ“ä½œï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("IIHoc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Comp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("extends")]),t._v(" Comp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("æ¸²æŸ“åŠ«æŒ(Render Highjacking)\n"),a("ul",[a("li",[t._v("æ¡ä»¶æ¸²æŸ“ï¼šæ ¹æ®æ¡ä»¶ï¼Œæ¸²æŸ“ä¸åŒçš„ç»„ä»¶")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withLoading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Comp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("extends")]),t._v(" Comp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isLoading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Loading "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("å¯ä»¥ç›´æ¥ä¿®æ”¹è¢«åŒ…è£¹ç»„ä»¶æ¸²æŸ“å‡ºçš„Reactå…ƒç´ æ ‘")])])])]),t._v(" "),a("ul",[a("li",[t._v("æ“ä½œçŠ¶æ€(Operate State):å¯ä»¥ç›´æ¥é€šè¿‡this.stateè·å–åˆ°è¢«åŒ…è£¹ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶è¿›è¡Œæ“ä½œã€‚ä½†è¿™æ ·çš„æ“ä½œå®¹æ˜“ä½¿stateå˜å¾—éš¾ä»¥è¿½è¸ªï¼Œä¸æ˜“ç»´æŠ¤ï¼Œè°¨æ…ä½¿ç”¨ã€‚")])])]),t._v(" "),a("li",[t._v("åº”ç”¨åœºæ™¯ï¼š\n"),a("ul",[a("li",[t._v("æƒé™æ§åˆ¶ï¼Œé€šè¿‡æŠ½è±¡é€»è¾‘ï¼Œç»Ÿä¸€å¯¹é¡µé¢è¿›è¡Œæƒé™åˆ¤æ–­ï¼ŒæŒ‰ä¸åŒçš„æ¡ä»¶è¿›è¡Œé¡µé¢æ¸²æŸ“ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withAdminAuth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("WrappedComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("extends")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  \t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t    \tisAdmin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n  \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillMount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" currentRole "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentUserRole")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \t    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t        isAdmin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" currentRole "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \t    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isAdmin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Comp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \t    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("æ‚¨æ²¡æœ‰æƒé™æŸ¥çœ‹è¯¥é¡µé¢ï¼Œè¯·è”ç³»ç®¡ç†å‘˜ï¼"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \t    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \t  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("æ€§èƒ½ç›‘æ§ï¼ŒåŒ…è£¹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿›è¡Œç»Ÿä¸€åŸ‹ç‚¹:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withTiming")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Comp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("extends")]),t._v(" Comp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("componentDidMount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("WrappedComponent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" ç»„ä»¶æ¸²æŸ“æ—¶é—´ä¸º ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" ms")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("ä»£ç å¤ç”¨ï¼Œå¯ä»¥å°†é‡å¤çš„é€»è¾‘è¿›è¡ŒæŠ½è±¡ã€‚")])])]),t._v(" "),a("li",[t._v("ä½¿ç”¨æ³¨æ„:\n"),a("ul",[a("li",[t._v("çº¯å‡½æ•°: å¢å¼ºå‡½æ•°åº”ä¸ºçº¯å‡½æ•°ï¼Œé¿å…ä¾µå…¥ä¿®æ”¹å…ƒç»„ä»¶ï¼›")]),t._v(" "),a("li",[t._v("é¿å…ç”¨æ³•æ±¡æŸ“: ç†æƒ³çŠ¶æ€ä¸‹ï¼Œåº”é€ä¼ å…ƒç»„ä»¶çš„æ— å…³å‚æ•°ä¸äº‹ä»¶ï¼Œå°½é‡ä¿è¯ç”¨æ³•ä¸å˜ï¼›")]),t._v(" "),a("li",[t._v("å‘½åç©ºé—´: ä¸º HOC å¢åŠ ç‰¹å¼‚æ€§çš„ç»„ä»¶åç§°ï¼Œè¿™æ ·èƒ½ä¾¿äºå¼€å‘è°ƒè¯•å’ŒæŸ¥æ‰¾é—®é¢˜ï¼›")]),t._v(" "),a("li",[t._v("å¼•ç”¨ä¼ é€’: å¦‚æœéœ€è¦ä¼ é€’å…ƒç»„ä»¶çš„ refs å¼•ç”¨ï¼Œå¯ä»¥ä½¿ç”¨React.forwardRefï¼›")]),t._v(" "),a("li",[t._v("é™æ€æ–¹æ³•: å…ƒç»„ä»¶ä¸Šçš„é™æ€æ–¹æ³•å¹¶æ— æ³•è¢«è‡ªåŠ¨ä¼ å‡ºï¼Œä¼šå¯¼è‡´ä¸šåŠ¡å±‚æ— æ³•è°ƒç”¨ï¼›è§£å†³:\n"),a("ul",[a("li",[t._v("å‡½æ•°å¯¼å‡º")]),t._v(" "),a("li",[t._v("é™æ€æ–¹æ³•èµ‹å€¼")])])]),t._v(" "),a("li",[t._v("é‡æ–°æ¸²æŸ“: ç”±äºå¢å¼ºå‡½æ•°æ¯æ¬¡è°ƒç”¨æ˜¯è¿”å›ä¸€ä¸ªæ–°ç»„ä»¶ï¼Œå› æ­¤å¦‚æœåœ¨ Render ä¸­ä½¿ç”¨å¢å¼ºå‡½æ•°ï¼Œå°±ä¼šå¯¼è‡´æ¯æ¬¡éƒ½é‡æ–°æ¸²æŸ“æ•´ä¸ªHOCï¼Œè€Œä¸”ä¹‹å‰çš„çŠ¶æ€ä¼šä¸¢å¤±ï¼›")])])])]),t._v(" "),a("h2",{attrs:{id:"_5-redux"}},[t._v("ğŸ 5.Redux")]),t._v(" "),a("p",[t._v("Redux æ˜¯ä¸€ä¸ª æ•°æ®ç®¡ç†ä¸­å¿ƒï¼Œå¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªå…¨å±€çš„ data store å®ä¾‹ã€‚å®ƒé€šè¿‡ä¸€å®šçš„ä½¿ç”¨è§„åˆ™å’Œé™åˆ¶ï¼Œä¿è¯ç€æ•°æ®çš„å¥å£®æ€§ã€å¯è¿½æº¯å’Œå¯é¢„æµ‹æ€§ã€‚å®ƒä¸ React æ— å…³ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œäºä»»ä½• JavaScript ç¯å¢ƒä¸­ï¼Œä»è€Œä¹Ÿä¸ºåŒæ„åº”ç”¨æä¾›äº†æ›´å¥½çš„æ•°æ®åŒæ­¥é€šé“ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("æ ¸å¿ƒç†å¿µ:\n"),a("ul",[a("li",[t._v("å•ä¸€æ•°æ®æº: æ•´ä¸ªåº”ç”¨åªæœ‰å”¯ä¸€çš„çŠ¶æ€æ ‘ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ state æœ€ç»ˆç»´æŠ¤åœ¨ä¸€ä¸ªæ ¹çº§ Store ä¸­ï¼›")]),t._v(" "),a("li",[t._v("çŠ¶æ€åªè¯»: ä¸ºäº†ä¿è¯çŠ¶æ€çš„å¯æ§æ€§ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯ç›‘æ§çŠ¶æ€çš„å˜åŒ–ã€‚é‚£è¿™é‡Œå°±ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼š\n"),a("ul",[a("li",[t._v("Redux Store ä¸­çš„æ•°æ®æ— æ³•è¢«ç›´æ¥ä¿®æ”¹ï¼›")]),t._v(" "),a("li",[t._v("ä¸¥æ ¼æ§åˆ¶ä¿®æ”¹çš„æ‰§è¡Œï¼›")])])]),t._v(" "),a("li",[t._v("çº¯å‡½æ•°: è§„å®šåªèƒ½é€šè¿‡ä¸€ä¸ªçº¯å‡½æ•° (Reducer) æ¥æè¿°ä¿®æ”¹ï¼›")])])]),t._v(" "),a("li",[t._v("å¤§è‡´çš„æ•°æ®ç»“æ„å¦‚ä¸‹æ‰€ç¤º:\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/3/21/1699e0d09c40cec7?imageslim",alt:""}})]),t._v(" "),a("li",[t._v("ç†å¿µå®ç°:\n"),a("ul",[a("li",[t._v("Store: å…¨å±€ Store å•ä¾‹ï¼Œ æ¯ä¸ª Redux åº”ç”¨ä¸‹åªæœ‰ä¸€ä¸ª storeï¼Œ å®ƒå…·æœ‰ä»¥ä¸‹æ–¹æ³•ä¾›ä½¿ç”¨:\n"),a("ul",[a("li",[t._v("getState: è·å– stateï¼›")]),t._v(" "),a("li",[t._v("dispatch: è§¦å‘ action, æ›´æ–° stateï¼›")]),t._v(" "),a("li",[t._v("subscribe: è®¢é˜…æ•°æ®å˜æ›´ï¼Œæ³¨å†Œç›‘å¬å™¨ï¼›")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Reducer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("initStore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("Action:å®ƒä½œä¸ºä¸€ä¸ªè¡Œä¸ºè½½ä½“ï¼Œç”¨äºæ˜ å°„ç›¸åº”çš„Reducerï¼Œå¹¶ä¸”å®ƒå¯ä»¥æˆä¸ºæ•°æ®çš„è½½ä½“ï¼Œå°†æ•°æ®ä»åº”ç”¨ä¼ é€’è‡³storeä¸­ï¼Œæ˜¯storeå”¯ä¸€çš„æ•°æ®æºï¼›")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€ä¸ªæ™®é€šçš„Action")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" action "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_LIST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  item"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list-item-1'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨ï¼š")]),t._v("\nstore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šå¸¸ä¸ºäº†ä¾¿äºè°ƒç”¨ï¼Œä¼šæœ‰ä¸€ä¸ªActionåˆ›å»ºå‡½æ•°ï¼ˆaction createrï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" action "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_LIST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    item\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒç”¨å°±ä¼šå˜æˆ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list-item-1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("Reducer:ç”¨äºæè¿°å¦‚ä½•ä¿®æ”¹æ•°æ®çš„çº¯å‡½æ•°ï¼ŒActionå±äºè¡Œä¸ºåç§°ï¼Œè€ŒReducerä¾¿æ˜¯ä¿®æ”¹è¡Œä¸ºçš„å®è´¨")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€ä¸ªå¸¸è§„çš„ Reducer")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @param {state}: æ—§æ•°æ®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @param {action}: Action å¯¹è±¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @returns {any}: æ–°æ•°æ®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" initList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ListReducer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" initList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD_LIST'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n    defalut"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("h3",{attrs:{id:"æ³¨æ„"}},[t._v("æ³¨æ„:")]),t._v(" "),a("p",[t._v("1.éµå®ˆæ•°æ®ä¸å¯å˜ï¼Œä¸è¦å»ç›´æ¥ä¿®æ”¹ stateï¼Œè€Œæ˜¯è¿”å›å‡ºä¸€ä¸ª æ–°å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ assign / copy / extend / è§£æ„ ç­‰æ–¹å¼åˆ›å»ºæ–°å¯¹è±¡ï¼›\n2.é»˜è®¤æƒ…å†µä¸‹éœ€è¦ è¿”å›åŸæ•°æ®ï¼Œé¿å…æ•°æ®è¢«æ¸…ç©ºï¼›\n3.æœ€å¥½è®¾ç½® åˆå§‹å€¼ï¼Œä¾¿äºåº”ç”¨çš„åˆå§‹åŒ–åŠæ•°æ®ç¨³å®šï¼›")])])]),t._v(" "),a("li",[t._v("è¿›é˜¶:\n"),a("ul",[a("li",[t._v("React-Redux: ç»“åˆ React ä½¿ç”¨ï¼›\n"),a("ul",[a("li",[a("code",[t._v("<Provider>")]),t._v(": å°† store é€šè¿‡ context ä¼ å…¥ç»„ä»¶ä¸­ï¼›")]),t._v(" "),a("li",[t._v("connect: ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨ Reduxï¼›\n"),a("ul",[a("li",[a("ol",[a("li",[t._v("å°†storeé€šè¿‡mapStateToPropsè¿›è¡Œç­›é€‰åä½¿ç”¨propsæ³¨å…¥ç»„ä»¶")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("æ ¹æ®mapDispatchToPropsåˆ›å»ºæ–¹æ³•ï¼Œå½“ç»„ä»¶è°ƒç”¨æ—¶ä½¿ç”¨dispatchè§¦å‘å¯¹åº”çš„action")])])])])])])]),t._v(" "),a("li",[t._v("Reducer çš„æ‹†åˆ†ä¸é‡æ„:\n"),a("ul",[a("li",[t._v("éšç€é¡¹ç›®è¶Šå¤§ï¼Œå¦‚æœå°†æ‰€æœ‰çŠ¶æ€çš„ reducer å…¨éƒ¨å†™åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå°†ä¼š éš¾ä»¥ç»´æŠ¤ï¼›")]),t._v(" "),a("li",[t._v("å¯ä»¥å°† reducer è¿›è¡Œæ‹†åˆ†ï¼Œä¹Ÿå°±æ˜¯ å‡½æ•°åˆ†è§£ï¼Œæœ€ç»ˆå†ä½¿ç”¨combineReducers()è¿›è¡Œé‡æ„åˆå¹¶ï¼›")])])]),t._v(" "),a("li",[t._v("å¼‚æ­¥ Action: ç”±äº Reducer æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„çº¯å‡½æ•°ï¼Œå› æ­¤æ— æ³•åœ¨ Reducer ä¸­è¿›è¡Œæ•°æ®çš„è¯·æ±‚ï¼Œéœ€è¦å…ˆè·å–æ•°æ®ï¼Œå†dispatch(Action)å³å¯ï¼Œä¸‹é¢æ˜¯ä¸‰ç§ä¸åŒçš„å¼‚æ­¥å®ç°:\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/reduxjs/redux-thunk",target:"_blank",rel:"noopener noreferrer"}},[t._v("redex-thunk"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/redux-saga/redux-saga",target:"_blank",rel:"noopener noreferrer"}},[t._v("redux-saga"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/redux-observable/redux-observable",target:"_blank",rel:"noopener noreferrer"}},[t._v("redux-observable"),a("OutboundLink")],1)])])])])])]),t._v(" "),a("h2",{attrs:{id:"_6-react-hooks"}},[t._v("ğŸ 6.React Hooks")]),t._v(" "),a("p",[t._v("React ä¸­é€šå¸¸ä½¿ç”¨ ç±»å®šä¹‰ æˆ–è€… å‡½æ•°å®šä¹‰ åˆ›å»ºç»„ä»¶:\nåœ¨ç±»å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ°è®¸å¤š React ç‰¹æ€§ï¼Œä¾‹å¦‚ stateã€ å„ç§ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ï¼Œä½†æ˜¯åœ¨å‡½æ•°å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬å´æ— èƒ½ä¸ºåŠ›ï¼Œå› æ­¤ React 16.8 ç‰ˆæœ¬æ¨å‡ºäº†ä¸€ä¸ªæ–°åŠŸèƒ½ (React Hooks)ï¼Œé€šè¿‡å®ƒï¼Œå¯ä»¥æ›´å¥½çš„åœ¨å‡½æ•°å®šä¹‰ç»„ä»¶ä¸­ä½¿ç”¨ React ç‰¹æ€§ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å¥½å¤„:\n"),a("ul",[a("li",[t._v("1ã€è·¨ç»„ä»¶å¤ç”¨: å…¶å® render props / HOC ä¹Ÿæ˜¯ä¸ºäº†å¤ç”¨ï¼Œç›¸æ¯”äºå®ƒä»¬ï¼ŒHooks ä½œä¸ºå®˜æ–¹çš„åº•å±‚ APIï¼Œæœ€ä¸ºè½»é‡ï¼Œè€Œä¸”æ”¹é€ æˆæœ¬å°ï¼Œä¸ä¼šå½±å“åŸæ¥çš„ç»„ä»¶å±‚æ¬¡ç»“æ„å’Œä¼ è¯´ä¸­çš„åµŒå¥—åœ°ç‹±ï¼›")]),t._v(" "),a("li",[t._v("2ã€ç±»å®šä¹‰æ›´ä¸ºå¤æ‚:\n"),a("ul",[a("li",[t._v("ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸä¼šä½¿é€»è¾‘å˜å¾—åˆ†æ•£ä¸”æ··ä¹±ï¼Œä¸æ˜“ç»´æŠ¤å’Œç®¡ç†ï¼›")]),t._v(" "),a("li",[t._v("æ—¶åˆ»éœ€è¦å…³æ³¨thisçš„æŒ‡å‘é—®é¢˜ï¼›")]),t._v(" "),a("li",[t._v("ä»£ç å¤ç”¨ä»£ä»·é«˜ï¼Œé«˜é˜¶ç»„ä»¶çš„ä½¿ç”¨ç»å¸¸ä¼šä½¿æ•´ä¸ªç»„ä»¶æ ‘å˜å¾—è‡ƒè‚¿ï¼›")])])]),t._v(" "),a("li",[t._v("3ã€çŠ¶æ€ä¸UIéš”ç¦»: æ­£æ˜¯ç”±äº Hooks çš„ç‰¹æ€§ï¼ŒçŠ¶æ€é€»è¾‘ä¼šå˜æˆæ›´å°çš„ç²’åº¦ï¼Œå¹¶ä¸”æå®¹æ˜“è¢«æŠ½è±¡æˆä¸€ä¸ªè‡ªå®šä¹‰ Hooksï¼Œç»„ä»¶ä¸­çš„çŠ¶æ€å’Œ UI å˜å¾—æ›´ä¸ºæ¸…æ™°å’Œéš”ç¦»ã€‚")])])]),t._v(" "),a("li",[t._v("æ³¨æ„:\n"),a("ul",[a("li",[t._v("é¿å…åœ¨ å¾ªç¯/æ¡ä»¶åˆ¤æ–­/åµŒå¥—å‡½æ•° ä¸­è°ƒç”¨ hooksï¼Œä¿è¯è°ƒç”¨é¡ºåºçš„ç¨³å®šï¼›")]),t._v(" "),a("li",[t._v("åªæœ‰ å‡½æ•°å®šä¹‰ç»„ä»¶ å’Œ hooks å¯ä»¥è°ƒç”¨ hooksï¼Œé¿å…åœ¨ ç±»ç»„ä»¶ æˆ–è€… æ™®é€šå‡½æ•° ä¸­è°ƒç”¨ï¼›")]),t._v(" "),a("li",[t._v("ä¸èƒ½åœ¨useEffectä¸­ä½¿ç”¨useStateï¼ŒReact ä¼šæŠ¥é”™æç¤ºï¼›")]),t._v(" "),a("li",[t._v("ç±»ç»„ä»¶ä¸ä¼šè¢«æ›¿æ¢æˆ–åºŸå¼ƒï¼Œä¸éœ€è¦å¼ºåˆ¶æ”¹é€ ç±»ç»„ä»¶ï¼Œä¸¤ç§æ–¹å¼èƒ½å¹¶å­˜ï¼›")])])]),t._v(" "),a("li",[t._v("é‡è¦é’©å­*:\n"),a("ul",[a("li",[t._v("çŠ¶æ€é’©å­ (useState): ç”¨äºå®šä¹‰ç»„ä»¶çš„ Stateï¼Œå…¶åˆ°ç±»å®šä¹‰ä¸­this.stateçš„åŠŸèƒ½ï¼›")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// useState åªæ¥å—ä¸€ä¸ªå‚æ•°: åˆå§‹çŠ¶æ€")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å›çš„æ˜¯ç»„ä»¶åå’Œæ›´æ”¹è¯¥ç»„ä»¶å¯¹åº”çš„å‡½æ•°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("flag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setFlag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¿®æ”¹çŠ¶æ€")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFlag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸Šé¢çš„ä»£ç æ˜ å°„åˆ°ç±»å®šä¹‰ä¸­:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tflag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\t\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" flag "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flag\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("setFlag")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("bool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        flag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" bool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆuseEffectï¼‰\nç±»å®šä¹‰ä¸­æœ‰è®¸å¤šç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè€Œåœ¨ React Hooks ä¸­ä¹Ÿæä¾›äº†ä¸€ä¸ªç›¸åº”çš„å‡½æ•° (useEffect)ï¼Œè¿™é‡Œå¯ä»¥çœ‹åšcomponentDidMountã€componentDidUpdateå’ŒcomponentWillUnmountçš„ç»“åˆã€‚")]),t._v(" "),a("li",[t._v("useEffect(callback, [source])æ¥å—ä¸¤ä¸ªå‚æ•°\n"),a("ul",[a("li",[t._v("callback: é’©å­å›è°ƒå‡½æ•°ï¼›")]),t._v(" "),a("li",[t._v("source: è®¾ç½®è§¦å‘æ¡ä»¶ï¼Œä»…å½“ source å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šè§¦å‘ï¼›")]),t._v(" "),a("li",[t._v("useEffecté’©å­åœ¨æ²¡æœ‰ä¼ å…¥[source]å‚æ•°æ—¶ï¼Œé»˜è®¤åœ¨æ¯æ¬¡ render æ—¶éƒ½ä¼šä¼˜å…ˆè°ƒç”¨ä¸Šæ¬¡ä¿å­˜çš„å›è°ƒä¸­è¿”å›çš„å‡½æ•°ï¼Œåå†é‡æ–°è°ƒç”¨å›è°ƒï¼›")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶æŒ‚è½½åæ‰§è¡Œäº‹ä»¶ç»‘å®š")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'on'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶ update æ—¶ä¼šæ‰§è¡Œäº‹ä»¶è§£ç»‘")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("source"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯æ¬¡ source å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰§è¡Œç»“æœ(ä»¥ç±»å®šä¹‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¾¿äºå¤§å®¶ç†è§£):")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --- DidMount ---")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'on'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --- DidUpdate ---")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'off'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'on'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --- DidUpdate ---")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'off'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'on'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --- WillUnmount --- ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'off'")]),t._v("\n")])])]),a("ul",[a("li",[t._v("é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°ï¼Œæˆ‘ä»¬ä¾¿å¯æ¨¡æ‹Ÿå‡ºå‡ ä¸ªå¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸ:\n"),a("ul",[a("li",[t._v("componentDidMount: ä¼ å…¥[]æ—¶ï¼Œå°±åªä¼šåœ¨åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ï¼›")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("useMount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("componentWillUnmount: ä¼ å…¥[]ï¼Œå›è°ƒä¸­çš„è¿”å›çš„å‡½æ•°ä¹Ÿåªä¼šè¢«æœ€ç»ˆæ‰§è¡Œä¸€æ¬¡ï¼›")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("useUnmount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("mounted: å¯ä»¥ä½¿ç”¨ useState å°è£…æˆä¸€ä¸ªé«˜åº¦å¯å¤ç”¨çš„ mounted çŠ¶æ€ï¼›")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("useMounted")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mounted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setMounted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("mounted "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" mounted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("componentDidUpdate: useEffectæ¯æ¬¡å‡ä¼šæ‰§è¡Œï¼Œå…¶å®å°±æ˜¯æ’é™¤äº† DidMount åå³å¯ï¼›")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mounted "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useMounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mounted "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("ul",[a("li",[t._v("å…¶å®ƒå†…ç½®é’©å­:\n"),a("ul",[a("li",[t._v("useContext: è·å– context å¯¹è±¡")]),t._v(" "),a("li",[t._v("useReducer: ç±»ä¼¼äº Redux æ€æƒ³çš„å®ç°ï¼Œä½†å…¶å¹¶ä¸è¶³ä»¥æ›¿ä»£ Reduxï¼Œå¯ä»¥ç†è§£æˆä¸€ä¸ªç»„ä»¶å†…éƒ¨çš„ redux:\n"),a("ul",[a("li",[t._v("å¹¶ä¸æ˜¯æŒä¹…åŒ–å­˜å‚¨ï¼Œä¼šéšç€ç»„ä»¶è¢«é”€æ¯è€Œé”€æ¯ï¼›")]),t._v(" "),a("li",[t._v("å±äºç»„ä»¶å†…éƒ¨ï¼Œå„ä¸ªç»„ä»¶æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œå•çº¯ç”¨å®ƒå¹¶æ— æ³•å…±äº«æ•°æ®ï¼›")]),t._v(" "),a("li",[t._v("é…åˆuseContextçš„å…¨å±€æ€§ï¼Œå¯ä»¥å®Œæˆä¸€ä¸ªè½»é‡çº§çš„ Reduxï¼›(easy-peasy)")])])]),t._v(" "),a("li",[t._v("useCallback: ç¼“å­˜å›è°ƒå‡½æ•°ï¼Œé¿å…ä¼ å…¥çš„å›è°ƒæ¯æ¬¡éƒ½æ˜¯æ–°çš„å‡½æ•°å®ä¾‹è€Œå¯¼è‡´ä¾èµ–ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå…·æœ‰æ€§èƒ½ä¼˜åŒ–çš„æ•ˆæœï¼›")]),t._v(" "),a("li",[t._v("useMemo: ç”¨äºç¼“å­˜ä¼ å…¥çš„ propsï¼Œé¿å…ä¾èµ–çš„ç»„ä»¶æ¯æ¬¡éƒ½é‡æ–°æ¸²æŸ“ï¼›")]),t._v(" "),a("li",[t._v("useRef: è·å–ç»„ä»¶çš„çœŸå®èŠ‚ç‚¹ï¼›")]),t._v(" "),a("li",[t._v("useLayoutEffect:\n"),a("ul",[a("li",[t._v("DOMæ›´æ–°åŒæ­¥é’©å­ã€‚ç”¨æ³•ä¸useEffectç±»ä¼¼ï¼Œåªæ˜¯åŒºåˆ«äºæ‰§è¡Œæ—¶é—´ç‚¹çš„ä¸åŒã€‚")]),t._v(" "),a("li",[t._v("useEffectå±äºå¼‚æ­¥æ‰§è¡Œï¼Œå¹¶ä¸ä¼šç­‰å¾… DOM çœŸæ­£æ¸²æŸ“åæ‰§è¡Œï¼Œè€ŒuseLayoutEffectåˆ™ä¼šçœŸæ­£æ¸²æŸ“åæ‰è§¦å‘ï¼›")]),t._v(" "),a("li",[t._v("å¯ä»¥è·å–æ›´æ–°åçš„ stateï¼›")])])])])]),t._v(" "),a("li",[t._v("è‡ªå®šä¹‰é’©å­(useXxxxx): åŸºäº Hooks å¯ä»¥å¼•ç”¨å…¶å®ƒ Hooks è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™è‡ªå®šä¹‰é’©å­ï¼Œå¦‚ä¸Šé¢çš„useMountedã€‚åˆä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æ¯ä¸ªé¡µé¢è‡ªå®šä¹‰æ ‡é¢˜:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useTitle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Home")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" title "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æˆ‘æ˜¯é¦–é¡µ'")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useTitle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_7-ssr"}},[t._v("ğŸ 7.SSR")]),t._v(" "),a("p",[t._v("SSRï¼Œä¿—ç§° æœåŠ¡ç«¯æ¸²æŸ“ (Server Side Render)ï¼Œè®²äººè¯å°±æ˜¯: ç›´æ¥åœ¨æœåŠ¡ç«¯å±‚è·å–æ•°æ®ï¼Œæ¸²æŸ“å‡ºå®Œæˆçš„ HTML æ–‡ä»¶ï¼Œç›´æ¥è¿”å›ç»™ç”¨æˆ·æµè§ˆå™¨è®¿é—®ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å‰åç«¯åˆ†ç¦»: å‰ç«¯ä¸æœåŠ¡ç«¯éš”ç¦»ï¼Œå‰ç«¯åŠ¨æ€è·å–æ•°æ®ï¼Œæ¸²æŸ“é¡µé¢ã€‚")]),t._v(" "),a("li",[t._v("ç—›ç‚¹:\n"),a("ul",[a("li",[t._v("é¦–å±æ¸²æŸ“æ€§èƒ½ç“¶é¢ˆ:\n"),a("ul",[a("li",[t._v("ç©ºç™½å»¶è¿Ÿ: HTMLä¸‹è½½æ—¶é—´ + JSä¸‹è½½/æ‰§è¡Œæ—¶é—´ + è¯·æ±‚æ—¶é—´ + æ¸²æŸ“æ—¶é—´ã€‚åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œé¡µé¢å¤„äºç©ºç™½çš„çŠ¶æ€ã€‚")])])]),t._v(" "),a("li",[t._v("SEO é—®é¢˜: ç”±äºé¡µé¢åˆå§‹çŠ¶æ€ä¸ºç©ºï¼Œå› æ­¤çˆ¬è™«æ— æ³•è·å–é¡µé¢ä¸­ä»»ä½•æœ‰æ•ˆæ•°æ®ï¼Œå› æ­¤å¯¹æœç´¢å¼•æ“ä¸å‹å¥½ã€‚\n"),a("ul",[a("li",[t._v("è™½ç„¶ä¸€ç›´æœ‰åœ¨æåŠ¨æ€æ¸²æŸ“çˆ¬è™«çš„æŠ€æœ¯ï¼Œä¸è¿‡æ®æˆ‘äº†è§£ï¼Œå¤§éƒ¨åˆ†å›½å†…æœç´¢å¼•æ“ä»ç„¶æ˜¯æ²¡æœ‰å®ç°ã€‚\næœ€åˆçš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œä¾¿æ²¡æœ‰è¿™äº›é—®é¢˜ã€‚ä½†æˆ‘ä»¬ä¸èƒ½è¿”ç’å½’çœŸï¼Œæ—¢è¦ä¿è¯ç°æœ‰çš„å‰ç«¯ç‹¬ç«‹çš„å¼€å‘æ¨¡å¼ï¼Œåˆè¦ç”±æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ React SSRã€‚")])])])])]),t._v(" "),a("li",[t._v("åŸç†:\n"),a("ul",[a("li",[t._v("Node æœåŠ¡: è®©å‰åç«¯è¿è¡ŒåŒä¸€å¥—ä»£ç æˆä¸ºå¯èƒ½ã€‚")]),t._v(" "),a("li",[t._v("Virtual Dom: è®©å‰ç«¯ä»£ç è„±ç¦»æµè§ˆå™¨è¿è¡Œã€‚")])])]),t._v(" "),a("li",[t._v("æ¡ä»¶: Node ä¸­é—´å±‚ã€ React / Vue ç­‰æ¡†æ¶ã€‚ ç»“æ„å¤§æ¦‚å¦‚ä¸‹:\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/3/21/1699e0d41797a4d1?imageslim",alt:""}})]),t._v(" "),a("li",[t._v("å¼€å‘æµç¨‹: (æ­¤å¤„ä»¥ React + Router + Redux + Koa ä¸ºä¾‹)\n"),a("ul",[a("li",[t._v("1ã€åœ¨åŒä¸ªé¡¹ç›®ä¸­ï¼Œæ­å»º å‰åç«¯éƒ¨åˆ†ï¼Œå¸¸è§„ç»“æ„:\n"),a("ul",[a("li",[t._v("build")]),t._v(" "),a("li",[t._v("public")]),t._v(" "),a("li",[t._v("src\n"),a("ul",[a("li",[t._v("client")]),t._v(" "),a("li",[t._v("server")])])])])]),t._v(" "),a("li",[t._v("2ã€server ä¸­ä½¿ç”¨ Koa è·¯ç”±ç›‘å¬ é¡µé¢è®¿é—®:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Router "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'koa-router'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Router")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœä¸­é—´ä¹Ÿæä¾› Api å±‚")]),t._v("\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å›æ•°æ®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å› HTML")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("3ã€é€šè¿‡è®¿é—® url åŒ¹é… å‰ç«¯é¡µé¢è·¯ç”±:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‰ç«¯é¡µé¢è·¯ç”±")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" pages "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../client/app'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" matchPath "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨ react-router åº“æä¾›çš„ä¸€ä¸ªåŒ¹é…æ–¹æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" matchPage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("matchPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("4ã€é€šè¿‡é¡µé¢è·¯ç”±çš„é…ç½®è¿›è¡Œ æ•°æ®è·å–ã€‚é€šå¸¸å¯ä»¥åœ¨é¡µé¢è·¯ç”±ä¸­å¢åŠ  SSR ç›¸å…³çš„é™æ€é…ç½®ï¼Œç”¨äºæŠ½è±¡é€»è¾‘ï¼Œå¯ä»¥ä¿è¯æœåŠ¡ç«¯é€»è¾‘çš„é€šç”¨æ€§ï¼Œå¦‚:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HomePage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" ssrConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t  cache"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      \t  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯·æ±‚è·å–æ•°æ®")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v("è·å–æ•°æ®é€šå¸¸æœ‰ä¸¤ç§æƒ…å†µ:\n"),a("ul",[a("li",[t._v("ä¸­é—´å±‚ä¹Ÿä½¿ç”¨ http è·å–æ•°æ®ï¼Œåˆ™æ­¤æ—¶ fetch æ–¹æ³•å¯å‰åç«¯å…±äº«ï¼›")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" matchPage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssrConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("ä¸­é—´å±‚å¹¶ä¸ä½¿ç”¨ httpï¼Œæ˜¯é€šè¿‡ä¸€äº› å†…éƒ¨è°ƒç”¨ï¼Œä¾‹å¦‚ Rpc æˆ– ç›´æ¥è¯»æ•°æ®åº“ ç­‰ï¼Œæ­¤æ—¶ä¹Ÿå¯ä»¥ç›´æ¥ç”±æœåŠ¡ç«¯è°ƒç”¨å¯¹åº”çš„æ–¹æ³•è·å–æ•°æ®ã€‚é€šå¸¸ï¼Œè¿™é‡Œéœ€è¦åœ¨ ssrConfig ä¸­é…ç½®ç‰¹å¼‚æ€§çš„ä¿¡æ¯ï¼Œç”¨äºåŒ¹é…å¯¹åº”çš„æ•°æ®è·å–æ–¹æ³•ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¡µé¢è·¯ç”±")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HomePage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" ssrConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        fetch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ®è§„åˆ™åŒ¹é…å‡ºå¯¹åº”çš„æ•°æ®è·å–æ–¹æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œçš„è§„åˆ™å¯ä»¥è‡ªç”±ï¼Œåªè¦èƒ½åŒ¹é…å‡ºæ­£ç¡®çš„æ–¹æ³•å³å¯")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" controller "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("matchController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ssrConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–æ•°æ®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("5ã€åˆ›å»º Redux storeï¼Œå¹¶å°†æ•°æ®dispatchåˆ°é‡Œé¢:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createStore "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å– Clinetå±‚ reducer")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…é¡»å¤ç”¨å‰ç«¯å±‚çš„é€»è¾‘ï¼Œæ‰èƒ½ä¿è¯ä¸€è‡´æ€§ï¼›")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" reducers "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../client/store'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»º store")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–é…ç½®å¥½çš„ Action")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" action "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ssrConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("action\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­˜å‚¨æ•°æ®\t")]),t._v("\nstore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createAction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("6ã€æ³¨å…¥ Storeï¼Œ è°ƒç”¨renderToStringå°† React Virtual Dom æ¸²æŸ“æˆ å­—ç¬¦ä¸²:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" ReactDOMServer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-dom/server'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Provider "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-redux'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å– Clinet å±‚æ ¹ç»„ä»¶")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" App "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../client/app'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" AppString "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ReactDOMServer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderToString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Provider store"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("StaticRouter\n      location"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      context"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("StaticRouter"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Provider"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("7ã€å°† AppString åŒ…è£…æˆå®Œæ•´çš„ html æ–‡ä»¶æ ¼å¼ï¼›")]),t._v(" "),a("li",[t._v("8ã€æ­¤æ—¶ï¼Œå·²ç»èƒ½ç”Ÿæˆå®Œæ•´çš„ HTML æ–‡ä»¶ã€‚ä½†åªæ˜¯ä¸ªçº¯é™æ€çš„é¡µé¢ï¼Œæ²¡æœ‰æ ·å¼æ²¡æœ‰äº¤äº’ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ˜¯è¦æ’å…¥ JS ä¸ CSSã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—®å‰ç«¯æ‰“åŒ…åç”Ÿæˆçš„asset-manifest.jsonæ–‡ä»¶æ¥è·å–ç›¸åº”çš„æ–‡ä»¶è·¯å¾„ï¼Œå¹¶åŒæ ·æ³¨å…¥åˆ° Html ä¸­å¼•ç”¨ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" html "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n  <!DOCTYPE html>\n  <html lang="zh">\n    <head></head>\n    <link href="')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("cssPath"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" rel="stylesheet" />\n    <body>\n      <div id="App">')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("AppString"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('</div>\n      <script src="')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("scriptPath"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"><\/script>\n    </body>\n  </html>\n')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n")])])]),a("ul",[a("li",[t._v("9ã€è¿›è¡Œ æ•°æ®è„±æ°´: ä¸ºäº†æŠŠæœåŠ¡ç«¯è·å–çš„æ•°æ®åŒæ­¥åˆ°å‰ç«¯ã€‚ä¸»è¦æ˜¯å°†æ•°æ®åºåˆ—åŒ–åï¼Œæ’å…¥åˆ° html ä¸­ï¼Œè¿”å›ç»™å‰ç«¯ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" serialize "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'serialize-javascript'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–æ•°æ®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" initState "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" html "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n  <!DOCTYPE html>\n  <html lang="zh">\n    <head></head>\n    <body>\n      <div id="App"></div>\n      <script type="application/json" id="SSR_HYDRATED_DATA">')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("serialize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("initState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<\/script>\n    </body>\n  </html>\n")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" html\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("è¿™é‡Œæ¯”è¾ƒç‰¹åˆ«çš„æœ‰ä¸¤ç‚¹:")]),t._v(" "),a("ol",[a("li",[t._v("ä½¿ç”¨äº†serialize-javascriptåºåˆ—åŒ– storeï¼Œ æ›¿ä»£äº†JSON.stringifyï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œé¿å…ä»£ç æ³¨å…¥å’Œ XSS æ”»å‡»ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ json è¿›è¡Œä¼ è¾“ï¼Œå¯ä»¥è·å¾—æ›´å¿«çš„åŠ è½½é€Ÿåº¦ï¼›")])])]),t._v(" "),a("ul",[a("li",[t._v("10ã€Client å±‚ æ•°æ®å¸æ°´: åˆå§‹åŒ– store æ—¶ï¼Œä»¥è„±æ°´åçš„æ•°æ®ä¸ºåˆå§‹åŒ–æ•°æ®ï¼ŒåŒæ­¥åˆ›å»º storeã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hydratedEl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SSR_HYDRATED_DATA'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hydrateData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hydratedEl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨åˆå§‹ state åˆ›å»º Redux store")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hydrateData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"_8-å‡½æ•°å¼ç¼–ç¨‹"}},[t._v("ğŸ 8.å‡½æ•°å¼ç¼–ç¨‹")]),t._v(" "),a("p",[t._v("å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä½ å¯ä»¥ç†è§£ä¸ºä¸€ç§è½¯ä»¶æ¶æ„çš„æ€ç»´æ¨¡å¼ã€‚å®ƒæœ‰ç€ç‹¬ç«‹ä¸€å¥—ç†è®ºåŸºç¡€ä¸è¾¹ç•Œæ³•åˆ™ï¼Œè¿½æ±‚çš„æ˜¯æ›´ç®€æ´ã€å¯é¢„æµ‹ã€é«˜å¤ç”¨ã€æ˜“æµ‹è¯•ã€‚å…¶å®åœ¨ç°æœ‰çš„ä¼—å¤šçŸ¥ååº“ä¸­ï¼Œéƒ½è•´å«ç€ä¸°å¯Œçš„å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œå¦‚React/Reduxç­‰ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å¸¸è§çš„ç¼–ç¨‹èŒƒå¼ï¼š\n"),a("ul",[a("li",[t._v("å‘½ä»¤å¼ç¼–ç¨‹ï¼ˆè¿‡ç¨‹åŒ–ç¼–ç¨‹ï¼‰ï¼šæ›´å…³å¿ƒè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œä¸€æ­¥æ­¥ä»¥è¯­è¨€çš„å½¢å¼å‘Šè¯‰è®¡ç®—æœºåšä»€ä¹ˆï¼›")]),t._v(" "),a("li",[t._v("äº‹ä»¶é©±åŠ¨ç¼–ç¨‹ï¼šäº‹ä»¶è®¢é˜…ä¸è§¦å‘ï¼Œè¢«å¹¿æ³›ç”¨äºGUIçš„ç¼–ç¨‹è®¾è®¡ä¸­ï¼›")]),t._v(" "),a("li",[t._v("é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šåŸºäºç±»ã€å¯¹è±¡ä¸æ–¹æ³•çš„è®¾è®¡æ¨¡å¼ï¼Œæ‹¥æœ‰ä¸‰ä¸ªåŸºç¡€æ¦‚å¿µï¼šå°è£…æ€§ã€ç»§æ‰¿æ€§ã€å¤šæ€æ€§ï¼›")]),t._v(" "),a("li",[t._v("å‡½æ•°å¼ç¼–ç¨‹\n"),a("ul",[a("li",[t._v("æ¢æˆä¸€ç§æ›´é«˜ç«¯çš„è¯´æ³•ï¼Œé¢å‘æ•°å­¦ç¼–ç¨‹ã€‚")])])])])]),t._v(" "),a("li",[t._v("å‡½æ•°å¼ç¼–ç¨‹çš„ç†å¿µï¼š\n"),a("ul",[a("li",[t._v("çº¯å‡½æ•°ï¼ˆç¡®å®šæ€§å‡½æ•°ï¼‰ï¼šæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€ï¼Œå¯ä»¥ä½¿ç¨‹åºå˜å¾—çµæ´»ï¼Œé«˜åº¦å¯æ‹“å±•ï¼Œå¯ç»´æŠ¤ï¼›\n"),a("ul",[a("li",[t._v("ä¼˜åŠ¿ï¼š\n"),a("ul",[a("li",[t._v("å®Œå…¨ç‹¬ç«‹ï¼Œä¸å¤–éƒ¨è§£è€¦ï¼›")]),t._v(" "),a("li",[t._v("é«˜åº¦å¯å¤ç”¨ï¼Œåœ¨ä»»æ„ä¸Šä¸‹æ–‡ï¼Œä»»æ„æ—¶é—´çº¿ä¸Šï¼Œéƒ½å¯æ‰§è¡Œå¹¶ä¸”ä¿è¯ç»“æœç¨³å®šï¼›")]),t._v(" "),a("li",[t._v("å¯æµ‹è¯•æ€§æå¼ºï¼›")])])]),t._v(" "),a("li",[t._v("æ¡ä»¶ï¼š\n"),a("ul",[a("li",[t._v("ä¸ä¿®æ”¹å‚æ•°ï¼›")]),t._v(" "),a("li",[t._v("ä¸ä¾èµ–ã€ä¸ä¿®æ”¹ä»»ä½•å‡½æ•°å¤–éƒ¨çš„æ•°æ®ï¼›")]),t._v(" "),a("li",[t._v("å®Œå…¨å¯æ§ï¼Œå‚æ•°ä¸€æ ·ï¼Œè¿”å›å€¼ä¸€å®šä¸€æ ·ï¼šä¾‹å¦‚å‡½æ•°ä¸èƒ½åŒ…å«new Date()æˆ–è€…Math.random() ç­‰è¿™ç§ä¸å¯æ§å› ç´ ï¼›")]),t._v(" "),a("li",[t._v("å¼•ç”¨é€æ˜ï¼›")])])]),t._v(" "),a("li",[t._v("æˆ‘ä»¬å¸¸ç”¨åˆ°çš„è®¸å¤šAPIæˆ–è€…å·¥å…·å‡½æ•°ï¼Œå®ƒä»¬éƒ½å…·æœ‰ç€çº¯å‡½æ•°çš„ç‰¹ç‚¹ï¼Œå¦‚split/join/mapï¼›")])])]),t._v(" "),a("li",[t._v("å‡½æ•°ç¬¦åˆï¼šå°†å¤šä¸ªå‡½æ•°è¿›è¡Œç»„åˆåè°ƒç”¨ï¼Œå¯ä»¥å®ç°å°†ä¸€ä¸ªä¸ªå‡½æ•°å•å…ƒè¿›è¡Œç»„åˆï¼Œè¾¾æˆæœ€åçš„ç›®æ ‡ï¼›\n"),a("ul",[a("li",[t._v("æ‰å¹³åŒ–åµŒå¥—ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬ä¸€å®šèƒ½æƒ³åˆ°ç»„åˆå‡½æ•°æœ€ç®€å•çš„æ“ä½œå°±æ˜¯åŒ…è£¹ï¼Œå› ä¸ºåœ¨JSä¸­ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥å½“åšå‚æ•°ï¼š\n"),a("ul",[a("li",[a("code",[t._v("f(g(k(x)))")]),t._v(":åµŒå¥—åœ°ç‹±ï¼Œå¯è¯»æ€§ä½ï¼Œå½“å‡½æ•°å¤æ‚åï¼Œå®¹æ˜“è®©äººä¸€è„¸æ‡µé€¼ï¼›")]),t._v(" "),a("li",[t._v("ç†æƒ³çš„åšæ³•ï¼šxxx(f,g,k)(x)")])])]),t._v(" "),a("li",[t._v("ç»“æœä¼ é€’ï¼šå¦‚æœæƒ³å®ç°ä¸Šé¢çš„æ–¹å¼ï¼Œé‚£ä¹Ÿå°±æ˜¯xxxå‡½æ•°è¦å®ç°çš„ä¾¿æ˜¯ï¼šæ‰§è¡Œç»“æœåœ¨å„ä¸ªå‡½æ•°ä¹‹é—´çš„æ‰§è¡Œä¼ é€’ï¼›\n"),a("ul",[a("li",[t._v("è¿™æ—¶æˆ‘ä»¬å°±èƒ½æƒ³åˆ°ä¸€ä¸ªåŸç”Ÿæä¾›çš„æ•°ç»„æ–¹æ³•ï¼šreduceï¼Œå®ƒå¯ä»¥æŒ‰æ•°ç»„çš„é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œä¼ é€’æ‰§è¡Œç»“æœï¼›")]),t._v(" "),a("li",[t._v("æ‰€ä»¥æˆ‘ä»¬å°±èƒ½å¤Ÿå®ç°ä¸€ä¸ªæ–¹æ³•pipeï¼Œç”¨äºå‡½æ•°ç»„åˆï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...fs: å°†å‡½æ•°ç»„åˆæˆæ•°ç»„ï¼›")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Array.prototype.reduce è¿›è¡Œç»„åˆï¼›")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pï¼šåˆå§‹å‚æ•°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("pipe")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("fs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" fs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("ä½¿ç”¨ï¼šå®ç°ä¸€ä¸ªé©¼å³°å‘½åè½¬ä¸­åˆ’çº¿å‘½åçš„åŠŸèƒ½ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Guo DongDong' --\x3e 'guo-dongdong'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‡½æ•°ç»„åˆå¼å†™æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("toLowerCase")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("str")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" join "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("arr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" split "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("splitOn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("splitOn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" toSlug "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  toLowerCase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'_'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  encodeURIComponent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toSlug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Guo DongDong'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])]),a("ul",[a("li",[t._v("å¥½å¤„ï¼š\n"),a("ul",[a("li",[t._v("éšè—ä¸­é—´å‚æ•°ï¼Œä¸éœ€è¦ä¸´æ—¶å˜é‡ï¼Œé¿å…äº†è¿™ä¸ªç¯èŠ‚çš„å‡ºé”™å‡ ç‡ï¼›")]),t._v(" "),a("li",[t._v("åªéœ€å…³æ³¨æ¯ä¸ªçº¯å‡½æ•°å•å…ƒçš„ç¨³å®šï¼Œä¸å†éœ€è¦å…³æ³¨å‘½åï¼Œä¼ é€’ï¼Œè°ƒç”¨ç­‰ï¼›")]),t._v(" "),a("li",[t._v("å¯å¤ç”¨æ€§å¼ºï¼Œä»»ä½•ä¸€ä¸ªå‡½æ•°å•å…ƒéƒ½å¯è¢«ä»»æ„å¤ç”¨å’Œç»„åˆï¼›")]),t._v(" "),a("li",[t._v("å¯æ‹“å±•æ€§å¼ºï¼Œæˆæœ¬ä½ï¼Œä¾‹å¦‚ç°åœ¨åŠ ä¸ªéœ€æ±‚ï¼Œè¦æŸ¥çœ‹æ¯ä¸ªç¯èŠ‚çš„è¾“å‡º")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" log "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("label"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(": ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" toSlug "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  toLowerCase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'toLowerCase output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'split output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'_'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'join output'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  encodeURIComponent\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ä¸€äº›å·¥å…·çº¯å‡½æ•°å¯ç›´æ¥å¼•ç”¨lodash/fpï¼Œä¾‹å¦‚curry/map/splitç­‰ï¼Œå¹¶ä¸éœ€è¦åƒæˆ‘ä»¬ä¸Šé¢è¿™æ ·è‡ªå·±å®ç°")])])]),t._v(" "),a("li",[t._v("æ•°æ®ä¸å¯å˜æ€§ï¼ˆimmutableï¼‰ï¼šè¿™æ˜¯ä¸€ç§æ•°æ®ç†å¿µï¼Œä¹Ÿæ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„æ ¸å¿ƒç†å¿µä¹‹ä¸€ï¼š\n"),a("ul",[a("li",[t._v("å€¡å¯¼: ä¸€ä¸ªå¯¹è±¡å†è¢«åˆ›å»ºåä¾¿ä¸ä¼šå†è¢«ä¿®æ”¹ã€‚å½“éœ€è¦æ”¹å˜å€¼æ—¶ï¼Œæ˜¯è¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨åŸå¯¹è±¡ä¸Šä¿®æ”¹ï¼›")]),t._v(" "),a("li",[t._v("ç›®çš„: ä¿è¯æ•°æ®çš„ç¨³å®šæ€§ã€‚é¿å…ä¾èµ–çš„æ•°æ®è¢«æœªçŸ¥åœ°ä¿®æ”¹ï¼Œå¯¼è‡´äº†è‡ªèº«çš„æ‰§è¡Œå¼‚å¸¸ï¼Œèƒ½æœ‰æ•ˆæé«˜å¯æ§æ€§ä¸ç¨³å®šæ€§ï¼›")]),t._v(" "),a("li",[t._v("å¹¶ä¸ç­‰åŒäºconstã€‚ä½¿ç”¨conståˆ›å»ºä¸€ä¸ªå¯¹è±¡åï¼Œå®ƒçš„å±æ€§ä»ç„¶å¯ä»¥è¢«ä¿®æ”¹ï¼›")]),t._v(" "),a("li",[t._v("æ›´ç±»ä¼¼äºObject.freeze: å†»ç»“å¯¹è±¡ï¼Œä½†freezeä»æ— æ³•ä¿è¯æ·±å±‚çš„å±æ€§ä¸è¢«ä¸²æ”¹ï¼›")]),t._v(" "),a("li",[t._v("immutable.js: js ä¸­çš„æ•°æ®ä¸å¯å˜åº“ï¼Œå®ƒä¿è¯äº†æ•°æ®ä¸å¯å˜ï¼Œåœ¨ React ç”Ÿæ€ä¸­è¢«å¹¿æ³›åº”ç”¨ï¼Œå¤§å¤§æå‡äº†æ€§èƒ½ä¸ç¨³å®šæ€§ï¼›\n"),a("ul",[a("li",[t._v("trieæ•°æ®ç»“æ„:\n"),a("ul",[a("li",[t._v("ä¸€ç§æ•°æ®ç»“æ„ï¼Œèƒ½æœ‰æ•ˆåœ°æ·±åº¦å†»ç»“å¯¹è±¡ï¼Œä¿è¯å…¶ä¸å¯å˜ï¼›")]),t._v(" "),a("li",[t._v("ç»“æ„å…±äº«: å¯ä»¥å…±ç”¨ä¸å¯å˜å¯¹è±¡çš„å†…å­˜å¼•ç”¨åœ°å€ï¼Œå‡å°‘å†…å­˜å ç”¨ï¼Œæé«˜æ•°æ®æ“ä½œæ€§èƒ½ï¼›")])])])])])])]),t._v(" "),a("li",[t._v("é¿å…ä¸åŒå‡½æ•°ä¹‹é—´çš„ çŠ¶æ€å…±äº«ï¼Œæ•°æ®çš„ä¼ é€’ä½¿ç”¨å¤åˆ¶æˆ–å…¨æ–°å¯¹è±¡ï¼Œéµå®ˆæ•°æ®ä¸å¯å˜åŸåˆ™ï¼›")]),t._v(" "),a("li",[t._v("é¿å…ä»å‡½æ•°å†…éƒ¨ æ”¹å˜å¤–éƒ¨çŠ¶æ€ï¼Œä¾‹å¦‚æ”¹å˜äº†å…¨å±€ä½œç”¨åŸŸæˆ–çˆ¶çº§ä½œç”¨åŸŸä¸Šçš„å˜é‡å€¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…¶å®ƒå•ä½é”™è¯¯ï¼›")]),t._v(" "),a("li",[t._v("é¿å…åœ¨å•å…ƒå‡½æ•°å†…éƒ¨æ‰§è¡Œä¸€äº› å‰¯ä½œç”¨ï¼Œåº”è¯¥å°†è¿™äº›æ“ä½œæŠ½ç¦»æˆæ›´ç‹¬ç«‹çš„å·¥å…·å•å…ƒï¼›\n"),a("ul",[a("li",[t._v("æ—¥å¿—è¾“å‡º")]),t._v(" "),a("li",[t._v("è¯»å†™æ–‡ä»¶")]),t._v(" "),a("li",[t._v("ç½‘ç»œè¯·æ±‚")]),t._v(" "),a("li",[t._v("è°ƒç”¨å¤–éƒ¨è¿›ç¨‹")]),t._v(" "),a("li",[t._v("è°ƒç”¨æœ‰å‰¯ä½œç”¨çš„å‡½æ•°")])])])])]),t._v(" "),a("li",[t._v("é«˜é˜¶å‡½æ•°: æ˜¯æŒ‡ ä»¥å‡½æ•°ä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å¢å¼ºå‡½æ•° çš„ä¸€ç±»å‡½æ•°ï¼Œå®ƒé€šå¸¸ç”¨äº:\n"),a("ul",[a("li",[t._v("å°†é€»è¾‘è¡Œä¸ºè¿›è¡Œ éš”ç¦»æŠ½è±¡ï¼Œä¾¿äºå¿«é€Ÿå¤ç”¨ï¼Œå¦‚å¤„ç†æ•°æ®ï¼Œå…¼å®¹æ€§ç­‰ï¼›")]),t._v(" "),a("li",[t._v("å‡½æ•°ç»„åˆï¼Œå°†ä¸€ç³»åˆ—å•å…ƒå‡½æ•°åˆ—è¡¨ç»„åˆæˆåŠŸèƒ½æ›´å¼ºå¤§çš„å‡½æ•°ï¼›")]),t._v(" "),a("li",[t._v("å‡½æ•°å¢å¼ºï¼Œå¿«é€Ÿåœ°æ‹“å±•å‡½æ•°åŠŸèƒ½ï¼Œ")])])]),t._v(" "),a("li",[t._v("å‡½æ•°å¼ç¼–ç¨‹çš„å¥½å¤„:\n"),a("ul",[a("li",[t._v("å‡½æ•°å‰¯ä½œç”¨å°ï¼Œæ‰€æœ‰å‡½æ•°ç‹¬ç«‹å­˜åœ¨ï¼Œæ²¡æœ‰ä»»ä½•è€¦åˆï¼Œå¤ç”¨æ€§æé«˜ï¼›")]),t._v(" "),a("li",[t._v("ä¸å…³æ³¨æ‰§è¡Œæ—¶é—´ï¼Œæ‰§è¡Œé¡ºåºï¼Œå‚æ•°ï¼Œå‘½åç­‰ï¼Œèƒ½ä¸“æ³¨äºæ•°æ®çš„æµåŠ¨ä¸å¤„ç†ï¼Œèƒ½æœ‰æ•ˆæé«˜ç¨³å®šæ€§ä¸å¥å£®æ€§ï¼›")]),t._v(" "),a("li",[t._v("è¿½æ±‚å•å…ƒåŒ–ï¼Œç²’åº¦åŒ–ï¼Œä½¿å…¶é‡æ„å’Œæ”¹é€ æˆæœ¬é™ä½ï¼Œå¯ç»´æŠ¤ã€å¯æ‹“å±•æ€§è¾ƒå¥½ï¼›")]),t._v(" "),a("li",[t._v("æ›´æ˜“äºåšå•å…ƒæµ‹è¯•ã€‚")])])])]),t._v(" "),a("h2",{attrs:{id:"hybrid"}},[t._v("Hybrid")]),t._v(" "),a("h2",{attrs:{id:"_1-æ··åˆæ–¹æ¡ˆç®€æ"}},[t._v("ğŸ 1.æ··åˆæ–¹æ¡ˆç®€æ")]),t._v(" "),a("p",[t._v("Hybrid App,ä¿—ç§°æ··åˆåº”ç”¨ï¼Œå³æ··åˆäº†NativeæŠ€æœ¯ä¸WebæŠ€æœ¯è¿›è¡Œå¼€å‘çš„ç§»åŠ¨åº”ç”¨ã€‚ç°åœ¨æ¯”è¾ƒæµè¡Œçš„æ··åˆæ–¹æ¡ˆä¸»è¦æœ‰ä¸‰ç§ï¼Œä¸»è¦æ˜¯åœ¨UIæ¸²æŸ“æœºåˆ¶ä¸Šçš„ä¸åŒï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Webview UIï¼š\n"),a("ul",[a("li",[t._v("é€šè¿‡JSBridgeå®ŒæˆH5ä¸Nativeçš„åŒå‘é€šè®¯ï¼Œå¹¶åŸºäºWebviewè¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›")]),t._v(" "),a("li",[t._v("ä¼˜åŠ¿ï¼šç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›")]),t._v(" "),a("li",[t._v("åŠ£åŠ¿ï¼šWebviewæ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›")])])]),t._v(" "),a("li",[t._v("Native UIï¼š\n"),a("ul",[a("li",[t._v("é€šè¿‡JSBridgeèµ‹äºˆH5åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†JSç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘ï¼ˆVirtual DOMï¼‰ä¼ é€’è‡³Nativeå±‚ï¼Œå¹¶ä½¿ç”¨åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚")]),t._v(" "),a("li",[t._v("ä¼˜åŠ¿ï¼šç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥webæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§")]),t._v(" "),a("li",[t._v("åŠ£åŠ¿ï¼šä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›")])])]),t._v(" "),a("li",[t._v("å°ç¨‹åº\n"),a("ul",[a("li",[t._v("é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„JSBridgeï¼Œèµ‹äºˆäº†webæ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒwebViewåŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†JSé€»è¾‘ä¸UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†H5ä¸Nativeæ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›")]),t._v(" "),a("li",[t._v("ä¼˜åŠ¿ï¼šç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„webviewæ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›")]),t._v(" "),a("li",[t._v("éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š")])])])]),t._v(" "),a("h2",{attrs:{id:"_2-webview"}},[t._v("ğŸ 2.Webview")]),t._v(" "),a("p",[t._v("Webview æ˜¯ Native App ä¸­å†…ç½®çš„ä¸€æ¬¾åŸºäº Webkitå†…æ ¸ çš„æµè§ˆå™¨ï¼Œä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆ:")]),t._v(" "),a("ul",[a("li",[t._v("WebCoreæ’ç‰ˆå¼•æ“")]),t._v(" "),a("li",[t._v("JSCoreè§£æå¼•æ“\nåœ¨åŸç”Ÿå¼€å‘ SDK ä¸­ Webview è¢«å°è£…æˆäº†ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºä½œä¸º Webé¡µé¢ çš„å®¹å™¨ã€‚å› æ­¤ï¼Œä½œä¸ºå®¿ä¸»çš„å®¢æˆ·ç«¯ä¸­æ‹¥æœ‰æ›´é«˜çš„æƒé™ï¼Œå¯ä»¥å¯¹ Webview ä¸­çš„ Webé¡µé¢ è¿›è¡Œé…ç½®å’Œå¼€å‘ã€‚HybridæŠ€æœ¯ä¸­åŒç«¯çš„äº¤äº’åŸç†ï¼Œä¾¿æ˜¯åŸºäº Webview çš„ä¸€äº› API å’Œç‰¹æ€§ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"_3-äº¤äº’åŸç†"}},[t._v("ğŸ 3.äº¤äº’åŸç†")]),t._v(" "),a("p",[t._v("HybridæŠ€æœ¯ä¸­æœ€æ ¸å¿ƒçš„ç‚¹å°±æ˜¯Nativeç«¯ä¸H5ç«¯ä¹‹é—´çš„åŒå‘é€šè®¯å±‚ï¼Œå…¶å®è¿™é‡Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬éœ€è¦ä¸€å¥—è·¨è¯­è¨€é€šè®¯æ–¹æ¡ˆï¼Œä¾¿æ˜¯æˆ‘ä»¬å¸¸å¬åˆ°çš„JSBridgeã€‚")]),t._v(" "),a("ul",[a("li",[t._v("JavaScripté€šçŸ¥Native\n"),a("ul",[a("li",[t._v("APIæ³¨å…¥ï¼ŒNativeç›´æ¥åœ¨JSä¸Šä¸‹æ–‡ä¸­æŒ‚è½½æ•°æ®æˆ–è€…æ–¹æ³•\n"),a("ul",[a("li",[t._v("å»¶è¿Ÿè¾ƒä½ï¼Œåœ¨å®‰å“4.1ä»¥ä¸‹å…·æœ‰å®‰å…¨æ€§é—®é¢˜ï¼Œé£é™©è¾ƒé«˜")])])]),t._v(" "),a("li",[t._v("WebView URL Schemeè·³è½¬æ‹¦æˆª\n"),a("ul",[a("li",[t._v("å…¼å®¹æ€§å¥½ï¼Œä½†å»¶è¿Ÿè¾ƒé«˜ï¼Œä¸”æœ‰é•¿åº¦é™åˆ¶")])])]),t._v(" "),a("li",[t._v("WebViewä¸­çš„prompt/console/alertæ‹¦æˆªï¼ˆé€šå¸¸ä½¿ç”¨promptï¼‰")])])]),t._v(" "),a("li",[t._v("Nativeé€šçŸ¥Javascriptï¼š\n"),a("ul",[a("li",[t._v("IOSï¼šstringByEvaluatingJavaScriptFromString")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("webview"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringByEvaluatingJavaScriptFromString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alert(\"NativeCall\")'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("Android: loadUrl(4.4-)")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒç”¨jsä¸­JSBridge.triggeræ–¹æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯¥æ–¹æ³•çš„å¼Šç«¯æ˜¯æ— æ³•è·å–å‡½æ•°è¿”å›å€¼")]),t._v("\nwebView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"javascript:JSBridge.trigger('NativeCall')\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("Android: evaluateJavascript(4.4+)")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4.4+åä½¿ç”¨è¯¥æ–¹æ³•ä¾¿å¯è°ƒç”¨å¹¶è·å–å‡½æ•°è¿”å›å€¼ï¼›")]),t._v("\nmWebView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluateJavascript")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"javascript:JSBridge.trigger('NativeCall')\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ValueCallback")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("String"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @Override\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onReceiveValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("String value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¤å¤„ä¸º js çš„è¿”å›çš„ç»“æœ")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"_4-æ¥å…¥æ–¹æ¡ˆ"}},[t._v("ğŸ 4.æ¥å…¥æ–¹æ¡ˆ")]),t._v(" "),a("p",[t._v("æ•´å¥—æ–¹æ¡ˆéœ€è¦Webä¸Nativeä¸¤éƒ¨åˆ†å…±åŒå®Œæˆï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Nativeï¼š è´Ÿè´£å®ç°URLæ‹¦æˆªä¸è§£æã€ç¯å¢ƒä¿¡æ¯çš„æ³¨å…¥ã€æ‹“å±•åŠŸèƒ½çš„æ˜ å°„ã€ç‰ˆæœ¬æ›´æ–°ç­‰åŠŸèƒ½ï¼›")]),t._v(" "),a("li",[t._v("JavaScript: è´Ÿè´£å®ç°åŠŸèƒ½åè®®çš„æ‹¼æ¥ã€åè®®çš„å‘é€ã€å‚æ•°çš„ä¼ é€’ã€å›è°ƒç­‰ä¸€ç³»åˆ—åŸºç¡€åŠŸèƒ½ã€‚\næ¥å…¥æ–¹å¼ï¼š")]),t._v(" "),a("li",[t._v("åœ¨çº¿H5ï¼šç›´æ¥å°†é¡¹ç›®éƒ¨ç½²äºæœåŠ¡å™¨ï¼Œå¹¶ç”±å®¢æˆ·ç«¯åœ¨HTMLå¤´éƒ¨æ³¨å…¥å¯¹åº”çš„Bridgeã€‚\n"),a("ul",[a("li",[t._v("ä¼˜åŠ¿ï¼šæ¥å…¥/å¼€å‘æˆæœ¬ä½ï¼Œå¯¹äºAppçš„ä¾µå…¥å°ï¼›")]),t._v(" "),a("li",[t._v("åŠ£åŠ¿ï¼šé‡åº¦ä¾èµ–ç½‘ç»œï¼Œæ— æ³•ç¦»çº¿ä½¿ç”¨ï¼Œé¦–å±åŠ è½½æ…¢ï¼›")])])]),t._v(" "),a("li",[t._v("å†…ç½®ç¦»çº¿åŒ…ï¼šå°†ä»£ç ç›´æ¥å†…ç½®äºAppä¸­ï¼Œå³æœ¬åœ°å­˜å‚¨ä¸­ï¼Œå¯ç”±H5æˆ–è€…å®¢æˆ·ç«¯å¼•ç”¨Bridgeã€‚\n"),a("ul",[a("li",[t._v("ä¼˜åŠ¿ï¼šé¦–å±åŠ è½½å¿«ï¼Œå¯ç¦»çº¿åŒ–ä½¿ç”¨ï¼›")]),t._v(" "),a("li",[t._v("åŠ£åŠ¿ï¼šå¼€å‘ã€è°ƒè¯•æˆæœ¬å˜é«˜ï¼Œéœ€è¦å¤šç«¯åˆä½œï¼Œä¸”ä¼šå¢åŠ AppåŒ…ä½“ç§¯")])])])]),t._v(" "),a("h2",{attrs:{id:"_5-ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°"}},[t._v("ğŸ 5.ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°")]),t._v(" "),a("ul",[a("li",[t._v("Webviewé¢„åŠ è½½ï¼šWebviewçš„åˆå§‹åŒ–å…¶å®æŒºè€—æ—¶çš„ã€‚æˆ‘ä»¬æµ‹è¯•è¿‡ï¼Œå¤§æ¦‚åœ¨100ï½200msä¹‹é—´ï¼Œå› æ­¤å¦‚æœèƒ½å‰ç½®åšå¥½åˆå§‹åŒ–äºå†…å­˜ä¸­ï¼Œä¼šå¤§å¤§åŠ å¿«æ¸²æŸ“é€Ÿåº¦ã€‚")]),t._v(" "),a("li",[t._v("æ›´æ–°æœºåˆ¶ï¼šä½¿ç”¨ç¦»çº¿åŒ…çš„æ—¶å€™ï¼Œä¾¿ä¼šæ¶‰åŠåˆ°æœ¬åœ°ç¦»çº¿ä»£ç çš„æ›´æ–°é—®é¢˜ï¼Œå› æ­¤éœ€è¦å»ºç«‹ä¸€å¥—äº‘ç«¯ä¸‹å‘åŒ…çš„æœºåˆ¶ï¼Œç”±å®¢æˆ·ç«¯ä¸‹è½½äº‘ç«¯æœ€æ–°ä»£ç åŒ…ï¼ˆzipåŒ…ï¼‰ï¼Œå¹¶è§£å‹æ›¿æ¢æœ¬åœ°ä»£ç ã€‚\n"),a("ul",[a("li",[t._v("å¢é‡æ›´æ–°ï¼šç”±äºä¸‹å‘åŒ…æ˜¯ä¸€ä¸ªä¸‹è½½çš„è¿‡ç¨‹ï¼Œå› æ­¤åŒ…çš„ä½“ç§¯è¶Šå°ï¼Œä¸‹è½½é€Ÿåº¦è¶Šå¿«ï¼Œæµé‡æŸè€—è¶Šä½ã€‚åªæ‰“åŒ…æ”¹å˜çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸‹è½½åè¦†ç›–å¼æ›¿æ¢ï¼Œèƒ½å¤§å¤§å‡å°æ¯æ¬¡æ›´æ–°åŒ…çš„ä½“ç§¯ã€‚")]),t._v(" "),a("li",[t._v("æ¡ä»¶åˆ†å‘ï¼šäº‘å¹³å°ä¸‹å‘æ›´æ–°åŒ…æ—¶ï¼Œå¯ä»¥é…åˆå®¢æˆ·ç«¯è®¾ç½®ä¸€ç³»åˆ—çš„æ¡ä»¶ä¸è§„åˆ™ï¼Œä»è€Œå®ç°ä»£ç çš„æ¡ä»¶æ›´æ–°ï¼š\n"),a("ul",[a("li",[t._v("å•åœ°åŒºæ›´æ–°ï¼šä¾‹å¦‚ä¸€ä¸ªåªæœ‰ä¸­å›½åœ°åŒºæ‰èƒ½æ›´æ–°çš„ç‰ˆæœ¬ï¼›")]),t._v(" "),a("li",[t._v("æŒ‰è¯­è¨€æ›´æ–°ï¼šä¾‹å¦‚åªæœ‰ä¸­æ–‡ç‰ˆæœ¬ä¼šæ›´æ–°ï¼›")]),t._v(" "),a("li",[t._v("æŒ‰Appç‰ˆæœ¬æ›´æ–°ï¼šä¾‹å¦‚åªæœ‰æœ€æ–°ç‰ˆæœ¬çš„Appæ‰ä¼šæ›´æ–°ï¼›")]),t._v(" "),a("li",[t._v("ç°åº¦æ›´æ–°ï¼šåªæœ‰å°æ¯”ä¾‹ç”¨æˆ·ä¼šæ›´æ–°ï¼›")]),t._v(" "),a("li",[t._v("ABæµ‹è¯•ï¼šåªæœ‰å‘½ä¸­çš„ç”¨æˆ·ä¼šæ›´æ–°ï¼›")])])])])]),t._v(" "),a("li",[t._v("é™çº§æœºåˆ¶ï¼šå½“ç”¨æˆ·ä¸‹è½½æˆ–è§£å‹ä»£ç åŒ…å¤±è´¥æ—¶ï¼Œéœ€è¦æœ‰å¥—é™çº§æ–¹æ¡ˆï¼Œé€šå¸¸æœ‰ä¸¤ç§åšæ³•ï¼š\n"),a("ul",[a("li",[t._v("æœ¬åœ°å†…ç½®ï¼šéšç€Appæ‰“åŒ…æ—¶å†…ç½®ä¸€ä»½çº¿ä¸Šæœ€æ–°å®Œæ•´ä»£ç åŒ…ï¼Œä¿è¯æœ¬åœ°ä»£ç æ–‡ä»¶çš„å­˜åœ¨ï¼Œèµ„æºåŠ è½½å‡ä½¿ç”¨æœ¬åœ°åŒ–è·¯å¾„ï¼›")]),t._v(" "),a("li",[t._v("åŸŸåæ‹¦æˆªï¼šèµ„æºåŠ è½½ä½¿ç”¨çº¿ä¸ŠåŸŸåï¼Œé€šè¿‡æ‹¦æˆªåŸŸåæ˜ å°„åˆ°æœ¬åœ°è·¯å¾„ã€‚å½“æœ¬åœ°ä¸å­˜åœ¨æ—¶ï¼Œåˆ™è¯·æ±‚çº¿ä¸Šæ–‡ä»¶ï¼Œå½“å­˜åœ¨æ—¶ï¼Œç›´æ¥åŠ è½½ï¼›")]),t._v(" "),a("li",[t._v("è·¨å¹³å°éƒ¨ç½²ï¼šBridgeå±‚å¯ä»¥åšä¸€å¥—æµè§ˆå™¨é€‚é…ï¼Œåœ¨ä¸€äº›æ— æ³•é€‚é…çš„åŠŸèƒ½ï¼Œåšå¥½é™çº§å¤„ç†ï¼Œä»è€Œä¿è¯ä»£ç åœ¨ä»»ä½•ç¯å¢ƒçš„å¯ç”¨æ€§ï¼Œä¸€å¥—ä»£ç å¯åŒæ—¶è¿è¡ŒäºAppå†…ä¸æ™®é€šæµè§ˆå™¨ï¼›")]),t._v(" "),a("li",[t._v("ç¯å¢ƒç³»ç»Ÿï¼šä¸å®¢æˆ·ç«¯è¿›è¡Œç»Ÿä¸€é…åˆï¼Œæ­å»ºå‡ºæ­£å¼/é¢„ä¸Šçº¿/æµ‹è¯•/å¼€å‘ç¯å¢ƒï¼Œèƒ½å¤§å¤§æé«˜é¡¹ç›®ç¨³å®šæ€§ä¸é—®é¢˜æ’æŸ¥ï¼›")]),t._v(" "),a("li",[t._v("å¼€å‘æ¨¡å¼ï¼š\n"),a("ul",[a("li",[t._v("èƒ½é“¾æ¥PC Chrome/safariè¿›è¡Œä»£ç è°ƒè¯•ï¼›")]),t._v(" "),a("li",[t._v("å…·æœ‰å¼€å‘è°ƒè¯•å…¥å£ï¼Œå¯ä»¥ä½¿ç”¨åŒæ ·çš„WebviewåŠ è½½å¼€å‘æ—¶çš„æœ¬åœ°ä»£ç ï¼›")]),t._v(" "),a("li",[t._v("å…·å¤‡æ—¥å¿—ç³»ç»Ÿï¼Œå¯ä»¥æŸ¥çœ‹Logä¿¡æ¯ï¼›")])])])])])]),t._v(" "),a("p",[t._v("è¯¦ç»†å†…å®¹æœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥çœ‹æ–‡ç« ï¼š")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/xd-tayde/blog/blob/master/hybrid-1.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hybrid AppæŠ€æœ¯è§£æ -- åŸç†ç¯‡"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/xd-tayde/blog/blob/master/hybrid-2.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hybrid AppæŠ€æœ¯è§£æ -- å®æˆ˜ç¯‡"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"webpack"}},[t._v("Webpack")]),t._v(" "),a("h3",{attrs:{id:"_1-åŸç†ç®€è¿°"}},[t._v("ğŸ 1.åŸç†ç®€è¿°")]),t._v(" "),a("ul",[a("li",[t._v("æ ¸å¿ƒæ¦‚å¿µ\n"),a("ul",[a("li",[t._v("JavaScript çš„ æ¨¡å—æ‰“åŒ…å·¥å…· (module bundler)ã€‚é€šè¿‡åˆ†ææ¨¡å—ä¹‹é—´çš„ä¾èµ–ï¼Œæœ€ç»ˆå°†æ‰€æœ‰æ¨¡å—æ‰“åŒ…æˆä¸€ä»½æˆ–è€…å¤šä»½ä»£ç åŒ… (bundler)ï¼Œä¾› HTML ç›´æ¥å¼•ç”¨ã€‚å®è´¨ä¸Šï¼ŒWebpack ä»…ä»…æä¾›äº† æ‰“åŒ…åŠŸèƒ½ å’Œä¸€å¥— æ–‡ä»¶å¤„ç†æœºåˆ¶ï¼Œç„¶åé€šè¿‡ç”Ÿæ€ä¸­çš„å„ç§ Loader å’Œ Plugin å¯¹ä»£ç è¿›è¡Œé¢„ç¼–è¯‘å’Œæ‰“åŒ…ã€‚å› æ­¤ Webpack å…·æœ‰é«˜åº¦çš„å¯æ‹“å±•æ€§ï¼Œèƒ½æ›´å¥½çš„å‘æŒ¥ç¤¾åŒºç”Ÿæ€çš„åŠ›é‡ã€‚\n"),a("ul",[a("li",[t._v("Entry: å…¥å£æ–‡ä»¶ï¼ŒWebpack ä¼šä»è¯¥æ–‡ä»¶å¼€å§‹è¿›è¡Œåˆ†æä¸ç¼–è¯‘ï¼›")]),t._v(" "),a("li",[t._v("Output: å‡ºå£è·¯å¾„ï¼Œæ‰“åŒ…ååˆ›å»º bundler çš„æ–‡ä»¶è·¯å¾„ä»¥åŠæ–‡ä»¶åï¼›")]),t._v(" "),a("li",[t._v("Module: æ¨¡å—ï¼Œåœ¨ Webpack ä¸­ä»»ä½•æ–‡ä»¶éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œä¼šæ ¹æ®é…ç½®çš„ä¸åŒçš„ + Loader è¿›è¡ŒåŠ è½½å’Œæ‰“åŒ…ï¼›")]),t._v(" "),a("li",[t._v("Chunk: ä»£ç å—ï¼Œå¯ä»¥æ ¹æ®é…ç½®ï¼Œå°†æ‰€æœ‰æ¨¡å—ä»£ç åˆå¹¶æˆä¸€ä¸ªæˆ–å¤šä¸ªä»£ç å—ï¼Œä»¥ä¾¿æŒ‰éœ€åŠ è½½ï¼Œæ+ é«˜æ€§èƒ½ï¼›")]),t._v(" "),a("li",[t._v("Loader: æ¨¡å—åŠ è½½å™¨ï¼Œè¿›è¡Œå„ç§æ–‡ä»¶ç±»å‹çš„åŠ è½½ä¸è½¬æ¢ï¼›")]),t._v(" "),a("li",[t._v("Plugin: æ‹“å±•æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡ Webpack ç›¸åº”çš„äº‹ä»¶é’©å­ï¼Œä»‹å…¥åˆ°æ‰“åŒ…è¿‡ç¨‹ä¸­çš„ä»»æ„ç¯èŠ‚ï¼Œä»+ è€Œå¯¹ä»£ç æŒ‰éœ€ä¿®æ”¹ï¼›")])])])])]),t._v(" "),a("li",[t._v("å·¥ä½œæµç¨‹ (åŠ è½½ - ç¼–è¯‘ - è¾“å‡º)\n"),a("ul",[a("li",[t._v("1ã€è¯»å–é…ç½®æ–‡ä»¶ï¼ŒæŒ‰å‘½ä»¤ åˆå§‹åŒ– é…ç½®å‚æ•°ï¼Œåˆ›å»º Compiler å¯¹è±¡ï¼›")]),t._v(" "),a("li",[t._v("2ã€è°ƒç”¨æ’ä»¶çš„ apply æ–¹æ³• æŒ‚è½½æ’ä»¶ ç›‘å¬ï¼Œç„¶åä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡Œç¼–è¯‘ï¼›")]),t._v(" "),a("li",[t._v("3ã€æŒ‰æ–‡ä»¶ç±»å‹ï¼Œè°ƒç”¨ç›¸åº”çš„ Loader å¯¹æ¨¡å—è¿›è¡Œ ç¼–è¯‘ï¼Œå¹¶åœ¨åˆé€‚çš„æ—¶æœºç‚¹è§¦å‘å¯¹åº”çš„äº‹ä»¶ï¼Œè°ƒç”¨ Plugin æ‰§è¡Œï¼Œæœ€åå†æ ¹æ®æ¨¡å— ä¾èµ–æŸ¥æ‰¾ åˆ°æ‰€ä¾èµ–çš„æ¨¡å—ï¼Œé€’å½’æ‰§è¡Œç¬¬ä¸‰æ­¥ï¼›")]),t._v(" "),a("li",[t._v("4ã€å°†ç¼–è¯‘åçš„æ‰€æœ‰ä»£ç åŒ…è£…æˆä¸€ä¸ªä¸ªä»£ç å— (Chuck)ï¼Œ å¹¶æŒ‰ä¾èµ–å’Œé…ç½®ç¡®å®š è¾“å‡ºå†…å®¹ã€‚è¿™ä¸ªæ­¥éª¤ï¼Œä»ç„¶å¯ä»¥é€šè¿‡ Plugin è¿›è¡Œæ–‡ä»¶çš„ä¿®æ”¹;")]),t._v(" "),a("li",[t._v("5ã€æœ€åï¼Œæ ¹æ® Output æŠŠæ–‡ä»¶å†…å®¹ä¸€ä¸€å†™å…¥åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­ï¼Œå®Œæˆæ•´ä¸ªè¿‡ç¨‹ï¼›")])])]),t._v(" "),a("li",[t._v("æ¨¡å—åŒ…è£…")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("modules")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡æ‹Ÿrequireå‡½æ•°ï¼Œä»å†…å­˜ä¸­åŠ è½½æ¨¡å—ï¼›")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__webpack_require__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("moduleId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼“å­˜æ¨¡å—")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("installedModules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("moduleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" installedModules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("moduleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" module "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" installedModules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("moduleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" moduleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      l"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œä»£ç ï¼›")]),t._v("\n    modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("moduleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("__webpack_require__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Flagï¼šæ ‡è®°æ˜¯å¦åŠ è½½å®Œæˆï¼›")]),t._v("\n    module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("l "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å§‹æ‰§è¡ŒåŠ è½½å…¥å£æ–‡ä»¶ï¼›")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__webpack_require__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__webpack_require__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("__webpack_exports__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("__webpack_require__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨evalæ‰§è¡Œç¼–è¯‘åçš„ä»£ç ï¼›")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»§ç»­é€’å½’å¼•ç”¨æ¨¡å—å†…éƒ¨ä¾èµ–ï¼›")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®é™…æƒ…å†µå¹¶ä¸æ˜¯ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œè¿™é‡Œæ˜¯ä¸ºäº†ä»£ç çš„å¯è¯»æ€§ï¼›")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("eval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n      __webpack_require__.r(__webpack_exports__);\n      // \n      var _test__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("test","./src/test.js")\n    ')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/test.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("__webpack_exports__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("__webpack_requrie__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("æ€»ç»“ï¼š\n"),a("ul",[a("li",[t._v("æ¨¡å—æœºåˆ¶ï¼šwebpackè‡ªå·±å®ç°äº†ä¸€å¥—æ¨¡æ‹Ÿæ¨¡å—çš„æœºåˆ¶ï¼Œå°†å…¶åŒ…è£¹äºä¸šåŠ¡ä»£ç çš„å¤–éƒ¨ï¼Œä»è€Œæä¾›äº†ä¸€å¥—æ¨¡å—æœºåˆ¶ï¼›")]),t._v(" "),a("li",[t._v("æ–‡ä»¶ç¼–è¯‘ï¼šwebpackè§„å®šäº†ä¸€å¥—ç¼–è¯‘è§„åˆ™ï¼Œé€šè¿‡Loaderå’ŒPluginï¼Œä»¥ç®¡é“çš„å½¢å¼å¯¹æ–‡ä»¶å­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ï¼›")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-loader"}},[t._v("ğŸ 2.Loader")]),t._v(" "),a("p",[t._v("ç”±äºwebpackæ˜¯åŸºäºNodeï¼Œå› æ­¤webpackå…¶å®æ˜¯åªèƒ½è¯†åˆ«jsæ¨¡å—ï¼Œæ¯”å¦‚css/html/å›¾ç‰‡ç­‰ç±»å‹çš„æ–‡ä»¶å¹¶æ— æ³•åŠ è½½ï¼Œå› æ­¤å°±éœ€è¦ä¸€ä¸ªå¯¹ä¸åŒæ ¼å¼æ–‡ä»¶è½¬æ¢å™¨ã€‚å…¶å®Loaderåšçš„äº‹ï¼Œä¹Ÿå¹¶ä¸éš¾ç†è§£ï¼šå¯¹webpackä¼ å…¥çš„å­—ç¬¦ä¸²è¿›è¡ŒæŒ‰éœ€ä¿®æ”¹ã€‚ä¾‹å¦‚ä¸€ä¸ªæœ€ç®€å•çš„Loaderï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// html-loader/index.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("htmlSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å›å¤„ç†åçš„ä»£ç å­—ç¬¦ä¸²")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤htmlæ–‡ä»¶ä¸­çš„æ‰€æœ‰æ³¨é‡Š")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" htmlSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\x3c!--[\\w\\W]*?--\x3e/g")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å½“ç„¶ï¼Œå®é™…çš„Loaderä¸ä¼šè¿™ä¹ˆç®€å•ï¼Œé€šå¸¸æ˜¯éœ€è¦å°†ä»£ç è¿›è¡Œåˆ†æï¼Œæ„å»ºASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ï¼Œéå†è¿›è¡Œå®šå‘çš„ä¿®æ”¹åï¼Œå†é‡æ–°ç”Ÿæˆæ–°çš„ä»£ç å­—ç¬¦ä¸²ã€‚å¦‚æˆ‘ä»¬å¸¸ç”¨çš„Babel-loaderä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("babylonå°†ES6/ES7ä»£ç è§£ææˆAST")]),t._v(" "),a("li",[t._v("babel-traverseå¯¹ASTè¿›è¡Œéå†è½¬è¯‘ï¼Œå¾—åˆ°æ–°çš„AST")]),t._v(" "),a("li",[t._v("æ–°ASTé€šè¿‡babel-generatorè½¬æ¢æˆES5")])]),t._v(" "),a("h4",{attrs:{id:"loaderç‰¹æ€§ï¼š"}},[t._v("Loaderç‰¹æ€§ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("é“¾å¼ä¼ é€’ï¼ŒæŒ‰ç…§é…ç½®æ—¶ç›¸åçš„é¡ºåºé“¾å¼æ‰§è¡Œï¼›")]),t._v(" "),a("li",[t._v("åŸºäºNodeç¯å¢ƒï¼Œæ‹¥æœ‰è¾ƒé«˜æƒé™ï¼Œæ¯”å¦‚æ–‡ä»¶çš„å¢åˆ æŸ¥æ”¹ï¼›")]),t._v(" "),a("li",[t._v("å¯åŒæ­¥ä¹Ÿå¯å¼‚æ­¥ï¼›")])]),t._v(" "),a("h4",{attrs:{id:"å¸¸ç”¨loaderï¼š"}},[t._v("å¸¸ç”¨Loaderï¼š")]),t._v(" "),a("ul",[a("li",[t._v("file-loaderï¼šåŠ è½½æ–‡ä»¶èµ„æºï¼Œå¦‚å­—ä½“ã€å›¾ç‰‡ç­‰ï¼Œå…·æœ‰ç§»åŠ¨ã€å¤åˆ¶ã€å‘½åç­‰åŠŸèƒ½ï¼›")]),t._v(" "),a("li",[t._v("url-loaderï¼šé€šå¸¸ç”¨äºåŠ è½½å›¾ç‰‡ï¼Œå¯ä»¥å°†å°å›¾ç‰‡ç›´æ¥è½¬æ¢ä¸ºDate Urlï¼Œå‡å°‘è¯·æ±‚ï¼›")]),t._v(" "),a("li",[t._v("babel-loaderï¼šåŠ è½½jsã€jsxæ–‡ä»¶ï¼Œå°†ES6ã€ES7ä»£ç è½¬æ¢æˆES5ï¼ŒæŠ¹å¹³å…¼å®¹æ€§é—®é¢˜ï¼›")]),t._v(" "),a("li",[t._v("ts-loaderï¼šåŠ è½½tsã€tsxæ–‡ä»¶ï¼Œç¼–è¯‘TypeScriptï¼›")]),t._v(" "),a("li",[t._v("style-loaderï¼šå°†cssä»£ç ä»¥"),a("code",[t._v("<style>")]),t._v("æ ‡ç­¾çš„å½¢å¼æ’å…¥åˆ°htmlä¸­ï¼›")]),t._v(" "),a("li",[t._v("css-loaderï¼šåˆ†æ"),a("code",[t._v("@import")]),t._v("å’Œ"),a("code",[t._v("url()")]),t._v("ï¼Œå¼•ç”¨cssæ–‡ä»¶ä¸å¯¹åº”çš„èµ„æºï¼›")]),t._v(" "),a("li",[t._v("postcss-loaderï¼šç”¨äºcssçš„å…¼å®¹æ€§å¤„ç†ï¼Œå…·æœ‰ä¼—å¤šåŠŸèƒ½ï¼Œä¾‹å¦‚æ·»åŠ å‰ç¼€ï¼Œå•ä½è½¬æ¢ç­‰ï¼›")]),t._v(" "),a("li",[t._v("less-loader/sass-loader: cssé¢„å¤„ç†å™¨ï¼Œåœ¨cssä¸­æ–°å¢äº†è®¸å¤šè¯­æ³•ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ï¼›")])]),t._v(" "),a("h4",{attrs:{id:"ç¼–å†™åŸåˆ™ï¼š"}},[t._v("ç¼–å†™åŸåˆ™ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å•ä¸€åŸåˆ™ï¼šæ¯ä¸ªLoaderåªåšä¸€ä»¶äº‹ï¼›")]),t._v(" "),a("li",[t._v("é“¾å¼è°ƒç”¨ï¼šwebpackä¼šæŒ‰é¡ºåºé“¾å¼è°ƒç”¨æ¯ä¸ªLoaderï¼›")]),t._v(" "),a("li",[t._v("ç»Ÿä¸€åŸåˆ™ï¼šéµå¾ªwebpackåˆ¶å®šçš„è®¾è®¡è§„åˆ™å’Œç»“æ„ï¼Œè¾“å…¥ä¸è¾“å‡ºå‡ä¸ºå­—ç¬¦ä¸²ï¼Œå„ä¸ªLoaderå®Œå…¨ç‹¬ç«‹ï¼Œå³æ’å³ç”¨ï¼›")])]),t._v(" "),a("h3",{attrs:{id:"_3-plugin"}},[t._v("ğŸ 3.Plugin")]),t._v(" "),a("p",[t._v("æ’ä»¶ç³»ç»Ÿæ˜¯webpackæˆåŠŸçš„ä¸€ä¸ªå…³é”®æ€§å› ç´ ã€‚åœ¨ç¼–è¯‘çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼Œwebpackä¼šè§¦å‘è®¸å¤šäº‹ä»¶é’©å­ï¼ŒPluginå¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œæ ¹æ®éœ€æ±‚åœ¨ç›¸åº”çš„æ—¶é—´ç‚¹å¯¹æ‰“åŒ…å†…å®¹è¿›è¡Œå®šå‘çš„ä¿®æ”¹ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("ä¸€ä¸ªæœ€ç®€å•çš„pluginæ˜¯è¿™æ ·çš„ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ³¨å†Œæ’ä»¶æ—¶ï¼Œä¼šè°ƒç”¨applyæ–¹æ³•")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// applyæ–¹æ³•æ¥æ”¶compileå¯¹è±¡")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šè¿‡compilerä¸Šæä¾›çš„Apiï¼Œå¯ä»¥å¯¹äº‹ä»¶è¿›è¡Œç›‘å¬ï¼Œæ‰§è¡Œç›¸åº”çš„æ“ä½œ")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("compiler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compiler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'compilation'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("compilation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("æ³¨å†Œæ’ä»¶ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("export "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("äº‹ä»¶æµæœºåˆ¶ï¼š\nwebpackå°±åƒå·¥å‚ä¸­çš„ä¸€æ¡äº§å“æµæ°´çº¿ã€‚åŸææ–™ç»è¿‡Loaderä¸Pluginçš„ä¸€é“é“å¤„ç†ï¼Œæœ€åè¾“å‡ºç»“æœã€‚")]),t._v(" "),a("li",[t._v("é€šè¿‡é“¾å¼è°ƒç”¨ï¼ŒæŒ‰é¡ºåºä¸²èµ·ä¸€ä¸ªä¸ªLoaderï¼›")]),t._v(" "),a("li",[t._v("é€šè¿‡äº‹ä»¶æµæœºåˆ¶ï¼Œè®©Pluginå¯ä»¥æ’å…¥åˆ°æ•´ä¸ªç”Ÿäº§è¿‡ç¨‹ä¸­çš„æ¯ä¸ªæ­¥éª¤ä¸­ï¼›\nwebpackäº‹ä»¶æµç¼–ç¨‹èŒƒå¼çš„æ ¸å¿ƒæ˜¯åŸºç¡€ç±»Tapableï¼Œæ˜¯ä¸€ç§è§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°äº‹ä»¶çš„è®¢é˜…ä¸å¹¿æ’­ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SyncHook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'tapable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hook "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SyncHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¢é˜…")]),t._v("\nhook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'event'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'event-hook'")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¹¿æ’­")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'event-hook'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("webpackä¸­ä¸¤ä¸ªæœ€é‡è¦çš„ç±»Compilerä¸Compilationä¾¿æ˜¯ç»§æ‰¿äºTapableï¼Œä¹Ÿæ‹¥æœ‰è¿™æ ·çš„äº‹ä»¶æµæœºåˆ¶ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("Compiler: å¯ä»¥ç®€å•çš„ç†è§£ä¸ºwebpackå®ä¾‹ï¼Œå®ƒåŒ…å«äº†å½“å‰webpackä¸­çš„æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼Œå¦‚optionsï¼Œloadersï¼Œpluginsç­‰ä¿¡æ¯ï¼Œå…¨å±€å”¯ä¸€ï¼Œåªåœ¨å¯åŠ¨æ—¶å®Œæˆåˆå§‹åŒ–åˆ›å»ºï¼Œéšç€ç”Ÿå‘½å‘¨æœŸé€ä¸€ä¼ é€’ï¼›")]),t._v(" "),a("li",[t._v("Compilationï¼šå¯ä»¥ç§°ä¸ºç¼–è¯‘å®ä¾‹ã€‚å½“ç›‘å¬åˆ°æ–‡ä»¶å‘ç”Ÿæ”¹å˜æ—¶ï¼Œwebpackä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Compilationå¯¹è±¡ï¼Œå¼€å§‹ä¸€æ¬¡æ–°çš„ç¼–è¯‘ã€‚å®ƒåŒ…å«äº†å½“å‰çš„è¾“å…¥èµ„æºï¼Œè¾“å‡ºèµ„æºï¼Œå˜åŒ–çš„æ–‡ä»¶ç­‰ï¼ŒåŒæ—¶é€šè¿‡å®ƒæä¾›çš„apiï¼Œå¯ä»¥ç›‘å¬æ¯æ¬¡ç¼–è¯‘è¿‡ç¨‹ä¸­è§¦å‘çš„äº‹ä»¶é’©å­")]),t._v(" "),a("li",[t._v("åŒºåˆ«ï¼š\n"),a("ul",[a("li",[t._v("Compilerå…¨å±€å”¯ä¸€ï¼Œä¸”ä»å¯åŠ¨ç”Ÿå­˜åˆ°ç»“æŸï¼›")]),t._v(" "),a("li",[t._v("Compilationå¯¹åº”æ¯æ¬¡ç¼–è¯‘ï¼Œæ¯è½®ç¼–è¯‘å¾ªç¯å‡ä¼šé‡æ–°åˆ›å»ºï¼›")])])]),t._v(" "),a("li",[t._v("å¸¸ç”¨Pluginï¼š\n"),a("ul",[a("li",[t._v("UglifyJsPluginï¼šå‹ç¼©ã€æ··æ·†ä»£ç ï¼›")]),t._v(" "),a("li",[t._v("CommonsChunkPluginï¼šä»£ç åˆ†å‰²ï¼›")]),t._v(" "),a("li",[t._v("ProvidePluginï¼šè‡ªåŠ¨åŠ è½½æ¨¡å—ï¼›")]),t._v(" "),a("li",[t._v("html-webpack-pluginï¼šåŠ è½½htmlæ–‡ä»¶ï¼Œå¹¶å¼•å…¥css/jsæ–‡ä»¶ï¼›")]),t._v(" "),a("li",[t._v("extract-text-webpack-plugin/mini-css-extract-plugin: æŠ½ç¦»æ ·å¼ï¼Œç”Ÿæˆcssæ–‡ä»¶ï¼›")]),t._v(" "),a("li",[t._v("DefinePluginï¼šå®šä¹‰å…¨å±€å˜é‡ï¼›")]),t._v(" "),a("li",[t._v("optimize-css-assets-webpack-pluginï¼šCSSä»£ç å»é‡ï¼›")]),t._v(" "),a("li",[t._v("webpack-bundle-analyzerï¼šä»£ç åˆ†æï¼›")]),t._v(" "),a("li",[t._v("compression-webpack-pluginï¼šä½¿ç”¨gzipå‹ç¼©jså’Œcssï¼›")]),t._v(" "),a("li",[t._v("happypackï¼šä½¿ç”¨å¤šè¿›ç¨‹ï¼ŒåŠ é€Ÿä»£ç æ„å»ºï¼›")]),t._v(" "),a("li",[t._v("EnvironmentPluginï¼šå®šä¹‰ç¯å¢ƒå˜é‡ï¼›")])])])]),t._v(" "),a("h3",{attrs:{id:"_4-ç¼–è¯‘ä¼˜åŒ–"}},[t._v("ğŸ 4.ç¼–è¯‘ä¼˜åŒ–")]),t._v(" "),a("ul",[a("li",[t._v("ä»£ç ä¼˜åŒ–ï¼š\n"),a("ul",[a("li",[t._v("æ— ç”¨ä»£ç æ¶ˆé™¤ï¼Œæ˜¯è®¸å¤šç¼–ç¨‹è¯­è¨€éƒ½å…·æœ‰çš„ä¼˜åŒ–æ‰‹æ®µï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºDCEï¼ˆdead code eliminationï¼‰ï¼Œå³åˆ é™¤ä¸å¯èƒ½æ‰§è¡Œçš„ä»£ç ï¼›\n"),a("ul",[a("li",[t._v("ä¾‹å¦‚æˆ‘ä»¬çš„UglifyJsï¼Œå®ƒå°±ä¼šå¸®æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åˆ é™¤ä¸å¯èƒ½è¢«æ‰§è¡Œçš„ä»£ç ï¼Œä¾‹å¦‚ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸‹é¢ä»£ç ä¾¿å±äº ä¸å¯èƒ½æ‰§è¡Œçš„ä»£ç ï¼›")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šè¿‡UglifyJsï¼ˆWebpack4+ å·²å†…ç½®ï¼‰ä¾¿ä¼šè¿›è¡ŒDCEï¼›")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("æ‘‡æ ‘ä¼˜åŒ–ï¼ˆTree-shakingï¼‰ï¼Œè¿™æ˜¯ä¸€ç§å½¢è±¡æ¯”å–»ã€‚æˆ‘ä»¬æŠŠæ‰“åŒ…åçš„ä»£ç æ¯”å–»æˆä¸€æ£µæ ‘ï¼Œè¿™é‡Œå…¶å®è¡¨ç¤ºçš„å°±æ˜¯ï¼Œé€šè¿‡å·¥å…·â€œæ‘‡â€æˆ‘ä»¬æ‰“åŒ…åçš„jsä»£ç ï¼Œå°†æ²¡æœ‰ä½¿ç”¨åˆ°çš„æ— ç”¨ä»£ç â€œæ‘‡â€ä¸‹æ¥ï¼ˆåˆ é™¤ï¼‰ã€‚å³æ¶ˆé™¤é‚£äº›è¢«å¼•ç”¨äº†ä½†æœªè¢«ä½¿ç”¨çš„æ¨¡å—ä»£ç ã€‚\n"),a("ul",[a("li",[t._v("åŸç†ï¼šç”±äºæ˜¯åœ¨ç¼–è¯‘æ—¶ä¼˜åŒ–ï¼Œå› æ­¤æœ€åŸºæœ¬çš„å‰æå°±æ˜¯è¯­æ³•çš„é™æ€åˆ†æï¼ŒES6çš„æ¨¡å—åŒ–æœºåˆ¶æä¾›äº†è¿™ç§å¯èƒ½æ€§ã€‚ä¸éœ€è¦è¿è¡Œæ—¶ï¼Œä¾¿å¯è¿›è¡Œä»£ç å­—é¢ä¸Šçš„é™æ€åˆ†æï¼Œç¡®å®šç›¸åº”çš„ä¾èµ–å…³ç³»ã€‚")]),t._v(" "),a("li",[t._v("é—®é¢˜ï¼šå…·æœ‰å‰¯ä½œç”¨çš„å‡½æ•°æ— æ³•è¢«tree-shakingã€‚\n"),a("ul",[a("li",[t._v("åœ¨å¼•ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹åº“ï¼Œéœ€è¦å»è§‚å¯Ÿå…¶å¼•å…¥çš„ä»£ç é‡æ˜¯ä¸æ˜¯ç¬¦åˆé¢„æœŸï¼›")]),t._v(" "),a("li",[t._v("å°½é‡å†™çº¯å‡½æ•°ï¼Œå‡å°‘å‡½æ•°çš„å‰¯ä½œç”¨ï¼›")]),t._v(" "),a("li",[t._v("å¯ä½¿ç”¨webpack-deep-scope-pluginï¼Œå¯ä»¥è¿›è¡Œä½œç”¨åŸŸåˆ†æï¼Œå‡å°‘æ­¤ç±»æƒ…å†µçš„å‘ç”Ÿï¼Œä½†ä»éœ€è¦æ³¨æ„ï¼›")])])])])]),t._v(" "),a("li",[t._v("code-splitingï¼šä»£ç åˆ†å‰²æŠ€æœ¯ï¼Œå°†ä»£ç åˆ†å‰²æˆå¤šä»½è¿›è¡Œæ‡’åŠ è½½æˆ–å¼‚æ­¥åŠ è½½ï¼Œé¿å…æ‰“åŒ…æˆä¸€ä»½åå¯¼è‡´ä½“ç§¯è¿‡å¤§ï¼Œå½±å“é¡µé¢çš„é¦–å±åŠ è½½ï¼›\n"),a("ul",[a("li",[t._v("webpackä¸­ä½¿ç”¨SplitChunksPluginè¿›è¡Œæ‹†åˆ†ï¼›")]),t._v(" "),a("li",[t._v("æŒ‰é¡µé¢æ‹†åˆ†ï¼šä¸åŒé¡µé¢æ‰“åŒ…æˆä¸åŒçš„æ–‡ä»¶ï¼›")]),t._v(" "),a("li",[t._v("æŒ‰åŠŸèƒ½æ‹†åˆ†ï¼š\n"),a("ul",[a("li",[t._v("å°†ç±»ä¼¼äºæ’­æ”¾å™¨ï¼Œè®¡ç®—åº“ç­‰å¤§æ¨¡å—è¿›è¡Œæ‹†åˆ†åå†æ‡’åŠ è½½å¼•å…¥ï¼›")]),t._v(" "),a("li",[t._v("æå–å¤ç”¨çš„ä¸šåŠ¡ä»£ç ï¼Œå‡å°‘å†—ä½™ä»£ç ï¼›")])])]),t._v(" "),a("li",[t._v("æŒ‰æ–‡ä»¶ä¿®æ”¹é¢‘ç‡æ‹†åˆ†ï¼šå°†ç¬¬ä¸‰æ–¹åº“ç­‰ä¸å¸¸ä¿®æ”¹çš„ä»£ç å•ç‹¬æ‰“åŒ…ï¼Œè€Œä¸”ä¸æ”¹å˜å…¶æ–‡ä»¶hashå€¼ï¼Œèƒ½æœ€å¤§åŒ–è¿ç”¨æµè§ˆå™¨çš„ç¼“å­˜ï¼›")])])]),t._v(" "),a("li",[t._v("scope hoistingï¼šä½œç”¨åŸŸæå‡ï¼Œå°†åˆ†æ•£çš„æ¨¡å—åˆ’åˆ†åˆ°åŒä¸€ä¸ªä½œç”¨åŸŸä¸­ï¼Œé¿å…äº†ä»£ç çš„é‡å¤å¼•å…¥ï¼Œæœ‰æ•ˆå‡å°‘æ‰“åŒ…åçš„ä»£ç ä½“ç§¯å’Œè¿è¡Œæ—¶çš„å†…å­˜æŸè€—ï¼›")]),t._v(" "),a("li",[t._v("ç¼–è¯‘æ€§èƒ½ä¼˜åŒ–ï¼š\n"),a("ul",[a("li",[t._v("å‡çº§è‡³æœ€æ–°ç‰ˆæœ¬çš„webpackï¼Œèƒ½æœ‰æ•ˆæå‡ç¼–è¯‘æ€§èƒ½ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨dev-server/æ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMRï¼‰æå‡å¼€å‘ä½“éªŒï¼›\n"),a("ul",[a("li",[t._v("ç›‘å¬æ–‡ä»¶å˜åŠ¨ å¿½ç•¥node_modulesç›®å½•èƒ½æœ‰æ•ˆæé«˜ç›‘å¬æ—¶çš„ç¼–è¯‘æ•ˆç‡ï¼›")])])]),t._v(" "),a("li",[t._v("ç¼©å°ç¼–è¯‘èŒƒå›´ï¼š\n"),a("ul",[a("li",[t._v("modulesï¼šæŒ‡å®šæ¨¡å—è·¯å¾„ï¼Œå‡å°‘é€’å½’æœç´¢ï¼›")]),t._v(" "),a("li",[t._v("mainFieldsï¼šæŒ‡å®šå…¥å£æ–‡ä»¶æè¿°å­—æ®µï¼Œå‡å°‘æœç´¢")]),t._v(" "),a("li",[t._v("noParseï¼šé¿å…å¯¹éæ¨¡å—åŒ–æ–‡ä»¶çš„åŠ è½½ï¼›")]),t._v(" "),a("li",[t._v("includes/excludeï¼šæŒ‡å®šæœç´¢èŒƒå›´/æ’é™¤ä¸å¿…è¦çš„æœç´¢èŒƒå›´ï¼›")]),t._v(" "),a("li",[t._v("aliasï¼šç¼“å­˜ç›®å½•ï¼Œé¿å…é‡å¤å¯»å€ï¼›")])])]),t._v(" "),a("li",[t._v("babel-loaderï¼š\n"),a("ul",[a("li",[t._v("å¿½ç•¥node_modules,é¿å…ç¼–è¯‘ç¬¬ä¸‰æ–¹åº“ä¸­å·²ç»è¢«ç¼–è¯‘è¿‡çš„ä»£ç ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨cacheDirectory,å¯ä»¥ç¼“å­˜ç¼–è¯‘ç»“æœï¼Œé¿å…å¤šæ¬¡é‡å¤ç¼–è¯‘ï¼›")])])]),t._v(" "),a("li",[t._v("å¤šè¿›ç¨‹å¹¶å‘ï¼š\n"),a("ul",[a("li",[t._v("webpack-parallel-uglify-plugin: å¯å¤šè¿›ç¨‹å¹¶å‘å‹ç¼©jsæ–‡ä»¶ï¼Œæé«˜å‹ç¼©é€Ÿåº¦ï¼›")]),t._v(" "),a("li",[t._v("HappyPackï¼šå¤šè¿›ç¨‹å¹¶å‘æ–‡ä»¶çš„Loaderè§£æï¼›")])])]),t._v(" "),a("li",[t._v("ç¬¬ä¸‰æ–¹åº“æ¨¡å—ç¼“å­˜ï¼š\n"),a("ul",[a("li",[t._v("DLLPluginå’ŒDLLReferencePluginå¯ä»¥æå‰è¿›è¡Œæ‰“åŒ…å¹¶ç¼“å­˜ï¼Œé¿å…æ¯æ¬¡éƒ½é‡æ–°ç¼–è¯‘ï¼›")])])]),t._v(" "),a("li",[t._v("ä½¿ç”¨åˆ†æï¼š\n"),a("ul",[a("li",[t._v("Webpack Analyse/webpack-bundle-analyzerå¯¹æ‰“åŒ…åçš„æ–‡ä»¶è¿›è¡Œåˆ†æï¼Œå¯»æ‰¾å¯ä¼˜åŒ–çš„åœ°æ–¹ï¼›")]),t._v(" "),a("li",[t._v("é…ç½®profileï¼štrueï¼Œå¯¹å„ä¸ªç¼–è¯‘é˜¶æ®µè€—æ—¶è¿›è¡Œç›‘æ§ï¼Œå¯»æ‰¾è€—æ—¶æœ€å¤šçš„åœ°æ–¹ï¼›")])])]),t._v(" "),a("li",[t._v("source-mapï¼š\n"),a("ul",[a("li",[t._v("å¼€å‘ï¼šcheap-module-eval-source-mapï¼›")]),t._v(" "),a("li",[t._v("ç”Ÿäº§ï¼šhidden-source-mapï¼›")])])])])])])])]),t._v(" "),a("h2",{attrs:{id:"é¡¹ç›®æ€§èƒ½ä¼˜åŒ–"}},[t._v("é¡¹ç›®æ€§èƒ½ä¼˜åŒ–")]),t._v(" "),a("h3",{attrs:{id:"_1-ç¼–ç ä¼˜åŒ–"}},[t._v("ğŸ 1.ç¼–ç ä¼˜åŒ–")]),t._v(" "),a("ul",[a("li",[t._v("æ•°æ®è¯»å–:\n"),a("ul",[a("li",[t._v("é€šè¿‡ä½œç”¨åŸŸé“¾ / åŸå‹é“¾ è¯»å–å˜é‡æˆ–æ–¹æ³•æ—¶ï¼Œéœ€è¦æ›´å¤šçš„è€—æ—¶ï¼Œä¸”è¶Šé•¿è¶Šæ…¢ï¼›")]),t._v(" "),a("li",[t._v("å¯¹è±¡åµŒå¥—è¶Šæ·±ï¼Œè¯»å–å€¼ä¹Ÿè¶Šæ…¢ï¼›")]),t._v(" "),a("li",[t._v("æœ€ä½³å®è·µ:\n"),a("ul",[a("li",[t._v("å°½é‡åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­è¿›è¡Œ å˜é‡ç¼“å­˜ï¼›")]),t._v(" "),a("li",[t._v("é¿å…åµŒå¥—è¿‡æ·±çš„æ•°æ®ç»“æ„ï¼Œæ•°æ®æ‰å¹³åŒ– æœ‰åˆ©äºæ•°æ®çš„è¯»å–å’Œç»´æŠ¤ï¼›")])])])])]),t._v(" "),a("li",[t._v("å¾ªç¯: å¾ªç¯é€šå¸¸æ˜¯ç¼–ç æ€§èƒ½çš„å…³é”®ç‚¹ï¼›\n"),a("ul",[a("li",[t._v("ä»£ç çš„æ€§èƒ½é—®é¢˜ä¼šå†å¾ªç¯ä¸­è¢«æŒ‡æ•°å€æ”¾å¤§ï¼›")]),t._v(" "),a("li",[t._v("æœ€ä½³å®è·µ:\n"),a("ul",[a("li",[t._v("å°½å¯èƒ½ å‡å°‘å¾ªç¯æ¬¡æ•°ï¼›\n"),a("ul",[a("li",[t._v("å‡å°‘éå†çš„æ•°æ®é‡ï¼›")]),t._v(" "),a("li",[t._v("å®Œæˆç›®çš„åé©¬ä¸Šç»“æŸå¾ªç¯ï¼›")])])]),t._v(" "),a("li",[t._v("é¿å…åœ¨å¾ªç¯ä¸­æ‰§è¡Œå¤§é‡çš„è¿ç®—ï¼Œé¿å…é‡å¤è®¡ç®—ï¼Œç›¸åŒçš„æ‰§è¡Œç»“æœåº”è¯¥ä½¿ç”¨ç¼“å­˜ï¼›")]),t._v(" "),a("li",[t._v("js ä¸­ä½¿ç”¨ å€’åºå¾ªç¯ ä¼šç•¥å¾®æå‡æ€§èƒ½ï¼›")]),t._v(" "),a("li",[t._v("å°½é‡é¿å…ä½¿ç”¨ for-in å¾ªç¯ï¼Œå› ä¸ºå®ƒä¼šæšä¸¾åŸå‹å¯¹è±¡ï¼Œè€—æ—¶å¤§äºæ™®é€šå¾ªç¯ï¼›")])])])])]),t._v(" "),a("li",[t._v("æ¡ä»¶æµç¨‹æ€§èƒ½: Map / Object > switch > if-else")]),t._v(" "),a("li",[t._v("å‡å°‘ cookie ä½“ç§¯: èƒ½æœ‰æ•ˆå‡å°‘æ¯æ¬¡è¯·æ±‚çš„ä½“ç§¯å’Œå“åº”æ—¶é—´ï¼›\n"),a("ul",[a("li",[t._v("å»é™¤ä¸å¿…è¦çš„ cookieï¼›")]),t._v(" "),a("li",[t._v("å‹ç¼© cookie å¤§å°ï¼›")]),t._v(" "),a("li",[t._v("è®¾ç½® domain ä¸ è¿‡æœŸæ—¶é—´ï¼›")])])]),t._v(" "),a("li",[t._v("dom ä¼˜åŒ–:\n"),a("ul",[a("li",[t._v("å‡å°‘è®¿é—® dom çš„æ¬¡æ•°ï¼Œå¦‚éœ€å¤šæ¬¡ï¼Œå°† dom ç¼“å­˜äºå˜é‡ä¸­ï¼›")]),t._v(" "),a("li",[t._v("å‡å°‘é‡ç»˜ä¸å›æµ:\n"),a("ul",[a("li",[t._v("å¤šæ¬¡æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡ï¼›")]),t._v(" "),a("li",[t._v("å‡å°‘å¯¹è®¡ç®—å±æ€§çš„è®¿é—®ï¼›\n"),a("ul",[a("li",[t._v("ä¾‹å¦‚ offsetTopï¼Œ getComputedStyle ç­‰")]),t._v(" "),a("li",[t._v("å› ä¸ºæµè§ˆå™¨éœ€è¦è·å–æœ€æ–°å‡†ç¡®çš„å€¼ï¼Œå› æ­¤å¿…é¡»ç«‹å³è¿›è¡Œé‡æ’ï¼Œè¿™æ ·ä¼šç ´åäº†æµè§ˆå™¨çš„é˜Ÿåˆ—æ•´åˆï¼Œå°½é‡å°†å€¼è¿›è¡Œç¼“å­˜ä½¿ç”¨ï¼›")])])]),t._v(" "),a("li",[t._v("å¤§é‡æ“ä½œæ—¶ï¼Œå¯å°† dom è„±ç¦»æ–‡æ¡£æµæˆ–è€…éšè—ï¼Œå¾…æ“ä½œå®Œæˆåå†é‡æ–°æ¢å¤ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨DocumentFragment / cloneNode / replaceChildè¿›è¡Œæ“ä½œï¼›")])])]),t._v(" "),a("li",[t._v("ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼Œé¿å…å¤§é‡çš„äº‹ä»¶ç»‘å®šï¼›")])])]),t._v(" "),a("li",[t._v("css ä¼˜åŒ–:\n"),a("ul",[a("li",[t._v("å±‚çº§æ‰å¹³ï¼Œé¿å…è¿‡äºå¤šå±‚çº§çš„é€‰æ‹©å™¨åµŒå¥—ï¼›")]),t._v(" "),a("li",[t._v("ç‰¹å®šçš„é€‰æ‹©å™¨ å¥½è¿‡ä¸€å±‚ä¸€å±‚æŸ¥æ‰¾:  .xxx-child-text{} ä¼˜äº .xxx .child .text{}")]),t._v(" "),a("li",[t._v("å‡å°‘ä½¿ç”¨é€šé…ç¬¦ä¸å±æ€§é€‰æ‹©å™¨ï¼›")]),t._v(" "),a("li",[t._v("å‡å°‘ä¸å¿…è¦çš„å¤šä½™å±æ€§ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ åŠ¨ç”»å±æ€§ å®ç°åŠ¨ç”»ï¼ŒåŠ¨ç”»æ—¶è„±ç¦»æ–‡æ¡£æµï¼Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œä¼˜å…ˆä½¿ç”¨ css åŠ¨ç”»ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ "),a("code",[t._v("<link>")]),t._v("æ›¿ä»£åŸç”Ÿ @importï¼›")])])]),t._v(" "),a("li",[t._v("html ä¼˜åŒ–:\n"),a("ul",[a("li",[t._v("å‡å°‘ dom æ•°é‡ï¼Œé¿å…ä¸å¿…è¦çš„èŠ‚ç‚¹æˆ–åµŒå¥—ï¼›")]),t._v(" "),a("li",[t._v("é¿å…"),a("code",[t._v('<img src="" />')]),t._v("ç©ºæ ‡ç­¾ï¼Œèƒ½å‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œå› ä¸º src ä¸ºç©ºæ—¶ï¼Œæµè§ˆå™¨ä»ç„¶ä¼šå‘èµ·è¯·æ±‚\n"),a("ul",[a("li",[t._v("IE å‘é¡µé¢æ‰€åœ¨çš„ç›®å½•å‘é€è¯·æ±‚ï¼›")]),t._v(" "),a("li",[t._v("Safariã€Chromeã€Firefox å‘é¡µé¢æœ¬èº«å‘é€è¯·æ±‚ï¼›")]),t._v(" "),a("li",[t._v("Opera ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚")])])]),t._v(" "),a("li",[t._v("å›¾ç‰‡æå‰ æŒ‡å®šå®½é«˜ æˆ–è€… è„±ç¦»æ–‡æ¡£æµï¼Œèƒ½æœ‰æ•ˆå‡å°‘å› å›¾ç‰‡åŠ è½½å¯¼è‡´çš„é¡µé¢å›æµï¼›")]),t._v(" "),a("li",[t._v("è¯­ä¹‰åŒ–æ ‡ç­¾ æœ‰åˆ©äº SEO ä¸æµè§ˆå™¨çš„è§£ææ—¶é—´ï¼›")]),t._v(" "),a("li",[t._v("å‡å°‘ä½¿ç”¨ table è¿›è¡Œå¸ƒå±€ï¼Œé¿å…ä½¿ç”¨"),a("code",[t._v("<br />")]),t._v("ä¸"),a("code",[t._v("<hr />")]),t._v("ï¼›")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-é¡µé¢åŸºç¡€ä¼˜åŒ–"}},[t._v("ğŸ 2.é¡µé¢åŸºç¡€ä¼˜åŒ–")]),t._v(" "),a("ul",[a("li",[t._v("å¼•å…¥ä½ç½®: css æ–‡ä»¶"),a("code",[t._v("<head>")]),t._v("ä¸­å¼•å…¥ï¼Œ js æ–‡ä»¶"),a("code",[t._v("<body>")]),t._v("åº•éƒ¨å¼•å…¥ï¼›\n"),a("ul",[a("li",[t._v("å½±å“é¦–å±çš„ï¼Œä¼˜å…ˆçº§å¾ˆé«˜çš„ js ä¹Ÿå¯ä»¥å¤´éƒ¨å¼•å…¥ï¼Œç”šè‡³å†…è”ï¼›")])])]),t._v(" "),a("li",[t._v("å‡å°‘è¯·æ±‚ (http 1.0 - 1.1)ï¼Œåˆå¹¶è¯·æ±‚ï¼Œæ­£ç¡®è®¾ç½® http ç¼“å­˜ï¼›")]),t._v(" "),a("li",[t._v("å‡å°‘æ–‡ä»¶ä½“ç§¯:\n"),a("ul",[a("li",[t._v("åˆ é™¤å¤šä½™ä»£ç :\n"),a("ul",[a("li",[t._v("tree-shaking")]),t._v(" "),a("li",[t._v("UglifyJs")]),t._v(" "),a("li",[t._v("code-spliting")])])]),t._v(" "),a("li",[t._v("æ··æ·† / å‹ç¼©ä»£ç ï¼Œå¼€å¯ gzip å‹ç¼©ï¼›")]),t._v(" "),a("li",[t._v("å¤šä»½ç¼–è¯‘æ–‡ä»¶æŒ‰æ¡ä»¶å¼•å…¥:\n"),a("ul",[a("li",[t._v("é’ˆå¯¹ç°ä»£æµè§ˆå™¨ç›´æ¥ç»™ ES6 æ–‡ä»¶ï¼Œåªé’ˆå¯¹ä½ç«¯æµè§ˆå™¨å¼•ç”¨ç¼–è¯‘åçš„ ES5 æ–‡ä»¶ï¼›")]),t._v(" "),a("li",[t._v("å¯ä»¥åˆ©ç”¨"),a("code",[t._v('<script type="module"> / <script type="module">')]),t._v("è¿›è¡Œæ¡ä»¶å¼•å…¥ç”¨")])])]),t._v(" "),a("li",[t._v("åŠ¨æ€ polyfillï¼Œåªé’ˆå¯¹ä¸æ”¯æŒçš„æµè§ˆå™¨å¼•å…¥ polyfillï¼›")])])]),t._v(" "),a("li",[t._v("å›¾ç‰‡ä¼˜åŒ–:\n"),a("ul",[a("li",[t._v("æ ¹æ®ä¸šåŠ¡åœºæ™¯ï¼Œä¸UIæ¢è®¨é€‰æ‹© åˆé€‚è´¨é‡ï¼Œåˆé€‚å°ºå¯¸ï¼›")]),t._v(" "),a("li",[t._v("æ ¹æ®éœ€æ±‚å’Œå¹³å°ï¼Œé€‰æ‹© åˆé€‚æ ¼å¼ï¼Œä¾‹å¦‚éé€æ˜æ—¶å¯ç”¨ jpgï¼›éè‹¹æœç«¯ï¼Œä½¿ç”¨ webpï¼›")]),t._v(" "),a("li",[t._v("å°å›¾ç‰‡åˆæˆ é›ªç¢§å›¾ï¼Œä½äº 5K çš„å›¾ç‰‡å¯ä»¥è½¬æ¢æˆ base64 å†…åµŒï¼›")]),t._v(" "),a("li",[t._v("åˆé€‚åœºæ™¯ä¸‹ï¼Œä½¿ç”¨ iconfont æˆ–è€… svgï¼›")])])]),t._v(" "),a("li",[t._v("ä½¿ç”¨ç¼“å­˜:\n"),a("ul",[a("li",[t._v("æµè§ˆå™¨ç¼“å­˜: é€šè¿‡è®¾ç½®è¯·æ±‚çš„è¿‡æœŸæ—¶é—´ï¼Œåˆç†è¿ç”¨æµè§ˆå™¨ç¼“å­˜ï¼›")]),t._v(" "),a("li",[t._v("CDNç¼“å­˜: é™æ€æ–‡ä»¶åˆç†ä½¿ç”¨ CDN ç¼“å­˜æŠ€æœ¯ï¼›\n"),a("ul",[a("li",[t._v("HTML æ”¾äºè‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼›")]),t._v(" "),a("li",[t._v("æ‰“åŒ…åçš„å›¾ç‰‡ / js / css ç­‰èµ„æºä¸Šä¼ åˆ° CDN ä¸Šï¼Œæ–‡ä»¶å¸¦ä¸Š hash å€¼ï¼›")]),t._v(" "),a("li",[t._v("ç”±äºæµè§ˆå™¨å¯¹å•ä¸ªåŸŸåè¯·æ±‚çš„é™åˆ¶ï¼Œå¯ä»¥å°†èµ„æºæ”¾åœ¨å¤šä¸ªä¸åŒåŸŸçš„ CDN ä¸Šï¼Œå¯ä»¥ç»•å¼€è¯¥é™åˆ¶ï¼›")])])]),t._v(" "),a("li",[t._v("æœåŠ¡å™¨ç¼“å­˜: å°†ä¸å˜çš„æ•°æ®ã€é¡µé¢ç¼“å­˜åˆ° å†…å­˜ æˆ– è¿œç¨‹å­˜å‚¨(redisç­‰) ä¸Šï¼›")]),t._v(" "),a("li",[t._v("æ•°æ®ç¼“å­˜: é€šè¿‡å„ç§å­˜å‚¨å°†ä¸å¸¸å˜çš„æ•°æ®è¿›è¡Œç¼“å­˜ï¼Œç¼©çŸ­æ•°æ®çš„è·å–æ—¶é—´ï¼›")])])])]),t._v(" "),a("h3",{attrs:{id:"_3-é¦–å±æ¸²æŸ“ä¼˜åŒ–"}},[t._v("ğŸ 3.é¦–å±æ¸²æŸ“ä¼˜åŒ–")]),t._v(" "),a("ul",[a("li",[t._v("css / js åˆ†å‰²ï¼Œä½¿é¦–å±ä¾èµ–çš„æ–‡ä»¶ä½“ç§¯æœ€å°ï¼Œå†…è”é¦–å±å…³é”® css / jsï¼›")]),t._v(" "),a("li",[t._v("éå…³é”®æ€§çš„æ–‡ä»¶å°½å¯èƒ½çš„ å¼‚æ­¥åŠ è½½å’Œæ‡’åŠ è½½ï¼Œé¿å…é˜»å¡é¦–é¡µæ¸²æŸ“ï¼›")]),t._v(" "),a("li",[t._v("ä½¿ç”¨"),a("code",[t._v("dns-prefetch / preconnect / prefetch / preload")]),t._v("ç­‰æµè§ˆå™¨æä¾›çš„èµ„æºæç¤ºï¼ŒåŠ å¿«æ–‡ä»¶ä¼ è¾“ï¼›")]),t._v(" "),a("li",[t._v("è°¨æ…æ§åˆ¶å¥½ Webå­—ä½“ï¼Œä¸€ä¸ªå¤§å­—ä½“åŒ…è¶³å¤Ÿè®©ä½ åŠŸäºä¸€ç¯‘ï¼›\n"),a("ul",[a("li",[t._v("æ§åˆ¶å­—ä½“åŒ…çš„åŠ è½½æ—¶æœºï¼›")]),t._v(" "),a("li",[t._v("å¦‚æœä½¿ç”¨çš„å­—ä½“æœ‰é™ï¼Œé‚£å°½å¯èƒ½åªå°†ä½¿ç”¨çš„æ–‡å­—å•ç‹¬æ‰“åŒ…ï¼Œèƒ½æœ‰æ•ˆå‡å°‘ä½“ç§¯ï¼›")])])]),t._v(" "),a("li",[t._v("åˆç†åˆ©ç”¨ Localstorage / server-worker ç­‰å­˜å‚¨æ–¹å¼è¿›è¡Œ æ•°æ®ä¸èµ„æºç¼“å­˜ï¼›")]),t._v(" "),a("li",[t._v("åˆ†æ¸…è½»é‡ç¼“æ€¥:\n"),a("ul",[a("li",[t._v("é‡è¦çš„å…ƒç´ ä¼˜å…ˆæ¸²æŸ“ï¼›")]),t._v(" "),a("li",[t._v("è§†çª—å†…çš„å…ƒç´ ä¼˜å…ˆæ¸²æŸ“ï¼›")])])]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯æ¸²æŸ“(SSR):\n"),a("ul",[a("li",[t._v("å‡å°‘é¦–å±éœ€è¦çš„æ•°æ®é‡ï¼Œå‰”é™¤å†—ä½™æ•°æ®å’Œè¯·æ±‚ï¼›")]),t._v(" "),a("li",[t._v("æ§åˆ¶å¥½ç¼“å­˜ï¼Œå¯¹æ•°æ®/é¡µé¢è¿›è¡Œåˆç†çš„ç¼“å­˜ï¼›")]),t._v(" "),a("li",[t._v("é¡µé¢çš„è¯·æ±‚ä½¿ç”¨æµçš„å½¢å¼è¿›è¡Œä¼ é€’ï¼›")])])]),t._v(" "),a("li",[t._v("ä¼˜åŒ–ç”¨æˆ·æ„ŸçŸ¥:\n"),a("ul",[a("li",[t._v("åˆ©ç”¨ä¸€äº›åŠ¨ç”» è¿‡æ¸¡æ•ˆæœï¼Œèƒ½æœ‰æ•ˆå‡å°‘ç”¨æˆ·å¯¹å¡é¡¿çš„æ„ŸçŸ¥ï¼›")]),t._v(" "),a("li",[t._v("å°½å¯èƒ½åˆ©ç”¨ éª¨æ¶å±(Placeholder) / Loading ç­‰å‡å°‘ç”¨æˆ·å¯¹ç™½å±çš„æ„ŸçŸ¥ï¼›")]),t._v(" "),a("li",[t._v("åŠ¨ç”»å¸§æ•°å°½é‡ä¿è¯åœ¨ 30å¸§ ä»¥ä¸Šï¼Œä½å¸§æ•°ã€å¡é¡¿çš„åŠ¨ç”»å®æ„¿ä¸è¦ï¼›")]),t._v(" "),a("li",[t._v("js æ‰§è¡Œæ—¶é—´é¿å…è¶…è¿‡ 100msï¼Œè¶…è¿‡çš„è¯å°±éœ€è¦åš:\n"),a("ul",[a("li",[t._v("å¯»æ‰¾å¯ ç¼“å­˜ çš„ç‚¹ï¼›")]),t._v(" "),a("li",[t._v("ä»»åŠ¡çš„ åˆ†å‰²å¼‚æ­¥ æˆ– web worker æ‰§è¡Œï¼›")])])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);